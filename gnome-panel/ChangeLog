2002-01-26  Ian McKellar  <yakk@yakk.net>

	* panel-widget.c: (panel_widget_setup_translucent_background),
	(setup_background):
	Fixed some extremely dumb leaks. I suck. Hate me.

2002-01-26  Roy-Magne Mo  <rmo@sunnmore.net>

	* panel.hints: Adding a lang tag to panel.hints that seems to
	have been forgotten.

2002-01-25  Kjartan Maraas  <kmaraas@gnome.org>

	* help/C/panel.sgml: Reference /usr/bin/poweroff and /usr/bin/reboot
	since these are the binaries used.
	
2002-01-22  Kjartan Maraas  <kmaraas@gnome.org>

	* logout.c: Apply a patch to fix a race on logout that caused
	applets to be removed from the panel. From Mike Whitson
	<mwhitson@mit.edu>.
	
2002-01-21  Kjartan Maraas  <kmaraas@gnome.org>

	* foobar-widget.c: Apply patch from Carlos Perelló Marín to make
	it easier to see what is 12 hour and 24 hour clock. Fixes #66912.
	
2002-01-09  Kjartan Maraas  <kmaraas@gnome.org>

	* help/de/panel.sgml: Fix typo. From Shingo Akagaki <doro@kondara.org>.
	* help/ja/panel.sgml: Same.
	
Thu Jan 03 12:28:10 2002  George Lebl <jirka@5z.com>

	* gnome-run.c: fix a memleak

	* basep-widget.c: fix a possible GList free list corruption bug

2001-12-04  Kjartan Maraas  <kmaraas@gnome.org>

	* help/no/panel.sgml: Finish up this one.
	* foobar-widget.c: Fix some typos and make bugzilla be the
	bugtracking system, not bugs.gnome.org :)
	
2001-11-22  Roy-Magne Mo  <rmo@sunnmore.net>

	* panel.hints: Add Norwegian nynorsk strings.

Fri Nov 16 19:56:56 2001  George Lebl <jirka@5z.com>

	* gnome-run.c: fix a crash when running a program in terminal
	  from the runbox

2001-09-26  Christian Rose  <menthos@menthos.com>

	* panel.hints: Fix reported "medans" typo.

2001-09-10  Kjartan Maraas  <kmaraas@gnome.org>

	* config/Makefile.am: distcheck fixes.
	
2001-09-04  Abel Cheung  <maddog@linux.org.hk>

	* panel.hints: Rename zh_TW.Big5 to zh_TW .

2001-08-31  Kevin Vandersloot <kfv101@psu.edu>

	* panel_widget.c (panel_widget_get_free_space): fix 
	initializing of right, left ints. They were switched. This
	fixes the case where the tasklist wouldn't honor the
	"Only use empty space" option.

2001-08-03  Abel Cheung  <maddog@linux.org.hk>

	* *.{hints,soundlist}: Added traditional Chinese strings.
	
2001-08-02  Havoc Pennington  <hp@pobox.com>

	* xstuff.c (xstuff_set_wmspec_dock_hints): Set the 
	_NET_WM_WINDOW_TYPE

	* basep-widget.c (basep_widget_update_winhints): call
	xstuff_set_wmspec_dock_hints()
	
2001-08-03  Kjartan Maraas  <kmaraas@gnome.org>

	* *.[desktop,soundlist]: Added Nynorsk translation.
	
Fri Jul 20 06:08:58 2001  George Lebl <jirka@5z.com>

	* basep-widget.c: apply patch from Dave Dribin <dave@dribin.org>
	  to hack around some hints evilness.  The correct thin would be to
	  debug the hints, but there is no time for that now.

2001-07-17  Aaron Weber  <aaron@ximian.com>

	* panel.hints: Wrong repository. D'oh.

2001-07-17  Aaron Weber  <aaron@ximian.com>

	* panel.hints: Removed references to "Main Menu;" hints should now
	be functional and useful no matter what version of GNOME is in
	use.  This will, unfortunately, require some new translations. :(

2001-07-05  Manuel de Vega Barreiro <mbarreiro@red.madritel.es> 

	* panel/help: New Sanish translation.

Thu Jul 05 16:11:32 2001  George Lebl <jirka@5z.com>

	* main.c, extern.c: Removed a race, don't start adding applets from a
	  corba interface until we're all started up

Thu Jul 05 15:46:36 2001  George Lebl <jirka@5z.com>

	* menu.c: applied a patch from ghudson@mit.edu (Greg Hudson) to fix
	  add to panel with NO_XALF included

Fri Jun 29 18:32:57 2001  George Lebl <jirka@5z.com>

	* basep-widget.c:  fix hide position getting to fix hidden small
	  panels being out of place

Thu Jun 28 13:03:45 2001  George Lebl <jirka@5z.com>

	* main.[ch], menu.c, gnome-run.c:  Make screen checking optional,
	  which should make telsa happy.

Fri Jun 22 23:15:50 2001  George Lebl <jirka@5z.com>

	* menu.c, gnome-panel-properties.c, panel_config_global.h,
	  session.c: Make menu titles optional and off by default.  In
	  the right click menu add a submenu for "Entire menu" so that
	  one can have most of the funcationality that menu titles had
	  without them

	* menu.[ch], menu-fentry.h, foobar-widget.c, gnome-run.c: make an
	  add to favourites menu item to make favourites easier to use

	* menu.c: fix try_pixmap function to setup correct size, this fixes
	  the problem of distribution menus being small even when icons are
	  large

2001-06-07  Christian Rose  <menthos@menthos.com>

	* panel/panel.soundlist: Added Swedish translation.

2001-06-06  Anders Carlsson  <andersca@codefactory.se>

	* gnome-panel-screenshot.c (add_file_to_path): If we have a
	class_name that is not NULL, append it to the file name.
	(find_toplevel_window): New function to find a toplevel window,
	ie the window that stores the WM_CLASS hint that we want
	to use.
	(take_window_shot): Check if the window being captured has
	got a toplevel that has a WM_CLASS hint defined and get the
	window class name from it in that case.
	(drag_begin): Add the screenshot preview as a drag icon
	pixmap.

Mon Jun  4 22:49:13 2001  Jonathan Blandford  <jrb@webwynk.net>

	* gnome-panel-screenshot.c (print_pixbuf): Small change to set
	watch/sensitivity for print dialog when doing a print preview.

Tue Jun 05 03:03:58 2001  George Lebl <jirka@5z.com>

	* gnome-panel-screenshot.c: Use a temporary directory rather then
	  just a file, this has two advantages, better (read more securely)
	  deals with things like nautilus yanking things from under us, and
	  second is that we get prettier filenames.

Tue Jun 05 02:20:07 2001  George Lebl <jirka@5z.com>

	* Makefile.am, gnome-panel-screenshot.c: Enabled the printing stuff

	* gnome-panel-screenshot.c: Add the nautilus icon drag type and
	  handle the case where nautilus despite our best efforts decides to
	  move the temporary file rather then copy it.

Mon Jun 04 23:55:44 2001  George Lebl <jirka@5z.com>

	* gnome-panel-screenshot.c: Add dnd (that is drag) to the screenshot
	  applet, lots of cool and evil foo to create a temporary file
	  asynchroniously and then maybe use it when saving etc... still some
	  bits a bit rough but generally works well.  To make this seem
	  very snappy it starts saving the file immediately which is useless if
	  the user wants to print the darn thing or cancel.

Mon Jun 04 20:25:54 2001  George Lebl <jirka@5z.com>

	* gnome-panel-screenshot.c: select the filename and setup activate
	  on the save entry so that it's easy and fast to control with the
	  keyboard.  Also when busy make the window insensitive to give
	  better feedback that things are happening.

Fri Jun 01 16:20:15 2001  George Lebl <jirka@5z.com>

	* panel-widget.c: when stoppong movement 1) ignore the press when
	  we are still in movement mode and wipe the "event" signal, and 2)
	  on release wipe the "event" signal yet again.  This way moving 
	  menu buttons from right click menu actually works.

Thu May 31 00:12:53 2001  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c, session.c, config/panel.global:  Add the
	  window screenshot key to the default config and make the default
	  Shift-Print

Thu May 31 00:08:43 2001  George Lebl <jirka@5z.com>

	* global-keys.[ch], gnome-panel-properties.c: fix the usage of the
	  mod stuff, ignore bad mods in the crapplet, and properly check
	  state in the checking code.  Overall, evil shit, but it now
	  actually works.

Thu May 31 02:53:51 2001  Jonathan Blandford  <jrb@redhat.com>

	* gnome-panel-screenshot.c (take_window_shot): bug fix for when
	the cursor's over the root window.

Wed May 30 23:28:48 2001  George Lebl <jirka@5z.com>

	* session.c, gnome-panel-properties.c, panel_config_global.h,
	  global-keys.c:  Add a Control-Print binding for taking a screenshot
	  of a specific window.

Wed May 30 22:56:57 2001  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c, gnome-panel-screenshot.(c|glade|glade.h),
	  Makefile.am, session.c, global-keys.c, panel_config_global.h:  Add
	  the screenshot key with default to the print screen key ("Print").
	  The screenshot program was written by Jonathan Blandford 
	  <jrb@redhat.com> and it rocks!  The printing stuff is now disabled
	  pending come more configure foo to detect and optionally link with
	  gnome-print.

Tue May 29 19:23:10 2001  George Lebl <jirka@5z.com>

	* gnome-run.c: load pixmaps correctly, when loading icon from dentry
	  look into the pixmap dir as well, check for NULLs at the right
	  places and use /panel/State rather then /panel/Config for the state
	  of the advanced toggle setting thingie

Tue May 29 19:07:40 2001  George Lebl <jirka@5z.com>

	* Makefile.am, conditional.[ch], gnome-panel-properties.c,
	  launcher.c, main.c, config/Applet_Config, config/Makefile.am,
	  config/panel.config, config/panel.global: Put the default config
	  into a set of installed files rather then hardcoded.  The failsafe
	  default is a bottom panel with a menu, it should also probably
	  complain in that case.

	* session.c: Allow per user control of which users are restricted or
	  unrestricted, and change the name of the section to Restrictions

2001-05-29  Havoc Pennington  <hp@redhat.com>

	* gnome-run.c: Add a list of desktop entries, and "advanced mode"
	for the old behavior

	* menu.c: add panel_add_favorite() function

	* menu-fentry.c: add a way to list all loaded dirs
	
Tue May 29 00:55:34 2001  George Lebl <jirka@5z.com>

	* menu.c, drawer.c, extern.c, launcher.c, logout.c, session.c:  Never
	  set commie mode or no runbox mode on root.  Don't add the
	  preferences/properties menuitems, even for external applets.

Mon May 28 23:38:29 2001  George Lebl <jirka@5z.com>

	* Applying patch:

Sun May 27 16:14:44 2001  Michal Palczewski <mpalczew@u.washington.edu>

	* tasklist_icon.c: fix memory leak in 

Mon May 28 02:50:50 2001  George Lebl <jirka@5z.com>

	* xstuff.[ch], basep-widget.c, foobar-widget.c:  Set the USSize and
	  USPosition hints, as well as the Min/Max size hints to disallow
	  resizing.

Sun May 27 18:30:42 2001  George Lebl <jirka@5z.com>

	* Makefile.am, session.[ch], menu.c, gnome-panel-properties.c,
	  main.c, applet.c, gnome-run.c, panel-widget.c, panel.c: Implement
	  reading of defaults from a global directory.  At some close point
	  in the future the default config will be made a set of files and
	  installed and the default config that's hardcoded will disappear
	  (become something simple for failsafe reasons).  Also add a
	  LockDown (commie mode) and a NoRunBox configuration stuff for anal
	  sysadmins and kiosks.  It's untested, except that it doesn't
	  interfere with normal operation.

	* conditional.c: change "Conditional" to ":Conditional" since that
	  makes files nicer

Fri May 25 14:36:29 2001  George Lebl <jirka@5z.com>

	* foobar-widget.c: don't use the global for the clock_ebox

Fri May 25 00:52:35 2001  George Lebl <jirka@5z.com>

	* Makefile.am, conditional.[ch], gnome-panel-properties.c, session.c,
	  menu.c:  Support a "Conditional" key on panel, tearoff menu and
	  applet definitions and implement an conditional key getting if the
	  normal key doesn't work.  The conditions are a fairly full featured
	  C like conditions with currently not too many possible values.
	  This is the first step in making the default config be not
	  hardcoded.

Tue May 22 20:08:06 2001  George Lebl <jirka@5z.com>

	* main.c: fish get scared if you click at them and I hate studying
	  for finals

Tue May 22 01:15:26 2001  George Lebl <jirka@5z.com>

	* gnome-run.c, menu.c, panel_config.c: multiscreen polishing and
	  fixes

Sun May 20 01:31:57 2001  George Lebl <jirka@5z.com>

	* menu.c: include math.h before gnome.h, patch from
	  mcnichol@austin.ibm.com (Dan McNichol) to make it compile on
	  some IBM compiler thingie

Sun May 20 00:26:47 2001  George Lebl <jirka@5z.com>

	* applet.c, menu.[ch], foobar-widget.c, scroll-menu.c:  Display menus
	  on their respective screens

	* basep-widget.c, xstuff.c: Fix border recalculation and the root
	  property setting

	* sliding-widget.c: Fix moving on offset screens

	* panel-util.c: when finding things in path, use access with X_OK
	  rather then the exists function which uses F_OK

Sat May 19 18:49:00 2001  George Lebl <jirka@5z.com>

	* multiscreen-stuff.c: fix dranbamage from cut and paste

Sat May 19 16:56:43 2001  George Lebl <jirka@5z.com>

	* aligned-widget.c, foobar-widget.c, basep-widget.[ch], session.c,
	  xstuff.[ch], edge-widget.c, multiscreen-stuff.c:  do the screen
	  border calculation and finally add the xinerama code, and
	  other final multiscreen touches.  So by default now xinerama dudes
	  get a multiscreen setup.

Sat May 19 02:17:18 2001  George Lebl <jirka@5z.com>

	* menu.c: create panels on the proper screen

	* session.c: sanitize screen

	* multiscreen-stuff.c: When we get an out of range screen number,
	  give offscreen values.  Also use an env var to setup the fake
	  xinerama setup for eaze of debugging.

	* foobar-widget.c: redo the multiscreenazition to be more tolerant
	  of errors, and work with things on non existent screens.

	* panel_config.[ch]: Add the widgetry for screen number and add the
	  avoid maximize to all proper panels

Fri May 18 02:44:47 2001  George Lebl <jirka@5z.com>

	* aligned-widget.[ch], basep-widget.[ch], border-widget.[ch],
	  drawer-widget.c, edge-widget.[ch], floating-widget.[ch],
	  foobar-widget.[ch], menu.c, multiscreen-stuff.[ch],
	  panel_config.[ch], session.c, sliding-widget.[ch]: Add the 
	  screen parameter to the change params and new functions, and load
	  and save it.  Also multiscreenize the foobar a bit.

Sun May 13 02:45:01 2001  Chema Celorio  <chema@celorio.com>

	* foobar-widget.c (append_clock_menu): look for time-admin, if it is
	in path, add a menu item for "Set Time".
	(set_time_cb): implement

Sun May 13 01:13:46 2001  George Lebl <jirka@5z.com>

	* session.c: when reading the main menu flags use the default flags
	  function so that we also get the distribution menu if available

Sat May 12 19:22:39 2001  George Lebl <jirka@5z.com>

	* aligned-widget.c, basep-widget.[ch], sliding-widget.c,
	  multiscree-stuff.[ch], edge-widget.c, border-widget.c,
	  floating-widget.c, menu.c, menu-util.c, panel.c, drawer-widget.c:
	  Further multiscreenization, floating and drawer correctly
	  multiscreenized and dragging of panels between screens working,
	  menus fixed for clamping on offset screens

	* foobar-widget.c: warning fix

	* menu.c: Add tooltips to some items

Fri May 11 18:20:39 2001  George Lebl <jirka@5z.com>

	* edge-widget.c, sliding-widget.c, multiscreen-stuff.h: multiscreened
	  edge and sliding widget moving.  However only tested for single
	  screen case which which works unchanged.

Tue May 08 15:39:54 2001  George Lebl <jirka@5z.com>

	* foobar-widget.[ch]:  When the separator is on the end of the task menu
	  kill it.  When a window loses focus or is killed wipe the icon in
	  tasklist corner thing.

Tue May 08 12:41:41 2001  George Lebl <jirka@5z.com>

	* extern.c, foobar-widget.c, gnome-panel-properties.c, launcher.c,
	  logout.c, menu-rh.c, menu.c, panel-util.c, panel.c:  Increase
	  the paranoia level when dealing with strings.  Add an assload of
	  checks for NULLs some preconditions asserts and warnings, possibly
	  fixing some cornercase crashes.

	* foobar-widget.c: Fix the "clicked on foobar tasklist and things
	  crashed" bug

	* menu-fentry.c:  Fix the crashes on startup bug (the /tmp/languages
	  bug).  I should be publically flogged for this one.

Tue May 08 01:45:32 2001  George Lebl <jirka@5z.com>

	* launcher.c: some cleanup, and be paranoid about dentry we get
	  from dentry edit and rather hoard it

	* menu.c: We were forgetting to hoard launchers when adding from
	  the launcher adding menu.  DUH!  Fixes #53626

Mon May 07 17:13:35 2001  George Lebl <jirka@5z.com>

	* icon-entry-hack.c: fix selection dialog issues

Mon May 07 19:44:49 2001  George Lebl <jirka@5z.com>

	* icon-entry-hack.c: attempt at fixingone of the icon entry issues.
	  It may have been easier to just rewrite the damn thing.

Thu May 03 18:29:11 2001  George Lebl <jirka@5z.com>

	* menu-fentry.c: use the strcasecmp_no_locale function as the normal
	  one sucks donkeydung in some locales.

Thu May 03 00:08:22 2001  George Lebl <jirka@5z.com>

	* aligned-widget.c: dragging an aligned widget around an offset
	  screen now works

	* basep-widget.[ch]: add a screen_change signal

	* border-widget.c: minor cleanup

	* menu-fentry.c: fix a warning

Sun Apr 29 03:30:12 2001  George Lebl <jirka@5z.com>

	* extern.c: cut down the "loading applet" icon to 14x14 since 18
	  was still too big for drivemounts.

Thu Apr 26 16:30:33 2001  George Lebl <jirka@5z.com>

	* menu.c: fix a typo

Tue Apr 24 19:09:55 2001  George Lebl <jirka@5z.com>

	* Applying some of the ximian patches

	* menu-fentry.c:  in fr_is_subdir, check for nullity or
	  emptiness of the superdir

	* foobar-widget.c, tasklist_icon.c:  Shade iconified tasks in
	  the foobar tasklist

	* menu.c:  Add "Edit menus..." item to the "Panel" menu

	* menu-fentry.[ch], menu.c:  Allow a "Separator" .desktop type
	  to properly read the ximian menus apparently

	* menu.c:  Use gnome/apps rather then gnome/apps/ for adding
	  menus to panel

Tue Apr 24 13:55:29 2001  George Lebl <jirka@5z.com>

	* session.c: If we can find an installed mozilla desktop file,
	  then use it for the default config.  Only if we fail use the
	  Netscape.desktop, which will by default launch mozilla anyway,
	  but has a tendency to confuse RMS.  Which reminds me the
	  Netscape.desktop.

Tue Apr 24 13:41:08 2001  George Lebl <jirka@5z.com>

	* session.c:  Most people hate the lock/logout buttons for their
	  uselessness.  So in the default config I replaced it with the
	  most useful applet of them all.  Fish.

Sun Apr 22 21:59:04 2001  George Lebl <jirka@5z.com>

	* extern.[ch]:  When an applet doesn't want session saving, don't
	  bother trying to restart it.

	* extern.[ch], session.c, panel.c, menu.c, launcher.c, applet.c:
	  Save last location for a goad_id, and if an applet was started
	  without specifying a position, then use this one.  This makes say
	  the xchat applet always show up at the same place.  It also
	  makes re-adding applets smarter.

Sun Apr 22 20:13:03 2001  George Lebl <jirka@5z.com>

	* applet-widget.c:  be clearer in applet_widget_init function docs

	* basep-widget.c:  when leave happens remove the entry timeout and
	  viceversa to avoid states when things don't show or don't hide

Sat Apr 21 22:12:14 2001  George Lebl <jirka@5z.com>

	* extern.c:  actually save the panel unique id with externs

Sat Apr 21 11:38:36 2001  George Lebl <jirka@5z.com>

	* icon-entry-hack.[ch], menu-properties.c, gnome-panel-properties.c,
	  panel-util.c:  Sync entries at beginning in idle, and after entry
	  change.  This way the initial setting actually works for
	  everything, also ass a set_icon hack to do this as well.

Thu Apr 19 15:58:19 2001  George Lebl <jirka@5z.com>

	* multiscreen-stuff.[ch], foobar-widget.[ch], main.c,
	  basep-widget.[ch], edge-widget.c, aligned-widget.c,
	  Makefile.am, floating-widget.c, menu.c, scroll-menu.[ch],
	  sliding-widget.c:  Begin on multiscreen stuff.  Currently
	  just trying to get the screen size and position abstraction
	  happening, just the very beginnings.  However it still works
	  just like before as right now it always inits to one large
	  screen.

	* button-widget.c:  Fix the overlay window geometry calculation
	  near panel edge

	* foobar-widget.c:  Apparently users got utterly confused as to what
	  the flower meant and most thought it was a fried egg.  So I changed
	  it to the gnome foot as it servers a similar purpose as the main
	  menu on a normal panel so it's more consistent.

Thu Apr 19 12:26:44 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, menu.c:  Add tooltips to menu and to hide buttons

Tue Apr 17 13:20:07 2001  George Lebl <jirka@5z.com>

	* basep-widget.[ch], gnome-panep-properties.c, main.c, panel-util.c,
	  panel-widget.[ch], panel.c, panel_config_global.h, session.[ch]:
	  Fix bug #17076, so now there is a auto show delay.  By default it
	  is 0, which is the current behaviour.  Also changed the scale for
	  the autohide delay to be maximum of 3000 not 10000.  I mean who
	  wants the delay to be 10s.  This was making the setting hard to
	  do since the useful range was very thin.  Some other cleanups
	  and a warning fix.

Mon Apr 09 18:02:27 2001  George Lebl <jirka@5z.com>

	* icon-entry-hack.c: gah! add missing show for the icon entry hack

2001-04-02  Fatih Demir <kabalak@gtranslator.org>

	* panel.soundlist: Small update of the Turkish entry.

Fri Mar 30 16:33:38 2001  George Lebl <jirka@5z.com>

	* menu-properties.c, panel-util.c: use the icon hack properly and
	  set the default icon BEFORE we hack the icon entry to avoid
	  icons reverting bug which was very annoying.

Thu Mar 29 11:46:53 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, foobar-widget.c:  remove the configure hack as
	  apparently sawfish isn't too happy with it, this reintroduces the
	  bug where you can lose panels by dragging them off in deskguide,
	  but oh well.

	* extern.c: make the "loading" image be 18x18 instead of 24x24 to fix
	  bugs with drivemounts being separated

	* xstuff.c: ignore panel windows when checking for swallows and
	  status windows, and don't check for status windows on task changes,
	  just on task new.

2001-03-28  jacob berkman  <jacob@ximian.com>

	* foobar-widget.c (set_the_task_submenu): make this a scrolled
	menu, yo

Mon Mar 26 23:35:29 2001  George Lebl <jirka@5z.com>

	* global-keys.c: activate things on key press not release

Tue Mar 20 04:19:03 2001  George Lebl <jirka@5z.com>

	* launcher.c, session.c, foobar-widget.c: #warning is a gcc specific
	  feature, so don't use

Mon Mar 12 15:28:53 2001  George Lebl <jirka@5z.com>

	* extern.c:  fix the loading extern applet icon to work again

Sun Mar 11 16:33:44 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, xstuff.[ch], main.c, session.c: when recalcing
	  borders, call xstuff to set up a property on the root window about
	  a rectengular area that's ok for usage by things like nautilus
	  icons.

	* foobar-widget.c: queue recalc on size_allocate

Sat Mar 10 07:57:16 2001  George Lebl <jirka@5z.com>

	* floating-widget.c: apply patch from Brian Warner <warner@lothar.com>
	  to fix hide size.

Thu Mar 08 2001 Yukihiro Nakai <ynakai@redhat.com>

	* Add Japanese help translation from Yusuke NOGUCHI.

Wed Mar 07 2001 John Fleck <jfleck@inkstain.net>

	* updating bug referece to bugzilla.gnome.org in all the docs"
	help/C/panel.sgml, it/panel.sgml, de/panel.sgml and no/panel.sgml
	
Wed Mar 07 01:21:52 2001  George Lebl <jirka@5z.com>

	* gnome-run.c, panel-util.[ch], menu.c, applet.c: make a general url
	  checking function and when a docpath is a full url, just display
	  it.

	* basep-widget.c, foobar-widget.c: warning fixes

Wed Mar 07 00:45:42 2001  George Lebl <jirka@5z.com>

	* main.c, menu.c, panel.[ch]:  kill orphan drawers, fixes crashes
	  later on

	* basep-widget.c: play the expand sound on autoshow

Tue Mar 06 23:02:53 2001  George Lebl <jirka@5z.com>

	* panel.c: when a directory is dropped and it's not a menu make
	  a launcher that opens a new filemanager window (whatever the
	  filemanager happens to be)

Tue Mar 06 22:33:01 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, foobar-widget.c: when we get a configure event
	  and it ain't what we like we go back to where we belong.  Prevents
	  things from moving us.

Tue Mar 06 18:56:43 2001  George Lebl <jirka@5z.com>

	* launcher.c: correctly translate "%c" and %c in the kde command line
	  perhaps this code should be smarter

Tue Mar 06 18:39:05 2001  George Lebl <jirka@5z.com>

	* panel-util.c: support KDE documentation for the launcher and
	  menu help thingies. So we can read KDE's DocPath thingies.

Tue Mar 06 16:20:26 2001  George Lebl <jirka@5z.com>

	* launcher.[ch], menu.c, applet.c, gnome-panel-properties.desktop,
	  panel-utils.c:  Understand the DocPath field.  Now we can start
	  using it in other .desktops.  Still doesn't understand the kde
	  paths, though that should not be hard if we can guess the KDE
	  documentation path.

Tue Mar 06 11:08:45 2001  George Lebl <jirka@5z.com>

	* basep-widget.c: don't show the panel if hidebuttons are disabled
	  for the drawers case.  I suppose this is not the best fix and it
	  should be in the respecitve panels. Fixes #21963

Sun Mar 04 22:43:22 2001  George Lebl <jirka@5z.com>

	* gnome-run.c: find and set envariomental variables for exec
	  shell style.  Fix a small leak, enable command completion on
	  Ctrl-Tab, if it were on tab it would make keyboard navigation
	  impossible.

Sun Mar 04 14:19:15 2001  George Lebl <jirka@5z.com>

	* global-keys.c: clean up the modifiers patch to actually compile
	  and be more in the panel style of coding.

2001-03-02  Valek Filippov  <frob@df.ru>

	* panel/global-keys.c: patch from Vlad Harchev <hvv@hippo.ru> for
	  popup menu and "run" dialog independancy from the state of Scroll/Numlock.

Thu Mar 01 03:29:01 2001  George Lebl <jirka@5z.com>

	* icon-entry-hack.[ch], menu.c, drawer.c, panel-util.c,
	  menu-properties.c, launcher.c:  Fix icon selection bugs.  One
	  icon doesn't change when just selected,  second notice the change
	  when the first time an icon is set from no icon.

Tue Feb 27 20:57:52 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, drawer-widget.c: remove some dead code.

Tue Feb 27 20:56:32 2001  George Lebl <jirka@5z.com>

	* gnome-run.c: a bit of cleanup and set the file selection box
	  as a transient of the runbox.

2001-02-25  jacob berkman  <jacob@ximian.com>

	* xstuff.c (try_checking_swallows): pass in a gwmhtask instead of
	winid.  this prevents some BadWindows i was getting and maybe
	saves a server round trip.

Sun Feb 25 00:12:08 2001  George Lebl <jirka@5z.com>

	* menu.c: correctly set the custom_icon_file member, to fix #51348

Sat Feb 24 23:49:15 2001  George Lebl <jirka@5z.com>

	* applet.c, foobar-widget.c, gnome-run.c, menu.c, swallow.c,
	  launcher.c: use g_get_home_dir () as the current directory for the
	  gnome_execute_* call, and push pop the home directory for
	  dentry launch.

	* menu.c: validate only the base of the filename so that adding new
	  items to menus actually works

Sat Feb 24 20:54:31 2001  George Lebl <jirka@5z.com>

	* foobar-widget.c,menu-util.[ch]: check for nautilus desktop each time
	  we show the menu, this prevents a race when nautilus started later
	  then the panel.

	* applet-widget.c: minor leak fix.

Sat Feb 24 19:26:42 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, floating-widget.c, panel-util.[ch],
	  sliding-widget.c:  use hidebutton requisition rather then
	  allocation, as that's not really available yet sometimes.

	* floating-widget.c: Fixed #7552, autohiding floating panel
	  without hidebuttons needs to use the autohide size.  Limit hidden
	  size to 3 pixels, as 1 would make it impossible to manipulate.

Thu Feb 22 18:02:51 2001  George Lebl <jirka@5z.com>

	* xstuff.[ch], foobar-widget.c: detect presence of nautilus desktop
	  and don't show the gmc menus if this is the case.

Tue Feb 20 02:42:31 2001  George Lebl <jirka@5z.com>

	* drawer.c: make sure panels are synced when new one is created

	* panel.c, basep-widget.c: don't sync panels on every statechange
	  sync only when explicit state is set.

	* basep-widget.c: when autohide mode is on, the default layer is
	  always DOCK not the global default.  This is because it doesn't
	  really make sense to have autohide panels that go below windows

Sun Feb 18 01:53:46 2001  George Lebl <jirka@5z.com>

	* menu.c: the main menu has a title of "Main Menu" not "Panel"

Sun Feb 18 01:06:15 2001  George Lebl <jirka@5z.com>

	* floating-widget.[ch]: fix some PanelOrientation PanelOrientType
	  confusion, remove unused var

	* applet-widget.c: correct prototype for change_position method

Sat Feb 17 20:03:37 2001  George Lebl <jirka@5z.com>

	* gnome-run.c: recognize help: as a url as well.

Fri Feb 16 23:25:39 2001  George Lebl <jirka@5z.com>

	* menu.c: when access fails check for null in sim->mf since this
	  would normally be NULL, for menuitems.

Fri Feb 16 21:35:14 2001  George Lebl <jirka@5z.com>

	* menu-fentry.[ch], menu.c:  Fix menu merging in the respect that
	  only directories are merged and if a dir is in the .order file
	  it is not neccesairly on disk, so don't merge it until you find
	  it.  When directory disappears make sure to reread the
	  whole menu, and stat everything at most every 3 seconds.
	  fix dir_list corruption, and other cleanups

Fri Feb 16 00:42:53 2001  George Lebl <jirka@5z.com>

	* floating-widget.c: The menu position function follows the 
	  menu orientation

Wed Feb 14 01:51:32 2001  George Lebl <jirka@5z.com>

	* panel-widget.[ch], session.c, panel.[ch], drawer.c, menu.c:  Use
	  unique id's on panels to avoid the confusion bugs that sometimes
	  arise with drawers.  The panel numbers are not guaranteed to stay
	  the same and this played havoc with drawers.

	* scroll-menu.c: cast to GTK_OBJECT properly

Tue Feb 13 05:27:26 2001  George Lebl <jirka@5z.com>

	* menu.c: when removing a menu item from a torn off menu, hide it for
	  this to look like the change has been made.

Tue Feb 13 04:43:48 2001  George Lebl <jirka@5z.com>

	* menu.c: in remove_menuitem, apply fix suggested in #12564 by
	  johne@bellatlantic.net

Mon Feb 12 00:39:50 2001  George Lebl <jirka@5z.com>

	* panel.c, extern.[ch]: export ref/unref and do some more checking.
	  there was a race when applet died during registration.

Sun Feb 11 23:28:20 2001  George Lebl <jirka@5z.com>

	* menu-fentry.c: sanity check in get_applet_goad_id_from_dentry

Sun Feb 11 21:53:47 2001  George Lebl <jirka@5z.com>

	* drawer.c: fix a bug where a corrupted config could crash the panel

2001-02-11  Julian Missig  <julian@jabber.org>

	* status.c: (load_status_applet): I had set the wrong object for the
	gtk_signal_connect_after if the fixed container existed.

Fri Feb 09 21:44:41 2001  George Lebl <jirka@5z.com>

	* session.c, extern.c: int->gboolean cleanup, and increase cookie
	  when applet not responding in non interactive mode

Fri Feb 09 00:18:30 2001  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c: Apply patch from Havoc Pennington
	  <hp@redhat.com> to fix grabbing of global keys.

Thu Feb 08 23:29:26 2001  George Lebl <jirka@5z.com>

	* basep-widget.[ch], panel.c, floating-widget.c, sliding-widget.c:
	  remember the position of the click offsets for panel moving, so
	  that moving floating and sliding panels is more natural, that is
	  it holds onto the same point on the panel rather then moving when
	  over the edge which felt too weird.  Also simplifies the code a
	  bit.

Tue Feb 06 18:34:05 2001  George Lebl <jirka@5z.com>

	* basep-widget.c, foobar-widget.c: Set wmname/wmclass to
	  panel_window/Panel on the panel windows.

2001-01-29  John Harper  <jsh@eazel.com>

	* session.c (panel_session_save): deleted the code to hide
	panels after responding to a save-yourself message (that is
	before a session shutdown). The reason is that if the shutdown
	is later cancelled the panels are left hidden

	(An alternative fix would be to reshow the panels if a
	shutdown-cancelled message is received, but I can't see the
	point of hiding the panels anyway - they will be destroyed if
	the panel exits?)

2001-01-30  jacob berkman  <jacob@ximian.com>

	* foobar-widget.c (task_notify): hide the menu item when the task
	is destroyed

	* scroll-menu.c (scroll_menu_init): sink the scroll buttons so
	they don't leak

Sat Feb 03 19:39:40 2001  Julian Missig <julian@jabber.org>

	* status.c: Status Dock now fits in a 'tiny' sized panel.

Thu Feb 01 20:10:55 2001  George Lebl <jirka@5z.com>

	* panel_config.c:  How did this ever build for me before, fix
	  typos

Wed Jan 31 00:06:50 2001  George Lebl <jirka@5z.com>

	* panel_config.[ch]: keep a flag around to see if we are updating the
	  panel ourselves, in which case do not update ourselves.

Wed Jan 31 03:03:40 2001  George Lebl <jirka@5z.com>

	* panel-util.c:  Fix setting of background colors in different
	  themes.  So that changing themes effects things.

	* doc/Makefile.am, doc/panel.sgml:  Fix build problem.

Tue Jan 30 22:30:26 2001  George Lebl <jirka@5z.com>

	* panel_config.c: prevent infinite loop with background pixmap
	  setting, but this needs more work

	* basep-widget.c: follow style_set signal and reset styles on the
	  subwidgets to follow theme

	* panel.c: make sure button #3 gets through on panels, so that menu
	  gets displayed

Thu Jan 25 04:10:03 2001  George Lebl <jirka@5z.com>

	* panel.c: 1st button click on  the panel space also starts a panel
	  drag

Thu Jan 25 03:01:19 2001  George Lebl <jirka@5z.com>

	* panel_config.[ch], drawer.c: added the level to all other panel
	  and drawer configurations

Wed Jan 24 00:31:52 2001  George Lebl <jirka@5z.com>

	* global-keys.c: actually make this work, apperently we don't get
	  things out of events now in filters, we must use the raw xevents

Sat Jan 06 18:18:57 2001  George Lebl <jirka@5z.com>

	* extern.c: some cleanups, recycle the exception when fail to
	  add_applet on a booter

	* foobar-widget.c, basep-widget.c:  queue_resize after a realize
	  so that if the WM misplaces us we will replace ourselves back.

Tue Jan 02 20:44:47 2001  George Lebl <jirka@5z.com>

	* extern.c:  Implement launch_an_applet.  It's very simple really,
	  activate the applet, and then if we get an applet with such a
	  goad_id, use the PanelAppletBooter interface to bootstrap it, and
	  leave the rest to whatever wanted the applet in the first place.

	* button-widget.c: fix warning 

Sun Dec 31 19:14:47 2000  George Lebl <jirka@5z.com>

	* panel-widget.[ch], applet.c, extern.c, panel.c:  Allow
	  the drag_start to be started off at a specific drag offset,
	  and pass the current drag offset when going over to another
	  panel.  Also for move from the menu, make the offset the center of
	  the applet.

Sun Dec 31 18:43:24 2000  George Lebl <jirka@5z.com>

	* panel-widget.c:  Use the new movememnt style for both switch and
	  push move.  Instead of waiting until the boundary is crossed, the
	  applet is sortof being held onto on the place you clicked on it.

Sun Dec 31 17:41:21 2000  George Lebl <jirka@5z.com>

	* panel-widget.[ch], extern.c:  minor cleanup, and use initial
	  cursor position for free movement for nicer moving.

Sat Dec 30 23:00:47 2000  George Lebl <jirka@5z.com>

	* panel.c, main.c, panel-util.[ch], menu.c, session.c, drawer.c:
	  Various cleanups, use of string_empty and sure_string, also relayer
	  dialogs after change of default layer and don't put dialogs
	  in dock when panels are in normal layer.

Sat Dec 30 05:27:19 2000  George Lebl <jirka@5z.com>

	* xstuff.[ch], global-keys.c, swallow.c:  Use gwmh for everything
	  here, this greatly reduces the X traffic as the way things were
	  done before was actually quite wasteful.

	* menu-rh.c:  remove ampersand from the commands.

Fri Dec 29 17:45:12 2000  George Lebl <jirka@5z.com>

	* menu-fentry.h, menu.[ch], foobar-widget.c:  Add a menu for adding
	  launchers from a menu.  This is more discoverable then right click
	  or DnD, but somewhat of a pain to use.  For the lovers of menu.c,
	  this adds some more convoluted hacks.

Thu Dec 21 14:54:46 2000  George Lebl <jirka@5z.com>

	* extern.c: put in the size allocate hack again, since YES it IS
	  needed, we however need to set up the requisition on the ebox in
	  a different way to avoid a hang.

Tue Dec 19 21:34:41 2000  George Lebl <jirka@5z.com>

	* panel-util.[ch], gnome-panel-properties.c, menu.c, drawer.c,
	  gnome-run.c, panel.c, logout.c:  Add DND to drawer, menu and run.
	  unfortunately menu won't drag due to the fact that a button down
	  grabs the mouse.  Also drawer is only "MOVE" able and not
	  "COPY"able and that's not likely to change.

Tue Dec 19 20:52:17 2000  George Lebl <jirka@5z.com>

	* logout.c, panel.c:  Make logout and lock also draggable, and move
	  by default.

Tue Dec 19 17:34:35 2000  George Lebl <jirka@5z.com>

	* panel.c, launcher.[ch]:  Allow _MOVE of icons under a special
	  type of mime type.  And thus remove the "same panel drop"
	  restriction.

Tue Dec 19 14:24:43 2000  George Lebl <jirka@5z.com>

	* xstuff.[ch], foobar-widget.c, basep-widget.c:  On panel windows,	
	  unset the input hint thing as well as requested by jsh.

Tue Dec 19 01:32:56 2000  George Lebl <jirka@5z.com>

	* aligned-widget.[ch], basep-widget.[ch], border-widget.[ch],
	  drawer-widget.[ch], drawer.c, edge-widget.[ch],
	  floating-widget.[ch], menu.c, panel.c, panel_config.[ch],
	  session.c, sliding-widget.[ch]:  Implement avoid on maximize
	  thing as a property of a panel, and implement per panel ability
	  to set layering (or use the default).  Also fix updating of
	  hidebutton properties on the dialog if they are changed from
	  the menu.

	* gnome-panel-properties.c, session.c:  Fix default layering
	  properties.  Also fix some fragmented senteces and layout
	  issues as pointed out by Karl Eichwalder <keichwa@gmx.net>

Mon Dec 18 15:08:07 2000  George Lebl <jirka@5z.com>

	* extern.c: when an applet is being loaded, put in a small pic
	  in it's place to indicate it's being loaded.  Right now using
	  gnome-unknown.png, but it needs to be changed to something
	  nicer.  Needs to have no transparent spots.

Sun Dec 17 00:04:20 2000  George Lebl <jirka@5z.com>

	* extern.c: always check if ext->applet isn't by any chance %NULL.
	  I think it can happen when an applet dies too quickly, but it's
	  just a guess.  Anyway, it's good to be paranoid.

Tue Dec 05 20:03:09 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: initialize frozen stuff, just being fussy, that
	  it worked before, but it's not more explicit.

	* extern.c, panel.[ch]: freeze change info on initial send, to
	  make things not jump around so much.

Sun Dec 03 15:41:33 2000  George Lebl <jirka@5z.com>

	* menu-fentry.c, menu.c, drawer.[ch]:  Fix leak pointed out by
	  Juan Pablo Mendoza <pablo_juan@yahoo.com>, plus several other minor
	  memleaks.  Also a bunch of cleanup and some sanity fixes.  Also
	  some constization.

Sat Dec 02 23:34:09 2000  George Lebl <jirka@5z.com>

	* panel.c, menu.c: fix the unref ugliness by removing the signal
	  connection when creating the root panel menu.

Sat Dec 02 23:16:29 2000  George Lebl <jirka@5z.com>

	* launcher.c, panel.c: a bit of cleanup. use gnome-globe.png for
	  links and not netscape.png, accept info:, man: and ghelp: as
	  url's as well.

	* panel.c: when a panel is removed the applets are removed cleanly,
	  so that we don't get the "reload this applet" dialog in that case.

Sat Dec 02 21:49:34 2000  George Lebl <jirka@5z.com>

	* session.c:  apparently reading /proc/apm can crash on some
	  laptops with rh7, so since that would be mucho bad, we fork
	  during the check.  Ugly you say?  Yes, but it works.

Thu Nov 30 14:05:56 2000  George Lebl <jirka@5z.com>

	* panel.hints: Translate two entries to Czech while trying to
	  procrastinate and not do homework which I need to get done.

Tue Nov 28 02:19:34 2000  George Lebl <jirka@5z.com>

	* session.c, menu.c, gnome-panel-properties.c, panel_config_global.h,
	  menu-fentry.c:  Add an option for automatic rereading of menus for
	  slower machines, and add a menu item for rereading menus if it's
	  turned off.

Tue Nov 28 00:45:55 2000  George Lebl <jirka@5z.com>

	* applet.c, distribution.c, foobar-widget.c, gnome-run.c,
	  launcher.c, main.c, menu-fentry.[ch], panel-util.[ch],
	  menu-properties.c, menu-rh.c, menu-util.c, menu.c,
	  panel-widget.c, panel.c, session.c, swallow.c:  Check for
	  try execs on menu reread so that we notice newly installed
	  software.  Might have to make this whole checking thing an
	  option for people on slower machines.  Also put in routines
	  stolen from gnome-libs head for checking for programs and file
	  existance as they are faster.

Fri Nov 24 22:24:04 2000  George Lebl <jirka@5z.com>

	* basep-widget.c, foobar-widget.c: fixup basep to use default
	  handlers instead of signal connection.  Add autoraise to foobar.

Tue Nov 21 21:28:00 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: add support for launching "man:" "info:", "file:"
	  and "ghelp:" URLs directly from the runbox

2000-11-19  Karl Eichwalder  <ke@suse.de>

	* extern.c (extern_before_remove): Adjust message string.
	* swallow.c (before_remove): Fix typo.

Thu Nov 16 21:45:38 2000  George Lebl <jirka@5z.com>

	* applet.c, session.c, swallow.[ch]:  Remove bits of cruft.  Add the
	  applet like reload hack for swallowed thingies.  Also fix a
	  destruction crash by refcounting the swallow structure.

	* panel.c: Accept the nautilus background reset ugly ugly ugly hack

	* session.c: cleanup, remove some cruft, and set the clock format
	  default to use the space padded hour format as that's more correct.

2000-11-15  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* Makefile.am: remove some cruft, yo

	* foobar-widget.c (add_task): add a divider which seperates tasks
	on the current desktop from tasks on other desktops.

	* tasklist_icon.c (tasklist_icon_check_x): pass the window when
	creating the mask

Wed Nov 15 00:13:38 2000  George Lebl <jirka@5z.com>

	* Makefile.am, gwmthumbnail.c:  We don't actually need gwmdesktop
	  and gwmthumbnail, they are not used anywhere int he panel, thus
	  they are now gone, this removes some weirdness

	* extern.c: Whoever heard of the "mail menu" it's "main menu" :)
	  /me beats self

	* foobar-widget.c:  cleanup, set the icon even for skiplist windows
	  so that the icon is better up to date to the actual focused window,
	  only set up the tasklist stuff after foobar was realized, also
	  don't use the pixmap menu item here, but just a normal item with an
	  alignment in it.  Only check for the default icon once and avoid
	  warnings if it doesn't exist.  On setup of the tasklist menu, set
	  the current focused icon

	* taslkist_icon.c: cleanup, and use the existing
	  get_typed_property_data routine from xstuff.  Also fix leaks
	  in the mini icon handling, and fix a possible crash.  Also
	  push error traps for both functions

2000-11-14  Darin Adler  <darin@eazel.com>

	* gwmthumbnail.c: (gwm_thumb_nail_new): Changed the code to match
	the header so it compiles. Sadly, it seems there are some things
	newer in this copy of gwmthumbnail.c and some things newer in the
	desk-guide copy -- changes need to be propogated in both directions
	or perhaps we can get rid of the duplication.

Tue Nov 14 00:47:51 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: set the panel hints on drawers again (doh!)

	* applet.[ch], menu-properties.c:  A bunch of cleanup, also in
	  the apply function we only do things when they are really
	  neccessary, also reduce the amount of statting on each apply by
	  caching the availability of gmenu

	* foobar-widget.c: use %l and not %I for the 12 hour format hour
	  thing, this will not zero pad the hours which is wrong (it looks
	  like 24 hour format then)

Sat Nov 11 17:27:10 2000  George Lebl <jirka@5z.com>

	* applet.c: minor cleanup

Wed Nov 08 21:40:46 2000  George Lebl <jirka@5z.com>

	* applet.c, extern.[ch], launcher.c, panel-widget.[ch], panel.c,
	  session.c:  Remember the last known config for applets, add a
	  signal (quite hackish) to figure out when an applet is about to
	  die.  If an applet dies unexpectadly (without being removed by user
	  or calling unregister_us), then display a dialog box and allow the
	  user to readd the applet with it's last saved settings.  This
	  should reduce the "where did my <insert name of applet>" go and
	  how do I get it back.

Mon Nov 06 02:06:57 2000  George Lebl <jirka@5z.com>

	* menu.c: some cleanup, mostly cosmetic

Sun Nov 05 05:22:45 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: warning fixes

	* session.c, panel_config_global.h, basep-widget.c, foobar-widget.c,
	  gnome-panel-properties.c:  Imlement a normal layer panel setting.
	  this will be the future default as it seems that almost everybody
	  hates both always on top and always on bottom settings.

Sat Nov 04 22:59:52 2000  George Lebl <jirka@5z.com>

	* gnome-run.c, foobar-widget.[ch]:  minor cleanup and some evilness

Thu Nov 02 22:19:18 2000  George Lebl <jirka@5z.com>

	* session.c: only check for /proc/apm on linux.  Also read the
	  thing and see if the percentage is >= 0, otherwise it's -1
	  and that means there is no battery.  So don't add the battery
	  applet by default in that case.

Thu Nov 02 21:27:28 2000  George Lebl <jirka@5z.com>

	* extern.c, panel.gnorba: Implement the Panel2 interface.

	* applet.c, panel-widget.c, panel.c: minor cosmetic cleanup

	* Makefile.am, gnome-panel-add-launcher.c:  Add a proggie to add
	  launchers externally.  Let's not doc this so that that many
	  people don't use it as it could become annoying, but major apps
	  may want to use it to optionally add their launcher to the panel.
	  note here, it should be OPTIONAL! in the installer, otherwise I'm
	  going to go after each and every dumbass who made it install an
	  icon without asking the user with a chainsaw.  If it becomes a
	  bother I'll stick in a confirmation dialog in these funcs.

2000-11-02  Kjartan Maraas  <kmaraas@gnome.org>

	* gnome-panel-properties.desktop: Added "no" translation.
	
Thu Nov 02 02:37:27 2000  George Lebl <jirka@5z.com>

	* panel.c, launcher.c:  move the drag status call during motion below
	  the is_drag_ok to avoid some "race" like problems, suggested by
	  Eric BRAYEUR <eb@ibelgique.com>

Tue Oct 17 18:40:38 2000  George Lebl <jirka@5z.com>

	* menu.c: Fix cast to BaseP for FooBar on panel removal

Tue Oct 17 18:15:10 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: Fix the recalc on destroy.  /me smacks
	  head against wall for committing a broken thingie.

Tue Oct 17 10:38:49 2000  George Lebl <jirka@5z.com>

	* penel.c, applet.c, basep-widget.c:  cleanup, recalc borders
	  when a border panel is killed.

Sat Oct 14 15:11:24 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c, session.c, panel_config_global.h,
	  panel-widget.[ch]:  Apply patch from Chris Leith <cleith@home.com>
	  to add border padding for applets.  By default this is 0 which
	  was the previous behaviour.  I however did s/applet_applet/applet/
	  on the patch, since we don't want to change current configuration
	  names.

Sat Oct 14 14:17:49 2000  George Lebl <jirka@5z.com>

	* panel_config.c, applet-widget.c, gwmthumbnail.c, panel-util.[ch],
	  panel.c, status-docklet.c:  Random cleanup related to some
	  -pedantic -ansi, also added a no_locale version of strcasecmp
	  and use it appropriately.  Also "localhost.localdomain" is also
	  a local host.

Sat Oct 14 14:50:18 2000  George Lebl <jirka@5z.com>

	* main.c: cleanups, remove unused extern

Fri Oct 13 19:39:53 2000  George Lebl <jirka@5z.com>

	* panel_config_global.h, session.c, gnome-panel-properties.c,
	  basep-widget.c:  add a global option to turn off the collision
	  avoidance (it's on by default of course though)

	* basep-widget.c, foobar-widget.c: panel_list is a GSList not
	  a GList.

Fri Oct 13 17:26:25 2000  George Lebl <jirka@5z.com>

	* aligned-widget.c, basep-widget.[ch], border-widget.h,
	  panel-types.h, edge-widget.c:  Add simple panel collision
	  avoidance.  Bottom/Top panels take preference over left/right
	  panels.  We also assume only 1 panel per position, so we don't
	  overlap only panels at right angles to each other.

Wed Oct 11 18:09:40 2000  George Lebl <jirka@5z.com>

	* xstuff.c: don't assume return from XGetWMHints is allways non-null,
	  though it's really overly paranoid.

Wed Oct 11 00:23:31 2000  George Lebl <jirka@5z.com>

	* launcher.[ch], menu.c:  Add revert button to desktop entry property
	  editors, and use an enum instead of button numbers to avoid future
	  fuckups.  Again some completely random cosmetic cleanup as well.

Sat Oct 07 23:44:48 2000  George Lebl <jirka@5z.com>

	* applet-widget.c, applet.c, panel-util.[ch], launcher.[ch],
	  menu.[ch], menu-properties.[ch], panel_config.c:  General cleanup
	  and some const-ization of things.  But mostly cosmetic things.

	* panel_config.c, launcher.c, menu.c, menu-properties.c:  Make sure
	  a widget is focused after a dialog is shown

	* menu.c: Always make the properties item sensitive, but if the
	  item is not writable make the entire dialog unsensitive, so this
	  way the user can inspect the info in the dentry, but not change it

Sat Oct 07 21:59:28 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: add ability to launch certain urls
	  (http://,https://,gopher:// and ftp://) from the run box

Sat Oct 07 21:03:40 2000  George Lebl <jirka@5z.com>

	* launcher.c, menu.c, panel-util.[ch]: cleanup, minor leak fixes,
	  some hack-explanatory comments

	* menu.c: replace the property-box with a normal dialog that
	  has immediate effect.  This is the last property dialog

Sat Sep 30 00:33:16 2000  George Lebl <jirka@5z.com>

	* menu-properties.c, menu.[ch]: fixup the menu properties to do
	  immediate update and use a structure instead of the object
	  data for some nicer code.

	* drawer.c: remove unused var

	* launcher.c: make dialog creation not seg and add the _set_close
	  call to the dialog (to false)

2000-09-29  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* logout.c (logout): 
	* launcher.c (launch): pass a GtkWidget

	* extern.c (extern_unref): this function returns void

	* drawer.c (drawer_click): don't case to a BaseP
	(load_drawer_applet): only autoshow if it is a BaseP

	* drawer-widget.h: update API to use GtkWidgets

	* drawer-widget.c (drawer_widget_open_drawer):
	(drawer_widget_close_drawer): take a GtkWidget as the second
	parameter since a foobar is not a basep
	(drawer_pos_hidebutton_click): pass a GtkWidget and not a BaseP

	* panel_config.c (update_config_edge):
	(update_config_anchor):
	(border_set_edge):
	(border_set_align): if we aren't changing the align or edge,
	return early so we don't have stack crashes
	(panel_config): append the button list with a NULL so we don't get
	a seg fault

Fri Sep 29 00:17:17 2000  George Lebl <jirka@5z.com>

	* panel_config.c: fix crash during properties by nulling the
	  PerPanelConfig structure properly.

Thu Sep 28 22:04:34 2000  George Lebl <jirka@5z.com>

	* drawer.[ch], panel_config.[ch], gnome-panel-properties.c,
	  panel-util.[ch]:  More GnomePropertyBox code killing.  This makes
	  the drawer properties actually work.

	* menu-fentry.[ch], menu.c:  Fix adding drawers from menus with
	  merging on.  And other various cleanups.

Thu Sep 28 19:50:25 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: cleaner checking for if a child was added,
	  to know when to call abort load, and some other minor cleanups

	* applet.c, launcher.[ch], session.[ch]: store launchers in better
	  paths, and keep the filename constant.  Also allows us to save a
	  .desktop file without having to save the entire session.  This
	  reduces the need for temporary file mess and reduces races.  The
	  downside is no code for per-session panel config, but that's
	  mostly broken anyway

	* applet.[ch], launcher.c, drawer.c, logout.c, menu.c, gnome-run.c,
	  status.c, swallow.c:  Add a destroy notify to the AppletInfo.
	  use it to destroy the per applet structures.
	  
Thu Sep 28 01:01:41 2000  George Lebl <jirka@5z.com>

	* panel_config.[ch], drawer.c, launcher.[ch]: Make, property
	  dialogs (the panel one and launcher one only for now) not modal
	  and make them have immediate effect.  This is the way nautilus
	  and actually most of the new apps work.

	* launcher.[ch], session.[ch]: only schedule syncs, never force
	  them.  This way syncs from launchers won't come closer together
	  then 30 seconds.  Deal with the drag case where the launcher wasn't
	  saved yet.

Wed Sep 27 22:34:21 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: make a bunch of code #if 0'ed out as it's not
	  currently used pending some dumping action

	* tasklist_icon.[ch]: added a header and #if 0'ed out an unused
	  function

	* foobar-widget.c, menu.[ch], main.c: warning fixes

2000-09-27  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* gwmthumbnail.c (gdk_image_get): the visual seems to be NULL for
	tasklist icons, so comment out part of a check in here for now

	* menu.c (gtk_menu_position): make it non-static since the new
	foobar code needs this
	
	* main.c (main): call gwmh_init()

	* basep-widget.c (basep_widget_explicit_show): use the expand sound

	* foobar-widget.[ch]: mac-style tasklist in the upper right corner
	instead of the lame gnome menu.  not finished but good enough for
	unstable gnome

	* Makefile.am (GWMH_SRCLIST): symlink in stuff from desk-guide for now

Mon Sep 25 18:43:05 2000  George Lebl <jirka@5z.com>

	* button-widget.c: fix the black squares problem and a bunch
	  of cleanup which doesn't do anything (such as some consting
	  etc...)

Tue Sep 19 17:29:08 2000  George Lebl <jirka@5z.com>

	* foobar-widget.[hc], menu.c, session.c: fix up
	  allocation/destruction, fix leaks.  Make time format change
	  immediately and elimintate a timeout race.

2000-09-18  Jacob "Ulysses" Berkman  <jacob@helixcode.com>

	* menu.c (edit_direntry): show help when the help button is
	pressed, not the apply button

Sun Sep 10 16:33:15 2000  George Lebl <jirka@5z.com>

	* extern.c: minor cleanup in search of a bug.  Added some asserts.

Sat Sep 09 18:45:52 2000  George Lebl <jirka@5z.com>

	* button-widget.[ch], panel_config_global.h,
	  gnome-panel-properties.c, rgb-stuff.[ch], session.c:  Add a
	  configuration flag that specifies if we are to use fast (nearest)
	  or slow (hyperbolic) scaling for buttons.  hyperbolic is of
	  course the default as it just looks really cool.  Maybe we should
	  use bilinear though, not sure.

Sat Sep 09 17:47:18 2000  George Lebl <jirka@5z.com>

	* menu.[ch], menu-properties.c, session.c, panel.c:  Add a way to
	  set up custom icon for any menu button.

Sat Sep 09 15:54:20 2000  George Lebl <jirka@5z.com>

	* menu.c:  Remove an old standing "UglyHack(tm)" and fix copying
	  to favourites even with merged menus etc.  It now copies only
	  the neccessary files as well and preserves old order files.

	* menu-fentry.c: just cosmetic cleanups

Tue Sep 05 21:22:55 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c: When copying a config, copy all
	  the text fields.  This fixes a crash with revert recently reported
	  on gnome-devel-list.

Tue Sep 05 18:26:56 2000  George Lebl <jirka@5z.com>

	* Makefile.am: only touch the my_gnome_panel_idl if everything
	  went fine, especially not if orbit-idl failed

Tue Sep 05 17:10:33 2000  George Lebl <jirka@5z.com>

	* scroll-menu.c: make sure we call the leave_notify handler
	  when we really leave.  It still seems to be missing the case
	  of leave event from scroll button directly onto the root, but
	  god didn't intend for that to work right in the first place and
	  it's not really needed.

Tue Sep 05 01:17:32 2000  George Lebl <jirka@5z.com>

	* scroll-menu.c: when keyboard traversing, make sure we "show" the
	  currently selected item.

Mon Sep 04 16:01:50 2000  George Lebl <jirka@5z.com>

	* panel.c: apparently mozilla now will support _NETSCAPE_URL and
	  test/x-moz-url is supposed to be internal mozilla only.  So I
	  removed it again.

Mon Sep 04 15:47:53 2000  George Lebl <jirka@5z.com>

	* scroll-menu.c: fix the submenu / long menu interaction.

Mon Sep 04 02:56:57 2000  George Lebl <jirka@5z.com>

	* menu.c, foobar-widget.c, applet.c, scroll-menu.[ch], Makefile.am:
	  Make a GtkMenu subclass that handles very long menus.  When a
	  menu is larger then the screen, it makes "scroll buttons" on
	  bottom and top of menu sort of like windows does it (not quite
	  though).  It's usable, but still needs a bit of work.  Even though
	  it's much better then nothing at all.

Sun Sep 03 05:50:02 2000  George Lebl <jirka@5z.com>

	* panel.c: add text/x-moz-url as another url type for dropping.  It
	  however still doesn't accept mozilla drops for some reason, I just
	  can't figure out what's going on there.

Sun Sep 03 04:41:28 2000  George Lebl <jirka@5z.com>

	* applet-widget.h, basep-widget.c, menu.[ch], panel-types.h,
	  panel-widget.h, panel_config.c, session.c, status.c:  Add
	  "Ultra Tiny (12 pixels)" size which would be useful for PDA's
	  or real screen real estate freaks and "Ridiculous (128 pixels)"
	  which should be useful to people with bad vision I'd guess.  With
	  the new icon scaling these sizes actually look quite good.  Minor
	  cleanups and fixes as well.

Sun Sep 03 04:03:31 2000  George Lebl <jirka@5z.com>

	* button-widget.c, rgb-stuff.[ch]:  Do scaling of buttons by using
	  gdk-pixbuf scaling functions and the hyperbolic scaling code since
	  libart doesn't support it yet.  This makes non-standard (48) sized
	  panels look way cooler.

Sat Sep 02 19:19:08 2000  George Lebl <jirka@5z.com>

	* distribution.[ch], menu*.c:  Make distribution menus api cache the
	  results to avoid continual statting of version files (how often
	  does a user change from one distro to another while keeping the
	  panel running?).  Fix some remaking function to use the correct
	  distribution_info and fix a crash when distribution menus got
	  turned on on an unknown distribution system

	* *.[ch]:  make type macros be more consistent in naming, all the
	  _get_type functions are G_GNUC_CONST functions now also the 
	  function to get default menu flags is G_GNUC_CONST

2000-08-29  Ismael Olea <olea@hispafuentes.com>

	* panel.hints: translation into Spanish

2000-08-24  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* panel.hints: fix format by removing excessive text.

Tue Aug 22 01:49:59 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: const correct the factory thingie

	* main.c: minor estetic cleanup

	* menu_properties.c: fix warning

	* menu.c: fix bug with non-main menu rereading

	* session.c: when the global_main was read from default, try and see
	  if we can turn it on without any behaviour changes

Mon Aug 21 21:06:03 2000  George Lebl <jirka@5z.com>

	* menu-properties.c, menu.[ch], panel.c, session.c: Add a global_main
	  flag to main menus.  this will make it use the global main setup.
	  this is the default.  This is since it is more logical for the
	  main menu to use the setup from crapplet.

Wed Aug 16 23:43:44 2000 Pablo Saratxaga <pablo@mandrakesoft.com>

	* panel.hints: added Greek strings from Simos Xenitellis

Wed Aug 16 02:03:46 2000  George Lebl <jirka@5z.com>

	* foobar-widget.[ch], menu.c, session.c:  Make sure that foobar's
	  menus are reread if the menu settings change by setting a data on
	  them a cleaner solution should be done sometime in the future, but
	  this works.  Apparently tradeshows and miguel trying to use the
	  panel in a booth reveals bugs in software.

Wed Aug 16 00:10:21 2000  George Lebl <jirka@5z.com>

	* panel.c: accept property/bgimage mimetype so that we can get the
	  bgimage drops from nautilus

Fri Aug 11 18:11:40 2000  George Lebl <jirka@5z.com>

	* title-item.[ch]: recompiled with new gob

Fri Aug 11 16:40:41 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c, panel_config_global.h, session.c,
	  menu-fentry.[ch]:  add a configuration option that can disable
	  menu merging.

	* menu.c:  Fix a crash on saving state of tornoff menus that point
	  at directories which have been reread

Fri Aug 11 13:58:20 2000  George Lebl <jirka@5z.com>

	* main.c, menu.c, menu-fentry.[ch]: add menu merging ala redhat.
	  (from /etc/X11/applnk/).  This was a very long time in coming to
	  prevent ugly distribution specific patches.

2000-08-10  Dan Mueth <d-mueth@uchicago.edu>

	* help/C/figures/example_menu.png: fixed screenshot

2000-04-24  Martin Baulig  <baulig@suse.de>

	Improved handling of distribution specific menus.

	Rather than providing code for RH and Debian menus, we now
	have some generic "distribution menu" code - all customizing
	is done in a `DistributionInfo' array in distribution.c.

	This makes it very easy for distribution vendors to add a
	custom menu for their distribution (like the already existent
	AnotherLevel and Debian menus) with a about-10-line-change
	in a single source file.

	* distribution.h: New file.
	(DistributionType): Contains all possible Linux distributions.
	(DistributionInfo): New struct type containing info about
	distribution specific menus.

	* distribution.c: New file.
	(get_distribution): New global function; returns the current
	Linux distribution as a `DistributionType'.
	(get_distribution_info): New global global function; takes a
	`DistributionType' argument and returns a `DistributionInfo *',
	this struct contains information about distribution specific
	menus.

	* menu.h (MAIN_MENU_REDHAT): Renamed to `MAIN_MENU_DISTRIBUTION'.
	(MAIN_MENU_REDHAT_SUB): Renamed to `MAIN_MENU_DISTRIBUTION_SUB'.
	(MAIN_MENU_DEBIAN, MAIN_MENU_DEBIAN_SUB): Removed (replaced with
	`MAIN_MENU_OBSOLETE_DEBIAN' and `MAIN_MENU_OBSOLETE_DEBIAN_SUB'
	for compatibility with old config files).
	(DEBIAN_MENUDIR): Removed.

	* session.c (init_user_applets): Use the new distribution menu
	rather than the old RH and Debian menus.

	* panel.c (drop_menu): Don't check for "/etc/X11/wmconfig" etc.,
	but use the new get_distribution () function to get the
	current distribution.

	* menu.c (init_menus): Use the new get_distribution () function
	and run the `distribution_info->menu_init_func' hook if it
	exists.
	(setup_menuitem_try_pixmap): Allow the "try_file" to be NULL.
	(create_distribution_menu): New function. This replaces the
	old create_debian_menu () function but is now distribution
	independent.
	(create_debian_menu): Removed.
	(create_root_menu): Use the new distribution menus.

Thu Jun 15 22:18:15 2000  George Lebl <jirka@5z.com>

	* button-widget.c: make the previous fix work well with autohidden
	  panels

Thu Jun 15 22:15:10 2000  George Lebl <jirka@5z.com>

	* button-widget.c: fixed a bug with 0 padding and hidden packed
	  panels and launchers taking over a hidebutton

Thu Jun 08 17:04:02 2000  George Lebl <jirka@5z.com>

	* gnome-run.[ch], menu.c: new useless feature of the week.  You can
	  now put the Exec string from a menu item into the gnome-run dialog.

2000-06-07  Alexander Kirillov  <kirillov@math.sunysb.edu>

	* help/C/panel.sgml: split section "adding panels" into 2,
	creating a new section "panel types". Added a note that push/free
	modes do not work for floating/sliding/aligned panels.

2000-06-06  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* panel.hints: Add Japanese translations.

Thu Jun 01 00:51:36 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: increase the buffer size for strftime, and make
	  it handle failiure without segging.

Tue May 30 03:11:45 2000  George Lebl <jirka@5z.com>

	* button-widget.c: fix a check for an empty file in load_pixmap
	  which would segfault on a NULL filename.  Dunno when this would
	  happen but it definately happened in bug #12600

Tue May 30 03:01:43 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: drawers are always in the "DOCK" layer.  even if
	  we keep panels below windows.  Having the drawers be below windows
	  makes no sense.

Sat May 27 16:49:33 2000  George Lebl <jirka@5z.com>

	* applet.c: when removing an applet, kill the applet in an idle.
	  This is so that events are processed and when a "destroy" happens
	  on the menu it happens before it is finalized by killing the
	  applet.  Fixes the flurry of recent bugs with 1.2.

2000-05-23  Dan Mueth <d-mueth@uchicago.edu>

	* panel.hints: Fixed typo in ending tag: </Content> was </content>.
	This completely broke the panel.hints file, so gnome-hint only
	would show the one hint hard-coded into gnome-hint.c. 

2000-05-23  Jacob Berkman  <jacob@helixcode.com>

	* panel.c (panel_destroy): don't go into the unexplored territory
	that is the negative ref count.  Wait for GTK 1.4 for that.

	* basep-widget.c (basep_widget_destroy): make this a little less
	ugly

2000-05-22  Fellmann Joaquim <joaquim@hrnet.fr>

	* panel.hints: Updated French translations.

2000-05-21  Dan Mueth <d-mueth@uchicago.edu>

	* panel.hints: Updated URL references to refer to new www.gnome.org
	web page which should go live before 1.2 goes out (ie very soon!).
	I did this for the translations too.

2000-05-21  Dan Mueth <d-mueth@uchicago.edu>

	* help/C/figures/panel_run*.png: Updated screenshots to use correct
	Gtk+ theme, as directed by James M. Cape <jcape@jcinteractive.com>.

2000-05-21  Karl Eichwalder  <ke@suse.de>

	* panel.hints: Improve German translation.

2000-05-20  Dan Mueth <d-mueth@uchicago.edu>

	* panel.hints: Fixed bad formatting of a couple hints.
	* panel.hints: Fixed bad wording of a couple hints which were pointed
	out by translators.

2000-05-19  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Finished first round of editing.

2000-05-19  Andreas Hyden  <a.hyden@cyberpoint.se>

	* panel.hints: Added Swedish translation.

2000-05-19  Kjartan Maraas  <kmaraas@gnu.org>

	* panel.hints: Adjusted and finished Norwegian translations.
	
Thu May 18 22:26:22 2000  George Lebl <jirka@5z.com>

	* applet.c, menu.c, panel.c, session.c: use unref for the menu
	  instead of destroy

2000-05-19  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Edited Creating, Moving, and Removing
	Panels and Global Panel Preferences sections.
	* panel/help/C/panel.sgml: Updated to say version 1.2 of Panel.

Thu May 18 21:25:09 2000  George Lebl <jirka@5z.com>

	* panel-widget.c: fix bug with not strduping the back pixmap, null
	  data after freeing for sanity

	* menu.c: null data after freeing, and use _unref on menus

Thu May 18 21:03:31 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: the destroy handler is now an override rather then
	  a signal connection.  This means that panel_destroy signal
	  connection is run before the pos is destroyed.  Also now the
	  pos is set to NULL to catch such errors in the future.

2000-05-18  Jacob Berkman  <jacob@helixcode.com>

	* applet.c (create_applet_menu): 
	* menu.c (setup_menuitem_try_pixmap): s/warning/message/

	* panel-widget.c (panel_widget_destroy): This either fixes a leak
	or makes stuff crash

Thu May 18 20:13:00 2000  George Lebl <jirka@5z.com>

	* launcher.c, menu.c: on "destroy" of gnome-dentry-edit, unref it,
	  on _new sink/ref it.  This is really ugly.  The problem is that
	  gnome-dentry-edit destroys itself when it's notebook is destroyed.
	  it should really unref self.  But we can't do that now to keep
	  compat.  This works, but is ugly.  gnome-ditem-edit must be fixed!

Thu May 18 19:23:43 2000  George Lebl <jirka@5z.com>

	* panel-widget.c: use the checking cast AFTER preconditions.

	* menu.c: remove a Fake from the icons to load when destroyed,
	  this should kill the bug where a tearoff is destroyed while
	  it's icons are loading.

2000-05-19  Karl Eichwalder  <ke@suse.de>

	* panel.hints: Remove the comment at the start, since it seems to
	break eastern language environments.
	Reported by KUSANO Takayuki.

2000-05-18  Karl Eichwalder  <ke@suse.de>

	* panel.hints: Replace one "da" by "fi".  Tweak "de" again.

Thu May 18 01:52:07 2000  George Lebl <jirka@5z.com>

	* applet.c: remove ref/sing from register_toy.  It should really not
	  be needed anymore.  Seems to work, BUT it does need testing.  This
	  should kill the leak with adding/removing applets/buttons.

2000-05-18  Jacob Berkman  <jacob@helixcode.com>

	* button-widget.c (button_widget_destroy): free the filename

	* basep-widget.c (basep_widget_destroy): unref the pos

2000-05-17  Jacob Berkman  <jacob@helixcode.com>

	* panel-widget.c (panel_widget_change_params): don't need to check
	for NULL first
	(panel_widget_set_back_pixmap): ditto

2000-05-18  Karl Eichwalder  <ke@suse.de>

	* panel.hints: Improve "de" entries.
	* panel.hints: More sorting.  Remove a doublette.  Add german
	translations.

2000-05-17  Karl Eichwalder  <ke@suse.de>

	* panel.hints: Add some German translations and do sorting; one
	English entry was lost ;-)

2000-05-15  Alexander Kirillov  <kirillov@math.sunysb.edu>

	* panel/help/C/panel.sgml: updated trademark info, version number;
	added reference to GPL license. Updated "global panel prefs" to
	describe new "prelight button" option. 

2000-05-15  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Edited Special Panel Objects and 
	  Adding, Moving, and Removing Panel Objects.

2000-05-14  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Edited Applets, Drawers, and part of
	  Special Panel Objects sections.

	* panel/help/C/figures/panel_swallow.png: updated screenshot

2000-05-14  Karl Eichwalder  <ke@suse.de>

	* gnome-panel-properties.desktop (Name): Sort alphabetically.  Add
	de.

Sun May 14 03:06:30 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: an extra sanity check for shlib applets, and
	  minor doc update

	* panel.c:  Signal connection fixed up.  No longer connect basep
	  signals on a per type basis as it can change.  So connect to
	  a single handler which just runs the correct thing for the correct
	  panel type.

	* panel_config.c: setup defaults for the per type ppc stuff.  So
	  that there are legal values when changing type

Fri May 12 15:07:34 2000  George Lebl <jirka@5z.com>

	* xstuff.c: setup a dnd proxy for the swallowed KDE docklets

2000-05-11  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Edited Launchers section.

2000-05-11  Dan Mueth <d-mueth@uchicago.edu>

	* panel/help/C/figures/glob_pref_anim.png: updated screenshot
	* panel/help/C/figures/create_launcher.png: updated screenshot

Thu May 11 18:50:16 2000  George Lebl <jirka@5z.com>

	* menu.c: use -lock for xscreensaver always

2000-05-11  Andreas Hyden  <a.hyden@cyberpoint.se>

	* gnome-panel-properties.desktop: Added Swedish translation.

Wed May 10 00:07:24 2000  George Lebl <jirka@5z.com>

	* panel.c: don't accept color and background image drops on the
	  foobar panel.  This is because there is no config for it and
	  it's impossible to remove them, and it doesn't work completely
	  anyway.

Mon May 08 17:19:34 2000  George Lebl <jirka@5z.com>

	* panel-util.[ch], drawer.c, gnome-panel-properties.c: add subdir
	  argument to create_icon, and properly load up icons into the
	  global properties GUI

	* rgb-stuff.[ch], panel-widget.c: use the gdk_pixbuf function for
	  getting pixbuf from a drawable.

2000-05-06  Jacob Berkman  <jacob@helixcode.com>

	* foobar-widget.c (append_gnome_menu): mark the URLs for i18n, and
	use the new mailing list page

	* button-widget.c (button_widget_load_tile): check for NULL pixbufs

Sat May 06 04:18:50 2000  George Lebl <jirka@5z.com>

	* button-widget.c, gnome-panel-properties.c: do what nautilus does
	  for prelighting, that is a colorshift.  perhaps a better alg can be
	  done, but this is somewhat ok.

Sat May 06 02:41:49 2000  George Lebl <jirka@5z.com>

	* button-widget.c: make the high color icons as well.  The high color
	  icon are now at 115% brightness while the low color have been upped
	  to 95% brightness and 90% saturation.  I can't make the low color
	  100% bright, as then some icons would not light up at all.

	* session.c: make the default panels be a bottom edge panel and
	  the foobar.  We thus can lose the clock as it's already on the
	  foobar.

Fri May 05 18:22:22 2000  George Lebl <jirka@5z.com>

	* menu.c: add a link from the about box

	* panel.hints: make -> into -&gt;

2000-05-04  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (load_icons_handler): turn it inside out

	* main.c (main):
	* gnome-panel-properties.c (main): 
	* gnome-run.c (show_run_dialog): use the new icon hint stuff

	* menu.c (create_menuitem): set the comment as a tooltip on
	the menu items

	* menu-fentry.[ch]: save the comment too

Tue May 02 23:17:17 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: use the main tooltips for date tooltip

	* panel.c, panel_config.[ch]: cleanup and removal of the range
	  FIXME.

2000-05-03  Yukihiro Nakai <nakai@gnome.gr.jp>

	* gnome-panel-properties.desktop: Add Japanese translation.

Tue May 02 21:17:51 2000  George Lebl <jirka@5z.com>

	* session.c, panel-widget.c, menu.c: use G_MAXINT rather then INT_MAX

Tue May 02 18:24:12 2000  George Lebl <jirka@5z.com>

	* button-widget.c, panel-widget.c: cleanup, minor memleak fix.  Also
	  the font for no icon scenario is now marked as translatable and
	  we use gdk_fontset_load

2000-05-02  Jacob Berkman  <jacob@helixcode.com>

	* foobar-widget.c: add tearoffs for the non-dentry generated menus

2000-04-29  John Harper  <john@dcs.warwick.ac.uk>

	* gnome-run.c (show_run_dialog): set wmclass to Panel/run_dialog
	* menu.c (about_cb): set wmclass to Panel/about_dialog

2000-04-29  Dan Mueth <d-mueth@uchicago.edu>

	* panel.hints: Modified some hints and added some new hints.
	  Removed one hint which is covered by a new hint.

Sat Apr 29 19:02:58 2000  George Lebl <jirka@5z.com>

	* panel.c: accept _MOVE drops also, but never pass the del flag
	  to drag_finish and also prefer _COPY when we can.  This is because
	  netscape _MOVEs urls for some reason

Sat Apr 29 17:04:42 2000  George Lebl <jirka@5z.com>

	* session.c: if the dentry is kde, then try a really simple
	  conversion by just kicking out the %? from the exec vector.
	  partly fixes bug #9816

Sat Apr 29 15:42:34 2000  George Lebl <jirka@5z.com>

	* rgb-stuff.c: Apply modified patch from Peter Wainwright
	  <peter.wainwright@nrpb.org.uk> for bug #9767

Sat Apr 29 13:30:11 2000  George Lebl <jirka@5z.com>

	* basep-widget.c (basep_widget_realize) (basep_widget_redo_window):
	  call xstuff_set_no_group when realized

	* foobar-widget.c (foobar_widget_get_type) (timeout_cb)
	  (set_fooclock_format) (append_format_item)
	  (foobar_widget_update_winhints) (foobar_widget_init)
	  (foobar_widget_redo_window):  fix a warning, don't make tooltips
	  until neccessary, override the realize method and after realization
	  call the update_winhints and xstuff_set_no_group (also called in
	  redo_window)

	* xstuff.[ch] (xstuff_set_no_group):  Add this call, it unsets the
	  group hint for a window.  This makes the panels not part of the
	  same group as the dialogs meaning they won't get minimized with
	  the "group"

Tue Apr 25 20:13:45 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c (loadup_vals):
	* session.c (load_up_globals): Make keep_bottom the default

2000-04-25  David C. Mason  <dcm@redhat.com>

	* help/C/panel.sgml: changed the example applets text to match the screenshot

2000-04-20  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (create_root_menu):
	(create_applets_menu): 
	(make_add_submenu): use new gnome-applets icon

Wed Apr 19 00:05:46 2000  George Lebl <jirka@5z.com>

	* menu.[ch], foobar-widget.c: create_root_menu can work on an
	  existing menu, there is a menu_needs_reread function and in
	  foobar we use that to reread the menu instead of
	  submenu_to_display.  also very minor cleanup

Tue Apr 18 23:38:40 2000  George Lebl <jirka@5z.com>

	* session.c: if we find a gnomepager applet and gnomepager_applet is
	  not in path load deskguide and tasklist in it's place

2000-04-16  Karl EICHWALDER  <ke@suse.de>

	* panel.soundlist: Add de and ru entries from revision 1.18.

2000-04-14  Miguel de Icaza  <root@the-dot-in.helixcode.com>

	* main.c (setup_visuals): Always setup the visuals here.
	
	* menu.c (menu_new): Do not change the colormap/visual here, it is
	useless.  There are too many places where items with parent-relative are created

2000-04-14  Fatih Demir	<kabalak@gmx.net>

	* panel.soundlist & panel.hints & \ 
		gnome-panel-properties.desktop :
		Added the Turkish entries ...

Thu Apr 13 23:35:56 2000  George Lebl <jirka@5z.com>

	* rgb-stuff.c: in tile_rgb handle images with alpha channel
	  appropriately

2000-04-12 Mark Crichton <crichton@gimp.org>

        * button-widget.c, gnome-panel-properties.c, menu.c, nothing.cP,
        panel-widget.c, panel_config.c, rgb-stuff.c, rgb-stuff.h:
        Fixes to jive with gdk-pixbuf changes

2000-04-12  Karl EICHWALDER  <ke@suse.de>

	* panel.soundlist: Add `de'.

2000-04-05 Dan Mueth <d-mueth@uchicago.edu>

	* help/C/panel.sgml: Updated discussion of keybindings
	* gnome-run.c: point to correct part of doc for Run... button
	* applet.c: point to correct part of doc for Run... button
	* help/C/panel.sgml: Added Run Button section, moving some text
	  that was in the Main Menu section
	* help/C/figures/panel_runbutton.png: Added this screenshot
	* help/C/figures/panel_runprogram.png: Added this screenshot

Tue Apr 04 19:08:56 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: point to the correct part of the docs for the help
	  button

2000-04-04  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (create_root_menu): revert last commit, no patch was
	mailed to me
	(create_new_panel): fix a crash, time for 1.1.8.1

2000-04-04  Matthias Warkus  <mawa@iname.com>

	* menu.c: Use gnome-about.gnome.png.

2000-04-04  Jacob Berkman  <jacob@helixcode.com>

	* gnome-panel-properties.desktop: remove #

	* foobar-widget.c (timeout_cb): when the day changes update
	the tooltip

	* foobar-widget.c (append_clock_menu): make a format submenu
	(timeout_cb): use clock format instead of hard coded one

	* session.c (load_up_globals): 
	(write_global_config): 
	(convert_write_config): 
	(convert_read_old_config): 
	* gnome-panel-properties.c (loadup_vals): 
	(write_config): rename the tiles key

	* session.c (init_user_panels): load clock format
	* session.c (save_panel_configuration): save clock format

	* foobar-widget.c: remove some #if 0'd code

Mon Apr 03 21:01:27 2000  George Lebl <jirka@5z.com>

	* gnome-run.c, launcher.c: add help buttons and link them

2000-04-03  Jacob Berkman  <jacob@helixcode.com>

	* help/*/Makefile.am: use new makefile stuff

	* logout.c (load_lock_applet): 
	* applet.c (applet_callback_callback): add some things jwz requested

2000-03-31  Jacob Berkman  <jacob@helixcode.com>

	* panel_config.c (panel_config): add links for other panel
	types

	* menu.c (add_menu_to_panel): remove some dumb code

	* menu-properties.c (phelp_cb):	
	* applet.c: (applet_callback_callback): show main menu or
	normal menu depending what this menu is

	* gnome-panel-properties.c (help): hook into new help

	* swallow.c (really_add_swallow): show swallowed window help
	(ask_about_swallowing): add help button

2000-04-03  Alastair McKinstry  <mckinstry@computer.org>

	* gnome-panel-properties.desktop: Added Irish translation

Mon Apr 03 13:46:36 2000  George Lebl <jirka@5z.com>

	* doc/tmpl/status-docklet.sgml: added a note about using
	  gnome_CORBA_init rather then gnome_init

Sun Apr 02 15:43:23 2000  George Lebl <jirka@5z.com>

	* gnome-run.[ch],menu.c,sesssion.c,applet.h: added one more special
	  applet icon for the gnome-run thing.  To make it consistent and be
	  able to drag it onto the panel just like logout or lock

	* foobar-widget.c: just move gnome-run.h below all the includes

2000-04-02  Martin Baulig  <martin@home-of-linux.org>

	* help/C/figures/Makefile.am: Moved $(figs_DATA) stuff here. This
	was necessary to fix installation of this stuff.
	* help/de/figures/Makefile.am: Likewise.

	* help/Makefile.am: Since I don't see any reason why the locale
	subdirectories should be disabled, enable them.

	* help/de: Added german translation of the GNOME Panel
	Manual.

Sun Apr 02 01:24:24 2000  George Lebl <jirka@5z.com>

	* xstuff.c: fix a very bad segfault from reading the client list, I'm
	  now wondering why this was working at all.

	* status-docklet.c: use (void) rather then () in function declaration

2000-04-02  Jonathan Blandford  <jrb@redhat.com>

	* gnome-panel-properties.c (revert): prevent control-center from
	getting confused by setting changing flag.

2000-03-30  Jacob Berkman  <jacob@helixcode.com>

	* help/C/Makefile.am: move some stuff around and install
	the stylesheet images

	* menu.c (create_root_menu): use gnome-run.png

2000-03-29  Dan Mueth <d-mueth@uchicago.edu>

	* help/C/figures/launcher_properties_advanced.png: new screenshot
	* help/C/figures/launcher_properties_basic.png: new screenshot
	* help/C/figures/mainmenu_properties.png: new screenshot
	* help/C/figures/glob_pref_anim.png: updated
	* help/C/panel.sgml: Changed to refer to new screenshots

2000-03-29  Matthias Warkus  <mawa@iname.com>

	* panel.hints: Added German translations.

2000-03-27  Jacob Berkman  <jacob@helixcode.com>

	* Makefile.am (gnome_panel_properties_capplet_LDADD): use capplet
	stuff from gnome-config

2000-03-27  Christopher R. Gabriel  <cgabriel@firenze.linux.it>

	* panel.hints: Added italian translations.

2000-03-27  Kjartan Maraas  <kmaraas@online.no>

	* panel.hints: Added Norwegian translations.
	
2000-03-26  Jacob Berkman  <jacob@helixcode.com>

	* panel-util.[ch] (panel_pbox_help_cb): convenience function for 
	help showage

	* launcher.c (create_properties_dialog): 
	* menu-properties.c (create_properties_dialog): 
	* menu.c (edit_direntry): 
	* panel_config.c (panel_config): hook up some help buttons

Sun Mar 26 17:14:44 2000  George Lebl <jirka@5z.com>

	* xstuff.c,swallow.c,panel-util.c: add gdk_flush before poping the
	  errorhandler and rearrange the calls a bit to avoid to many flushes

2000-03-26  Jacob Berkman  <jacob@helixcode.com>

	* global-keys.c (panel_global_keys_setup): flush so that errors
	are not handled later

Fri Mar 24 15:44:34 2000  George Lebl <jirka@5z.com>

	* doc/Makefile.am: don't clean *.signals so that "make clean;make"
	  works

	* button-widget.[ch]: sanitize a bit s/gint/gboolean/ where
	  appropriate and add a whole bunch of precondition checks

	* gnome-panel-properties.c: change "Applets" tab to "Panel Objects",
	  "Applet padding" to "Padding", and "Panel menu" to "Global menu",
	  also correct capitalization on "Button type", "Normal tile",
	  "Clicked tile"

	* foobar-widget.c: include panel-util.h

	* panel-types.h: add a comment about number of _TILE enums

	* extern.c, gnome-run.c: fix warnings

Fri Mar 24 10:16:55 2000  George Lebl <jirka@5z.com>

	* panel-util.c: add utility functions for setting dialog layers and
	  doing error dialogs with a printf like functionality

	* launcher.c,main.c,swallow.c,menu.c: use the above functions

	* menu.c: fix bug number 7815 and have it spew error dialogs if it
	  encounters errors.

2000-03-24  Alexander Kirillov  <kirillov@math.sunysb.edu>

	* panel/help/C/panel.sgml: editing; removed reference to "Run
	program", and many minor changes.  

2000-03-23  Daniel Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Removed detailed FDL
	* panel/help/C/panel.sgml: Corrected license and added URL for FDL
	* panel/help/C/panel.sgml: Editted through end of Menus

2000-03-22  Daniel Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Added more Menu Panel stuff
	* panel/help/C/panel.sgml: Added FDL
	* panel/help/C/panel.sgml: Editted through Panel on The Main Menu

Wed Mar 22 17:08:35 2000  George Lebl <jirka@5z.com>

	* panel-widget.c,extern.[ch],panel.c: the do_draw applet signal is
	  now sent only when it is very likely that the rgb has changed,
	  this makes it much nicer on system resources then before.  Also
	  optimized the sending of the stuff over corba so that it doesn't
	  get sent too many times right after each other.

2000-03-21  Daniel Mueth <d-mueth@uchicago.edu>

	* panel/help/C/figures/*.png: Replaced screenshots with new ones
	  using sawmill/microgui        

Mon Mar 20 21:42:58 2000  George Lebl <jirka@5z.com>

	* panel.c: accept kde link files as well

Mon Mar 20 17:02:20 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: catch more corba exceptions and give warnings

	* menu.c: fix some braindamages with respect to getting menu
	  directories, don't use unconditional versions where not approriate,
	  properly test for files being directories

	* title-item.(c|h|gob),menu.c: use a special title-item widget.  The
	  Beast hack didn't work right for me.  This eliminates flicker.  And
	  no we don't require gob, so if you want to rebuild the .[ch] file,
	  run gob on the .gob file by hand.  All it does is override the
	  "select" with an empty method which has the same result as what we
	  have now but without any flicker.

	* foobar-widget.c: bind submenu_to_display on the main "programs"
	  menu

Mon Mar 20 06:01:40 2000  George Lebl <jirka@5z.com>

	* extern.c: apply patch from John Ellis <johne@bellatlantic.net>
	  to fix a memory leak with sending rgb buffers to applets

2000-03-16  Jacob Berkman  <jacob@helixcode.com>

	* floating-widget.c (floating_pos_get_hide_orient): autohide
	towards the nearer edge of the screen

2000-03-14  Jacob Berkman  <jacob@helixcode.com>

	* menu-util.c (applet_menu_position): don't let the menu go off the
	screen for a foobar
	(panel_menu_position): ditto

	* foobar-widget.c: remove gdk-bufmap reference

2000-03-16  Ettore Perazzoli  <ettore@helixcode.com>

	* doc/Makefile.am (scan): Fix `--source-dir' parameter.
	(sgml): Likewise.

2000-03-14  Birger Langkjer <birger.langkjer@image.dk>

	* panel.hints: added danish translation to panel hints.

Sun Mar 12 01:32:17 2000  George Lebl <jirka@5z.com>

	* menu.c: remove ugly system() hack and replace it with
	  gnome_exec_async

	* swallow.c: remove an even uglier system() hack and replace with
	  gnome_exec_shell

	* swallow.c,xstuff.[ch]: moved get_window_id to xstuff completely
	  and made it do substructure notify but only when actively looking
	  for a new window to swallow fixes bug #6352

2000-03-12  Peter Hawkins  <peterhawkins@ozemail.com.au>

	* gnome-panel-properties.c: made "hungry_menus" config item consistent
	as "memory_hungry_menus".

Sat Mar 11 19:32:50 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c: set default tile path to "tiles" so that
	  when there are no default tiles it still goes to that directory

Sat Mar 11 02:08:04 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c: read/save the remove confirm flag fixes
	  #7018

	* session.c,menu.c,launcher.c,gnome-run.c,swallow.c: When the panels
	  are on top, then put all dialogs above dock.  All except the
	  properties dialog which I'm not sure about.  And only do it if
	  the panels are really on to.

2000-03-10  Jacob Berkman  <jacob@helixcode.com>

	* applet-widget.c (applet_widget_get_rgb_bg): use height for the
	height (spotted by John Ellis <johne@bellatlantic.net>)

Thu Mar 09 21:04:54 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: don't lookup _("") as that will get the .po file
	  header which just make foobar go nuts

2000-03-07  Daniel Mueth <d-mueth@uchicago.edu>

	* panel/help/C/panel.sgml: Editted through Panel Basics
	* panel/help/C/figures/: Removed old empty directories

2000-03-04  Jacob Berkman  <jacob@helixcode.com>

	* foobar-widget.c (foobar_widget_init): put favorites before settings

Fri Mar 03 01:26:02 2000  George Lebl <jirka@5z.com>

	* panel-widget.c,button-widget.[ch]: added a bunch of preconditions
	  and did s/int/gboolean/ in a bunch of places while trying to find
	  a possible segfault

Thu Mar 02 23:28:13 2000  George Lebl <jirka@5z.com>

	* panel.hints: fix bug #6767 and add a couple czech translations

Thu Mar 02 23:14:34 2000  George Lebl <jirka@5z.com>

	* menu.c,menu-properties.c: make main menu tearoffable and fix a
	  problem on apply with getting the current panel

Thu Mar 02 23:07:03 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c,session.c: after a widget is remove, queue_resize
	  all the panels, fixes bug #6763 also when "keep panels on bottom"
	  is on, put it in the "BELOW" layer, fixes bug #6764
	  
	* menu.: store flags on the menu to correctly tearoff the main menu.
	  store even through saves. Partly fixes bug #6765

2000-03-02 Alexander Kirillov <kirillov@math.sunysb.edu>

        * help/C/panel.sgml: made some corrections suggested by drake (part
	      2) and telsa 

	 - added info on tear-off menus

	  - added info on configuring the keyboard to use "menu" and "windows"
	   keys if it was incorrectly configured during installation 

2000-03-01 Alexander Kirillov <kirillov@math.sunysb.edu>

	* help/C: added TODO file for panel docs 

2000-02-29  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/panel.sgml: Added corrections from drake

Tue Feb 29 17:57:09 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: it's gnome-pim not gnome-pimp ... whoops

Mon Feb 28 23:48:24 2000  George Lebl <jirka@5z.com>

	* foobar-widget.c: add (www) next to the web links in the menu and
	  display an error dialog if we can't execult gmc-client or gnomecal

Mon Feb 28 23:35:46 2000  George Lebl <jirka@5z.com>

	* panel.c,foobar-widget.[ch],xstuff.c: port the redo_window to
	  foobar, and make it handle WM switches

Mon Feb 28 22:53:40 2000  George Lebl <jirka@5z.com>

	* applet.c: change "Move applet" to "Move" since we're not moving
	  just applets so this is clearer.

Mon Feb 28 22:47:57 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: fix orient freezing so that orient gets properly
	  updated

Mon Feb 28 22:38:25 2000  George Lebl <jirka@5z.com>

	* session.c,gnome-panel-properties.c: use the kde like defaults for
	  the menu and the run key.

Mon Feb 28 05:29:30 2000  George Lebl <jirka@5z.com>

	* menu.[ch],menu-fentry.h,foobar-widget.[ch]: pass around a "title"
	  boolean, also setup the prototypes correctly and randomly cleanup
	  code and rerevert some accidentally reverted changes.  Also fixed
	  a whole bunch of warnings and other such stuff.

	* extern.c: remove some dead code

	* button-widget.c: handle foobar-widget

2000-02-28  Jacob Berkman  <jacob@helixcode.com>

	* foobar-widget.[ch]: implement george's idea of a panel with
	menu items on it
	
	* sliding-widget.c (sliding_pos_get_pos): minimum Y is foobar
	height

	* session.c (save_panel_configuration): handle a foobar
	(save_panel_configuration): only write basep stuff for
	basep widgets
	(init_user_panels): create a foobar

	* panel.c (panel_realize): update foobar hints
	(panel_destroy): get the right panel
	(make_popup_panel_menu): find out if we are a foobar or not
	(panel_event): handle the foobar
	(panel_setup): ditto

	* menu.[ch] (setup_internal_applet_drag): foobar needs this
	(create_menu_at): same
	(submenu_to_display): ditto
	(create_fake_menu_at): again
	(create_menu_at): one more time
	(create_menu_at_fr): does this need to be done?
	(find_empty_pos_array): 
	(find_empty_pos_array): skip foobars
	(create_new_panel): create a foobar if there isn't one
	(create_add_panel_submenu): menu panel (foobar) item
	(status_unparent): get the correct panel for foobar/basep
	(remove_panel_query): get correct panel now that there are
	foobar widgets
	(panel_tearoff_new_menu): handle the foobar
	(make_properties_submenu): add foobar support
	(make_panel_submenu): add is_basp flag
	(make_panel_submenu): only have a properties menu if we are a basep
	(create_panel_submenu): is_basep flag
	(panel_menu_tearoff_new_menu): pass is_basep
	(create_root_menu): apply some fabric softener
	... and so on

	* menu-util.c (panel_menu_position): deal with foobar
	(applet_menu_position): ditto

	* floating-widget.c (floating_pos_get_pos): minimum y is
	foobar height

	* extern.c (s_panelspot_show_menu): deal with the foobar

	* edge-widget.c (edge_pos_get_pos): if we are not on the bottom
	set y to foobar height

	* basep-widget.c (basep_widget_size_allocate): minimum y is height
	of foobar

	* applet.[ch] (create_applet_menu): take an 'is_basep' flag telling
	us if the basep properties menu should be shown

	* aligned-widget.c (aligned_pos_get_pos): minimum height is that
	of the foobar

Sat Feb 26 18:57:55 2000  George Lebl <jirka@5z.com>

	* basep-widget.[ch],border-widget.c,aligned-widget.c,floating-widget.c:
	  ignore hidebutton clicks in weird states completely as they can
	  apparently happen and the clicked methods return nothing, not an
	  int (just minor cleanup)

2000-02-23  Peter Hawkins  <peterhawkins@ozemail.com.au>

	* border-widget.c: Provisional fix to stop panel hitting assert on
	double click of hidebutton. (By commenting out the assert - this fix
	may therefore be incorrect).

2000-02-22  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/panel.sgml: Clean up of first couple sections

2000-02-25  Alexander Kirillov <kirillov@math.sunysb.edu>
	
	*help/C/panel.sgml: added section on appl. launcher properties 

Fri Feb 25 03:25:24 2000  George Lebl <jirka@5z.com>

	* applet.c: when displaying the applet menu, setup the "menu_panel"
	  on all submenus.  Ugly, but that's the only way it works even
	  if the applet moves.

2000-02-24  Alexander Kirillov <kirillov@math.sunysb.edu>
	
	*help/C/panel.sgml: Minor clean-up; added info on panel removal
	 and "run..." command

2000-02-22  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/figures/: almost all new screenshots with E instead
	of fvwm2, which had RH logo

	* help/C/figures/: erased many obsolete screenshots

	* help/C/panel.sgml: Changes to use new screenshots

2000-02-22  Jason Leach  <leach@wam.umd.edu>

	* menu.c (show_item_menu): Fix bug #6417: renaming two instances
	of "add this to personal menu" to "add this to favorites menu"

2000-02-22 Alexander Kirillov <kirillov@math.sunysb.edu>
	
	* help/C/panel.sgml: rewrote "global preferences" section + minor
	  updates 

2000-02-22  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/panel.sgml: Rewrote example Panel section

	* help/C/figures/example_panel.png: New example Panel screenshot

2000-02-20  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/panel.sgml: Modified various sections, including Basics,
	Menus, and Main Menu.  

2000-02-20  Jacob Berkman  <jacob@helixcode.com>

	* Makefile.am (sys_DATA): put in the Desktop section

	* session.c (load_default_applets1): use new .desktop locations

Sun Feb 20 17:50:14 2000  George Lebl <jirka@5z.com>

	* applet.c: don't let button clicks through to the panel.  DOH!

2000-02-20  Jacob Berkman  <jacob@helixcode.com>

	* panel_config.c (panel_config): remove an uneeded border
	(floating_notebook_page): make the spin boxes a bit larger

2000-02-20  Jacob Berkman  <jacob@helixcode.com>

	* session.c (save_applet_configuration): 
	(init_user_panels): do a g_warning instead of
	g_assert_not_reached()

Sun Feb 20 02:39:46 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: fix drops onto panels after redo_window

Sun Feb 20 02:35:20 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: put the file selection into the above dock as well and
	  raise it

Sat Feb 19 18:31:28 2000  George Lebl <jirka@5z.com>

	* menu.c: use parent->state rather then fake->fake->state as the
	  fake was blown away already and we really need the state of the
	  parent since we're getting it's background

Sat Feb 19 17:49:44 2000  George Lebl <jirka@5z.com>

	* global-keys.c,panel-util.c: use gdk_error_trap_push/pop

Sat Feb 19 17:26:54 2000  George Lebl <jirka@5z.com>

	* applet.c: propagate button_press_events even if we don't display
	  a menu.

Sat Feb 19 16:49:05 2000  George Lebl <jirka@5z.com>

	* menu.c: find out if an icon exists before loading it

Sat Feb 19 16:26:06 2000  George Lebl <jirka@5z.com>

	* menu.c: Use gdk-pixbuf and GtkPixmap for icons.  Also create all
	  menus in the gdkrgb visual.  Port the scale_down function to work
	  on ArtPixBufs and work with alpha channel to get nicer scaling then
	  gdk-pixbufs.

Sat Feb 19 04:15:28 2000  George Lebl <jirka@5z.com>

	* menu.c: use an alignment instead of "X" label

Sat Feb 19 03:27:09 2000  George Lebl <jirka@5z.com>

	* menu.c: do loading of icons on the fly and unload them when
	  the icon is hidden.  Also use pure gnome_pixmap for loading
	  icons to reduce memory usage but copy the gnome_stock scale_down
	  function

	* session.c,gnome-panel-properties.c: make everything default
	  to !hungry_menus even if the user had it set before as it's
	  probably now faster without it

Fri Feb 18 23:15:42 2000  George Lebl <jirka@5z.com>

	* gnome-run.c: fix usability issues, browse now adds to the command
	  line instead of replacing it, and we add a "run in terminal", and
	  we use the pop string parsing routine and use gnome_execute_async
	  so that we can easily check if we failed

Fri Feb 18 20:43:56 2000  George Lebl <jirka@5z.com>

	* global-keys.c: cleanup the filter function and remove dead code

Fri Feb 18 19:22:23 2000  George Lebl <jirka@5z.com>

	* global-keys.c: fix grabing of all keys when the keycode was not
	  found

	* gnome-run.c: always place at mouse position always

	* basep-widget.c: fix some issues with on-bottom panels and hiding
	  and showing

	* gnome-panel-properties.c,session.c: default to "Menu" and not
	  "Hyper_L".  It seems that xfree binds the "Menu" correctly when
	  104/105 keyboard is selected

2000-02-18  Daniel Mueth <d-mueth@uchicago.edu>

	* help/C/figures/menu_properties.png: changed screenshot
	* help/C/panel.sgml: Added screensaver quirk. Small markup fixes.
	* help/C/figures/launcher_advprops.png: added this screenshot
	* help/C/figures/status_dock.png: added this screenshot
	* help/C/panel.sgml: Added some Launcher info.

Fri Feb 18 17:38:50 2000  George Lebl <jirka@5z.com>

	* global-keys.c,session.c,gnome-panel-properties.c,panel-util.c: use
	  keysyms and not keycodes to handle the global key combinations,
	  don't do run as a "subkey" but as it's own separate key.  The
	  default for menu is now "Hyper_L" and default for run is
	  "Control-Mod1-r".  Since by default on RH there is no keysym for
	  the windows key you may need to do
	  "xmodmap -e 'keycode 115 = Hyper_L'"

	* menu.c: lock the accelerators since we don't handle them anyway

Fri Feb 18 17:37    2000  Alexander Kirillov <kirillov@math.sunysb.edu> 
        * Worked on the menus sections; added "bugs and limitations"
	section (developers: take a look!)
	
Thu Feb 17 20:30:38 2000  George Lebl <jirka@5z.com>

	* status.c: fix a bug when no status was added on startup, running an
	  app with a status dock would crash the panel.

Thu Feb 17 02:12:34 2000  George Lebl <jirka@5z.com>

	* session.c: get correct defaults when converting from old config

Thu Feb 17 00:24:16 2000  George Lebl <jirka@5z.com>

	* panel_config.c: correctly setup the orientation toggles for
	  floating panels

2000-02-16 17:10 EST Daniel Mueth <d-mueth@uchicago.edu>
	
	* help/C/panel.sgml: Worked on object sections, especially
	Drawers and Special Objects

	* help/C/figures: Added a few figures

2000-02-16 17:10 EST Alexander Kirillov <kirillov@math.sunysb.edu>
	 
	* help/C/panel.sgml: rewrote some sections, cleaned markup -
	should now build w/o problems

2000-02-16  Jacob Berkman  <jacob@helixcode.com>

	* doc/impl/: it wants to remove some blank lines.  I'm not going
	to say no.
	
	* doc/panel.sgml: basically sgml-ized APPLET_WRITING. Still
	needs some markup/links to API docs

	* APPLET_WRITING: note saying to look in doc/
	
Wed Feb 16 00:05:07 2000  George Lebl <jirka@5z.com>

	* doc/tmpl/status-docklet.sgml: add StatusDocklet docs

2000-02-16  Jacob Berkman  <jacob@helixcode.com>

	* status-docklet.c (status_docklet_new_full): fix tyops

	* doc/panel.sgml: make the text more consistent
	
	* doc/panel.types:
	* doc/panel.sgml:
	* doc/panel-decl.txt:
	* doc/panel-sections.txt: moved some sections around, include
	signals in docs.

	* doc/tmpl/: these are ready to be edited  (i hope)

2000-02-15  Jacob Berkman  <jacob@helixcode.com>

	* help/C/Makefile.am: dist index.html and panel.sgml

	* help/C/panel.sgml.*: remove these unneeded files

	* help/C/Makefile.am (a_oldfigs_DATA): install new figures
	and don't generate panel.sgml

	* help/C/figs/: remove old dir

Tue Feb 15 13:49:05 2000  George Lebl <jirka@5z.com>

	* status-docklet.c,applet-widget.c: Documentation fixes and
	  enhancments. Plus a small type in the status docklet fixed.

Tue Feb 15 02:05:20 2000  George Lebl <jirka@5z.com>

	* button-widget.c,basep-widget.c: fix the button freezing bug, the
	  event windows were on the basep and weren't getting reparented
	  when the basep was having it's window replaced.

2000-02-15  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (make_panel_submenu): add a menu item to show some help

	* panel-widget.c (panel_widget_applet_move_to_cursor): don't return
	a val in a void func

	* help/C/Makefile.am: generate panel.sgml from panel.sgml.*
	and install images correctly, and add some stuff so we show
	up in the help browser

	* Makefile.am: add doc and help dirs (note: this won't build,
	please wait a bit)
	
	* status-docklet.c:
	* applet-widget.c: add/clean up inline docs
	
	* doc/:
	* doc/impl/: panel API doc stuff for applet-widget and status-dock
	
	* doc/C/: cvs rm since my shell account is not working
	* help/C/: move above stuff here.  Will make it build after I
	get this commit done

Mon Feb 14 13:25:37 2000  George Lebl <jirka@5z.com>

	* menu.c: switch the Color and Pixmap labels as they were wrong

Mon Feb 14 13:14:04 2000  George Lebl <jirka@5z.com>

	* session.c: fix reading of old style menus so that users get
	  their correct setup when they upgrade from 1.0 to 1.2

Sun Feb 14 11:42:12 2000  David Mason <dcm@redhat.com>
	
	*doc/ added doc directory and panel doc - this doc is not ready
	for inclusion - it is\ being worked on...

Sun Feb 13 21:54:26 2000  George Lebl <jirka@5z.com>

	* applet-widget.c,extern.c,applet.c: instead of adding gtkplug to
	  a gtksocket do a slight hack.  Since the user can add only one
	  widget and needs to use applet_widget_add, we don't really care if
	  the applet is the real gtk parent.  So if we find the socket
	  widget, we rip it out of it's event box and stick it into a
	  temporary offscreen window.  Then on applet_widget_add we stick the
	  given widget into the eventbox

	* button-widget.c: add a debugging puts since I need to find that
	  frozen buttons bug

	* panel-widget.c: fix the scheduling of the moving.

Sun Feb 13 20:06:46 2000  George Lebl <jirka@5z.com>

	* panel-widget.[ch]: fix many races and applet dragging issues,
	  drags will no longer hang and there should be no more weird
	  grabs.  Theoretically only of course.

Sun Feb 13 02:08:30 2000  George Lebl <jirka@5z.com>

	* menu.c,panel_config_global.h,gnome-panel-properties.c,session.c:
	  implement a dialog for asking to remove non empty panels and
	  make it an option.  Also fix removing of drawers if only one
	  base panel is present.  If the panel is the last panel the
	  remove item is grayed out.  If the user will be asked, three
	  dots are appended to the item's label.

2000-02-12  Jason Leach  <leach@wam.umd.edu>

	* menu.c (make_add_submenu): whee, bump my commit score, added
	ellipses on the Add To Panel menu labels that needed a secondary
	dialog (Launcher and Swallowed app)

Fri Feb 11 18:56:47 2000  George Lebl <jirka@5z.com>

	* drawer.c,panel.c,drawer-widget.c: when new drawer is open, autoshow
	  the parent basep, use the same orientation changing for drawers
	  as for floating, and correctly get position when deciding on
	  orientation of applets in a drawer

Fri Feb 11 18:36:15 2000  George Lebl <jirka@5z.com>

	* drawer.c: autoraise panels on mouseover of the drawer button

Fri Feb 11 18:33:57 2000  George Lebl <jirka@5z.com>

	* panel.c: make drawers on sliding and aligned widgets also nicely
	  follow orientation

Fri Feb 11 14:38:32 2000  George Lebl <jirka@5z.com>

	* menu.c: when in hungry_menus mode ("keep menus in memory") then
	  keep a list of fake_menus created and a timeout of 1 second, and
	  every second load 1 of the fake menus.  This should make it seem
	  faster while not killing the startup speed.

Wed Feb 09 18:26:46 2000  George Lebl <jirka@5z.com>

	* panel-widget.c: don't count the applet padding towards the width
	  of the last applet on a panel, but count the side padding

Wed Feb 09 18:09:20 2000  George Lebl <jirka@5z.com>

	* button-widget.c: the event window is now made on the basep of
	  the panel and spans the entire width of the panel.  This means that
	  clicks along the edge will work just fine on the icons even if
	  there is a frame or the panel is enlarged by some other applet.
	  if the applet is on the absolute beginning or the end of the panel
	  then the thing also expands to the edge of the inner frame.

	* button-widget.[ch],launcher.c: do the dnd highlighting in the
	  button widget xlib draw function because the gtk_drag_highlight
	  won't handle our pixmap cache right.

	* panel-widget.[ch],basep-widget.c: when the applet has no
	  hidebuttons then don't pad applets on the ends

Wed Feb 09 02:06:20 2000  George Lebl <jirka@5z.com>

	* gnome-panel-properties.c: the autoraise is no longer a non-gnome-wm
	  option only

	* basep-widget.c: do the autoraise even on compliant windowmanagers.
	  Also state_change signal is now called BEFORE the animation occurs.
	  The only purpose of the state_change signal is basically to
	  show and hide drawers, and we want to hide drawers before we start
	  moving.

	* menu.c: fix a segfault when adding drawers

	* drawer-widget.c: when hiding a drawer, raise the parent panel
	  so that the drawer doesn't flash over the panel itself
	  (XMoveResizeWindow first moves a window then resizes and I
	  have no clue how to make both happen at the same time, so this
	  is the only way to make it not be ugly).  Also in get_pos
	  we check temp_hidden and return an offscreen pos if we are
	  temp_hidden.

	* panel.c: when temp_hiding a drawer, move it off screen with gdk
	  so that the hiding is immediate.

Mon Feb 07 18:43:42 2000  George Lebl <jirka@5z.com>

	* session.c,extern.c: make the session saving check for non existent
	  call and fall back to old style session saving if that's the case
	  this should very theoretically make 1.0 applets work even if they
	  have the old applet library linked in.

Mon Feb 07 16:48:34 2000  George Lebl <jirka@5z.com>

	* applet-widget.[ch]: add a new call, applet_widget_queue_resize
	  which can queue resize on the socket for shlib applets since
	  they can't use it on the applet-widget itself as it has now
	  "parent".

Mon Feb 07 16:18:12 2000  George Lebl <jirka@5z.com>

	* extern.c,applet-widget.c: hackarounds around broken
	  gtkplug/gtkwidget.  If in the same app, on destroy we kill
	  references to each other, and the first widget to get killed kills
	  the other.  Fixes bug #6000

Mon Feb 07 14:47:18 2000  George Lebl <jirka@5z.com>

	* applet-widget.[ch]: remove old size stuff

	* applet-widget.c,extern.c: match corba functions to their prototype
	  to avoid the ugly (gpointer)& hack and to catch mismatches in
	  prototypes (a bunch was there)

Mon Feb 07 13:44:48 2000  George Lebl <jirka@5z.com>

	* panel_config.c: Fix the exciting promintent typo for Telsa

Sun Feb 06 02:08:10 2000  George Lebl <jirka@5z.com>

	* session.c: fixed the reshuffeling of applets on restart by
	  inserting at exact locations on load rather then looking for
	  free spots

Sat Feb 05 18:12:49 2000  George Lebl <jirka@5z.com>

	* session.c: play with default config again, now on smaller screens
	  we make the panel smaller and one really small screens we disable
	  hidebutton arrow pixmaps too.  Also we check for /proc/apm and
	  if it exists we add the battery applet.

Sat Feb 05 04:36:04 2000  George Lebl <jirka@5z.com>

	* menu.c,panel.c: fix two warnings, and fix removing of panels

Fri Feb 04 16:51:16 2000  George Lebl <jirka@5z.com>

	* applet-widget.h: change one int to gboolean

2000-02-03  Tuomas Kuosmanen  <tigert@gimp.org>

	* menu.c: made the debian menu to use the debian logo.
	I hope this doesnt introduce any hazards to user health.. :)

2000-02-02  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (make_panel_submenu): remove this seperator
	(remove_panel): remove the g_return_if_fail() since it is
	not always true

Tue Feb 01 22:13:49 2000  George Lebl <jirka@5z.com>

	* menu.c: don't regrab window on end of drag if the menu is torn off

Tue Feb 01 21:59:09 2000  George Lebl <jirka@5z.com>

	* menu.c: fixed loading tearoff menus so that the tearoff item isn't
	  shown on those.

Tue Feb 01 21:23:52 2000  George Lebl <jirka@5z.com>

	* menu-properties.[ch],menu.c,session.c,panel.c: somewhat cleanup
	  the main menu handeling and the menu path handeling and add
	  Programs and Favourites to "Add menu" submenu.  I think the menu
	  path stuff needs yet another small cleanup just to be saner, it's
	  currently not very sane and carries a lot of old cruft.

Tue Feb 01 20:34:04 2000  George Lebl <jirka@5z.com>

	* menu.[ch],panel.[ch],swallow.c,menu-properties.c,global-keys.c,
	  applet.c:  Get rid of the current_panel global.  Use the
	  "menu_panel" data on the menus everywhere and where appropriate
	  pass PanelWidgets.  Also fix instances of BasePWidget being set
	  for "menu_panel" instead of PanelWidget.

Tue Feb 01 01:10:20 2000  George Lebl <jirka@5z.com>

	* menu.[ch],extern.c,session.c: lots of cleanup, make the menu string
	  constants be translatable.  And fixed old config file loading.

Mon Jan 31 22:20:09 2000  George Lebl <jirka@5z.com>

	* applet-widget.[ch]: minor cleanups and added inline API docs
	  for about half the functions.  But need someone to set up building
	  of the API docs for applet-widget and status-docklet now.

Mon Jan 31 14:02:56 2000  George Lebl <jirka@5z.com>

	* button-widget.c: (setup_no_alpha) check for NULLness of the
	  tiles before looking into them.  Fixes crashes if tiles can't
	  be loaded

Sun Jan 30 15:11:25 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: move the drag_motion out of here

	* panel.c,launcher.c: do our own DND drop handeling so that we can
	  correctly ignore certain drops, such as dropping a launcher on
	  it's own panel, or on itself.  also unhide the panel on drag_motion

2000-01-30  Jacob Berkman  <jacob@helixcode.com>

	* menu.c: same with pixmaps as tearoffs below

	* panel_config_global.h:
	* session.c:
	* menu.c: remove global menus stuff
	
	* gnome-panel-properties.c: removed the global menus checkbox

	* tearoffitem.c (tearoff_item_new): use tearoffs only if
	enabled (in gnomecc)

	* menu.c (create_special_menu): get rid of warning
	(make_panel_submenu): change string per suggestion by
	Rodd Clarkson <rodd_clarkson@bigfoot.com>
	(add_tearoff): use tearoffs only if they are enabled (in gnomecc)
	(submenu_to_display): ditto
	(create_menu_at_fr): ditto
	(create_add_panel_submenu): again
	(make_panel_submenu): and again
	(create_panel_submenu): and again
	(create_desktop_menu): again
	(create_root_menu): and again

2000-01-29  Jacob Berkman  <jacob@helixcode.com>

	* menu.c (create_root_menu): make run use the same sizes

Sun Jan 30 00:57:18 2000  George Lebl <jirka@5z.com>

	* menu.c: don't load icons if they are turned off, and if we won't
	  use a pixmap because it's turned off, then destroy it

Sat Jan 29 17:51:07 2000  George Lebl <jirka@5z.com>

	* basep-widget.c: show the frame border on color backgrounds as well
          (only turn it off for pixmap ones)

	* session.[ch],main.c: add a write_global_config function to write to
	  disk the defaults.

Thu Jan 27 14:32:09 2000  George Lebl <jirka@5z.com>

	* applet-widget.h: Don't use the GNUC extention ({ }) as it's
	  absolutely not needed here.

	* applet-widget.c,extern.c: fix pg_return_.*if_fail compile errors
	  by passing a poitner to ev to these macros

Wed Jan 26 21:49:48 2000  George Lebl <jirka@5z.com>

	* applet-widget.c,extern.c: don't use g_return.*_if_fail stuff
	  for error returning and use pg_return.*_if_fail macros for corba
	  exception checking

Wed Jan 26 20:52:55 2000  George Lebl <jirka@5z.com>

	* *.[ch]: pedantic warning fixes

	* menu.c,drawer.[ch]: return boolean from load_drawer_applet and
	  when adding a menu as a drawer check this and exit properly

	* basep-widget.[ch],*-widget.c: all the guint16/gint16/gint stuff
	  especially around pointers is replaced by int and we no longer
	  assume types inside the GtkAllocation and GtkRequisition structure

Wed Jan 26 13:36:11 2000  George Lebl <jirka@5z.com>

	* menu.c: fixed a right click segfault on items

Wed Jan 26 13:02:19 2000  George Lebl <jirka@5z.com>

	* main.c: move xstuff_init above gnome_win_hints_init.  Thanks to
	  John Harper for this patch.

Tue Jan 25 14:28:07 2000  George Lebl <jirka@5z.com>

	* panel_config.c: work around a GTK+ bug by binding deactivate
	  and activating the last active item on the menu to get
	  the notification correctly

Tue Jan 25 13:53:53 2000  George Lebl <jirka@5z.com>

	* panel_config.[ch]: use the internal menu structure to properly
	  activate the right menu item and don't use radio menu items

Tue Jan 25 01:13:49 2000  George Lebl <jirka@5z.com>

	* menu.c,panel_config.[ch]: when types are changed change the
	  type notebook of the panel properties if it exists.  Also
	  use GtkFrame instead of GtkViewport for the empty space in the
	  position widget to avoid blackness

	* panel.c: small cleanup, and add a commented out binding of
	  the type_change signal

	* basep-widget.[ch]: comment out the type_change signal as it
	  is never in fact even emitted, but perhaps it should

Mon Jan 24 15:11:05 2000  George Lebl <jirka@5z.com>

	* menu.c: set menu_panel for each menu when shown.  Also correctly
	  get the current_panel for the item menus.  If the current_menu
	  is NULL, use panels->data and give warning.

Mon Jan 24 13:28:34 2000  George Lebl <jirka@5z.com>

	* menu.[ch],session.[ch],main.c: do tornoff menu saving in a nicer
	  way.  The old tornoff menus that were saved will be ignored, but
	  "oh well ..."

2000-01-24  Jacob Berkman  <jacob@helixcode.com>

	* session.c (apply_global_config): save large menu setting
	(load_up_globals): load large menu setting (default is based
	on screen size)

	* panel_config_global.h: add large menu toggle

	* panel_config.c (sliding_notebook_page): fix the layout of
	the sliding panel

	* menu.c: (optionally) use large icons for the .desktop folders

	* gnome-panel-properties.c: add a checkbox for large icon support

Sun Jan 23 15:37:01 2000  George Lebl <jirka@5z.com>

	* main.c,menu.c,menu-util.c,session.c,panel.c: use KDEDIR to try
	  to find kde, only then use what was passed on the configure command
	  line and try several other standard prefixes to try to find it,
	  if not always just fallback to the configure option.

Fri Jan 21 22:38:07 2000  George Lebl <jirka@5z.com>

	* panel-widget.c: always look for an empty spot first unless
	  insert_at_pos is given.  But then if that fails insert at
	  pos.

	* applet.[ch],menu.[ch],extern.[ch],drawer.[ch],logout.[ch],
	  swallow.[ch],status.[ch],session.c,panel.c: take an extra
	  argument to register_toy (exactpos) which specifies if to
	  look for an open spot or to insert exactly.  All the
	  load_*_applet have to take this parameter

	* panel.c: cleanup the drop stuff.  use extract_uris and copy
	  the extract_file func from HEAD gnome-libs and use that to get
	  local filenames.

Wed Jan 19 21:30:34 2000  George Lebl <jirka@5z.com>

	* extern.c,applet.c: cosmetic code changes, and add _() around
	  some g_warning strings

Wed Jan 19 19:01:26 2000  George Lebl <jirka@5z.com>

	* panel-util.[ch]: add strtok_with_escape function that works like
	  strtok but works with escaped strings and can return empty parts,
	  and escape_string which returns a newly allocated escaped version
	  of the string.  Also s/int/gboolean/ for places that need it.

	* menu.c: use gnome_error_dialog instead of g_warning in some places,
	  use gnome_exec_async to launch stuff and check it's return (doesn't
	  work with dentries as the dentry_launch doesn't return error), fix
	  reading of the lock flag for launching the screensaver, fix the
	  ugly add_to_personal function to work with files with spaces, and
	  for tearoff menu loading/saving use the escaping functions from
	  above

Wed Jan 19 16:00:55 2000  George Lebl <jirka@5z.com>

	* panel_config.[ch]: use radio items in the option menus, use
	  Standard instead of None.

	* xstuff.c: add forgotten return

2000-01-19  Jesus Bravo Alvarez  <jba@pobox.com>

	* menu.h: Missing ending parentheses in "Huge (80 pixels)" string

Tue Jan 18 03:29:27 2000  George Lebl <jirka@5z.com>

	* panel_config.[ch]: remove the radio buttons for the background
	  type and stick in an option menu instead.  Also fix the allocation
	  and updating of the size option menu.  I think perhaps we
	  should use the radiomenuitems here.  Also for screens with height
	  of less then 600, reduce the height of the pixmap preview to
	  50 pixels.  This all makes the properties dialog usable on
	  640x480

Mon Jan 17 00:40:25 2000  George Lebl <jirka@5z.com>

	* xstuff.[ch]: implement our own routines for finding out if we
	  are in a gnome compliant windowmanager, and if we are, notice
	  changes.

	* basep-widget.[ch]: implement a function that can change the
	  window without killing the widget to update self to a new
	  windowmanager.  This should get rid of all those bugs where
	  panel was running in a non-compliant mode on a compliant
	  wm etc ...

Thu Jan 13 02:20:28 2000  George Lebl <jirka@5z.com>

	* applet-widget.c: adapt to the new idl, which means HEAD applets
	  need to most definately load this version and not the old one,
	  to work with the newest panel, and a bunch of sanity
	  fixes that make it work with the 1.0 panel, the session_save
	  has been renamed to save_session and an old (1.0) session_save
	  was implemented.

	* menu-fentry.c: fix a small memory leak in get_applet_id_from_dentry

	* Makefile.am: once again switch the soname of the applet lib to be
	  0.0.1 since we really are binary compatible.  This means that all
	  HEAD applets need to be recompiled but most of all you all need
	  to delete that <prefix>/lib/libpanel_applet.so.1* first.

2000-01-11  Jacob Berkman  <jacob@helixcode.com>

	* panel_config.c (update_position_toggles): update the border
	toggle thingies when their panel gets moved around by the mouse
	(update_config_edge): use the updated stuff
	(update_config_size): ditto
	(update_config_align): ditto again
	(config_apply): ditto all over again
	(make_hidebuttons_widget): change strings according to the
	UI hit squad panel doo dad
	(make_position_widget): implement the UI hit squad button-
	around-the-border thing

	blah blah.  there is other stuff.  i am too tired.
	some of this stuff is borken, will fix when my eyes work again
	
2000-01-10  Jacob Berkman  <jacob@helixcode.com>

	* panel.c (make_popup_panel_menu): set the menu_panel data
	correctly

	* session.c (apply_global_config): when menu_flags changes
	destroy all of the panel's menus
	(load_default_applets1): get default menu flags from
	get_default_menu_flags()  (duh)
	(load_up_globals): load the panel menu flags

	* panel_config_global.h: add menu_flags field

	* panel.c (make_popup_panel_menu): don't try to disable
	the remove panel menu item

	* menu.c (remove_panel): try to remove a panel.  we have to
	do this in a function since we have sticky menus
	(create_panel_root_menu): use create_root_menu() since we have
	configurable global menu flagsnow
	(make_panel_submenu): add the 'remove this panel' menu item
	(create_panel_submenu): put 'About GNOME' here for now...
	(create_desktop_menu): ...instead of here
	(create_root_menu): some restructuring

	* menu-util.c (get_default_menu_flags): figure out which
	flags should be set by default in menus

	* menu-util.h: declare get_default_menu_flags ()

	* menu-properties.c (add_menu_type_options): remove obsoleted
	sanity check

	* gnome-run.c (show_run_dialog): add the pixmaps back, and
	make the entry wider	

	* gnome-panel-properties.c: #include "menu.h"
	(sync_menu_page_with_config): support for menu page
	right click/menu button menu
	(sync_config_with_menu_page): ditto
	(add_menu_options): ditto
	(menu_notebook_page): add page for configuring the
	(sync_config_with_misc_page): remove menu frame support
	(sync_config_with_misc_page): ditto
	(misc_notebook_page): move the menu frame to the menu tab
	(loadup_vals): change the default menu back to what it used to
	be, for the most part
	(write_config): save menu_flags
	(try): support for menu tab
	(revert): ditto
	(setup_the_ui): ditto again

	* button-widget.c (make_lc_pixbuf): scale by .85 instead of .9

Tue Jan 04 15:12:38 2000  George Lebl <jirka@5z.com>

	* button-widget.c: don't assume rowstride of a newly created
	  gdk-pixbuf in making the low color version

Tue Jan 04 01:24:24 2000  George Lebl <jirka@5z.com>

	* menu.c: add saving/loading of torn off special menus

Tue Jan 04 00:11:23 2000  George Lebl <jirka@5z.com>

	* menu.[ch],main.c,session.c: Save the dynamic menus that are torn
	  off in the state file.  This doesn't yet set the special menus yet

	* menu.c: make torn off menus be sticky be default to cover up for
	  the fact that we have no clue how to properly get positions of
	  windows that are in different workspaces and stuff

	* session.c: play with the default session again.  More logic to
	  make it work on all screens from 640x480 upwards.  Added a lock
	  and a logout button and kill the programs menu as it was redundant.
	  Also stick the mailcheck and the clock on the vertical panel with
	  the tasklist to make more room on the bottom one.

Mon Jan 03 00:30:42 2000  George Lebl <jirka@5z.com>

	* status.[ch],xstuff.c: destroy docklets on the _REMOVE message
	  from kwm.

Mon Jan 03 00:05:12 2000  George Lebl <jirka@5z.com>

	* xstuff.[ch],main.c,status.[ch]: moved a lot of xrelated stuff
	  to xstuff, and implement support for kde docklet thingies.  This
	  support is available even on non-kwm compatible WMs.

Sun Jan 02 01:48:28 2000  George Lebl <jirka@5z.com>

	* menu-fentry.c: set the FileRec type to FILE_REC_DIR so that
	  we free it correctly if the dir doesn't exist.  Fixes the
	  segfault on no .gnome/apps bug thingie

Wed Dec 29 20:48:59 1999  George Lebl <jirka@5z.com>

	* drawer.c,panel.c: send orientation changes to children on size
	  allocate of drawer and floating widget

	* floating-widget.c,drawer-widget.c: use correct orientation
	  depending on the position of the widget on screen, so that we
	  always point towards the center of the screen.

	* panel.c,extern.c: be a bit gentler with orientation changes and
	  don't issue orientation changes for extern and status unless
	  orientation really changed.

1999-12-29  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: get rid of warnings, and fix panel submenu tearoff

Wed Dec 29 00:22:34 1999  George Lebl <jirka@5z.com>

	* session.c: use a new config file variable to discover old files
	  and correctly add PANEL/DESKTOP and remove double full/sub menus,
	  also set the default properly instead of calculating it by hand and
	  leaving a magic number around

1999-12-29  Jacob Berkman  <jberkman@andrew.cmu.edu>

	Right now floating a panel menu doesn't work.  I will fix
	this when I'm not so tired.
	
	* session.c (load_default_applets1): change the defaults
	to show a panel and desktop sub menu

	* gnome-run.c (show_run_dialog): don't use pixmaps on
	the buttons

	* basep-widget.c (basep_widget_autohide): evi^H^H^Hvery
	beautiful and elegant way of not hiding when an applet
	pops up a menu (eg, tasklist), without adding any API

	* menu-fentry.c (init_fr_chunks): use memchunks for the
	file and dir recs.  This might help mem usage a little.

	* menu.h: add flags for panel and desktop menus

	* menu-properties.c (create_properties_dialog): 
	(properties_apply_callback): deal with new menu flags
	for panel and desktop

	* nothing.cP: use the new and improved GEGL
	* menu.c (about_cb): ditto

1999-12-28  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (about_cb): only show one about box
	(add_drawers_from_dir): clean up code a little to not
	indent so much
	(add_menu_to_panel): don't mask with _MENU_* and _MENU_*_SUB,
	only _MENU_*_SUB

Wed Dec 15 14:59:17 1999  George Lebl <jirka@5z.com>

	* panel.[ch],applet-widget.c: fix warnings

1999-12-13  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel.c (make_popup_panel_menu): only make the menu, don't pop
	it up
	(panel_event): popup menu here

	* global-keys.c (panel_global_keys_filter): popup menu here

	* session.c (apply_global_config): (re)init keystuff here
	(load_up_globals): load up keystuff config

	* panel_config_global.h: add keybinding config stuff

	* panel.c (popup_panel_menu): pop up a panel context menu
	(panel_event): moved stuff to popup_panel_menu()

	* main.c (main): don't init keybindings here

	* gnome-run.c (show_run_dialog): add pixmaps to buttons

	* gnome-panel-properties.c (sync_config_with_misc_page): 
	(sync_config_with_misc_page): 
	(grab_key_filter): 
	(grab_button_pressed): 
	(misc_notebook_page): 
	(loadup_vals): 
	(write_config): add keybinding configuration.  UI is not yet
	good (in fact it is pretty poor)

	* global-keys.c (panel_global_keys_setup): honor the configuration,
	and ungrab() if we had previously grab()ed
	(panel_global_keys_filter): call popup_panel_menu() and honor config

1999-12-11  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* global-keys.c (panel_global_keys_filter): call the internal
	gnome-run instead of the external one

	* gnome-run.[ch] (stolen from gnome-run): pop up a "run program"
	dialog

	* menu-fentry.c (fr_check_and_reread): plug mem leak found
	by memprof

1999-12-10  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel.c (panel_destroy): reset current_panel if we destroy
	the current panel
	(panel_menu_get): make this non-static so that the windows
	key thing can call it

	* global-keys.c (panel_global_keys_filter): open a panel's
	right click menu instead

1999-12-09  Elliot Lee <sopwith@redhat.com>
	* global-keys.[ch]: Allow hooking the Windows key.

1999-12-05  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* session.c (init_user_applets): chenge the detection of the
	Debian menu to how the other files do it

Sat Dec 04 12:28:26 1999  George Lebl <jirka@5z.com>

	* extern.c: put in the size_allocate/size_request hacks to make
	  socket work fine with the swallowed portion being in the same
	  process, this doesn't seem be making it into gtk+, when it does,
	  these hacks can be removed.

Fri Dec 03 21:59:59 1999  George Lebl <jirka@5z.com>

	* applet-widget.[ch]: remove small from the deprecated stuff as
	  it shouldn't be there

1999-12-03  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.[ch]: 
	* menu.[ch]:
        * panel-types.h:
	* panel_config.[ch]:
	* status.c:
	* session.c:  add SIZE_SMALL (36 pixels) for dcm

1999-12-03  ERDI Gergo  <cactus@cactus.rulez.org>

	* applet-widget,applet: Changed char*'s in arguments to const
	char*'s where appropriate

Sun Nov 28 16:59:29 1999  George Lebl <jirka@5z.com>

	* menu-rh.c: apply a patch from Chris Siebenmann
	  <cks@cquest.utoronto.ca> to do redhat menu creation truly
	  asynchroniously as this can be a pain on NFS systems

1999-11-22  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.c (applet_widget_construct): don't make
	a new widget here... we are passed one already.

1999-11-21  ERDI Gergo  <cactus@cactus.rulez.org>

	* applet-widget.c (applet_widget_construct): Created a separate
	constructor to allow language bindings

Sat Nov 20 23:45:20 1999  George Lebl <jirka@5z.com>

	* launcher.c: when we drop a launcher on itself, don't do anything.
	  There must be a way to do the inverse of the SAME_WIDGET target
	  flag

Sat Nov 20 18:32:53 1999  George Lebl <jirka@5z.com>

	* button-widget.[ch],session.c,panel_config_global.h,
	  gnome-panel-preferences.c: add a mode to desaturate and darken
	  the icons when the mouse is not over them (it's on by default),
	  also make no tiles mode the default

Wed Nov 10 17:51:48 1999  George Lebl <jirka@5z.com>

	* button-widget.c,rgb-stuff.[ch]: center icons on buttons if they
	  are not square

1999-11-08  Michael Zucchi  <zucchi@zedzone.mmc.com.au>

	* rgb-stuff.c (my_gdk_pixbuf_rgb_from_drawable): Make sure we free
	the GdkImage we decode from.

Thu Nov 04 13:21:15 1999  George Lebl <jirka@5z.com>

	* applet-widget.c: initialize the size and orient right after getting
	  the panel spot

Sun Oct 31 16:15:43 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: don't link panel-util.c to libpanel_applet, it's
	  no longer needed

Sat Oct 30 21:35:40 1999  George Lebl  <jirka@5z.com>

	* extern.c,panel-widget.[ch]: support sending only a color pixel
	  with rgb data and make the rgb data actually work

Sat Oct 30 18:19:48 1999  George Lebl  <jirka@5z.com>

	* extern.c: fixed a bug where extern was cleaned twice if we
	  couldn't add to the panel

Sat Oct 30 18:11:21 1999  George Lebl  <jirka@5z.com>

	* gnome-panel-properties.c: disable animation stuff on sync when
	  instead of relying on the toggled signal

Fri Oct 29 22:53:23 1999  George Lebl  <jirka@5z.com>

	* extern.[ch],panel-widget.[ch],applet-widget.[ch],panel.c: create
	  a do_draw signal on the applet-widget which can be optionaly
	  requested so that the applet can render itself onto an rgb
	  buffer which can be requested from the panel.

Wed Oct 27 19:47:30 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c,rgb-stuff.c: remove the homegrown rotating, and
	  fix panel_widget resize with respect to non-resized backgrounds

	* rgb-stuff.c: fix an off by one in tile_rgb

Wed Oct 27 19:43:54 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c: implement a get_hide_size so that we hide
	  the hidebutton in the animation as well

Wed Oct 27 19:33:06 1999  George Lebl  <jirka@5z.com>

	* rgb-stuff.[ch]: remove the two unused rgb methods and add two
	  new unused rgb methods.

	* panel-widget.[ch]: inhibit the drawing after change_params until
	  size_allocate to avoid scaling huge pixmaps

	* session.c,menu.c: make the rotate pixmap default again as the
	  performance issues are solved

1999-10-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* basep-widget.c (basep_widget_set_pos): I don't think we
	need to queue_resize() here.

	* drawer-widget.c (drawer_pos_get_applet_orient): know about
	floating widgets
	(drawer_widget_change_params): fix up state on orient change
	(so applets will slide from the right side.  well, unless
	it should be sliding from the left)

	* panel-widget.c (panel_widget_size_request): make panel-widgets
	at least 12 pixels wide/high

Wed Oct 27 00:52:08 1999  George Lebl  <jirka@5z.com>

	* drawer.c: get rid of another useles get/set_data usage and
	  use the Drawer structure (why didn't I use this before I
	  don't know :)

Tue Oct 26 22:34:15 1999  George Lebl  <jirka@5z.com>

	* menu.c: stop using g_filename_index and g_filename_pointer as
	  they have been LONG LONG time ago replaced in glib by g_basename

Tue Oct 26 21:37:20 1999  George Lebl  <jirka@5z.com>

	* menu.c: set applet flag properly on the sim structure so that
	  we don't treat all menuitems as applets, and add 1999 to the
	  copyright string

Tue Oct 26 21:13:13 1999  George Lebl  <jirka@5z.com>

	* launcher.[ch],menu-fentry.c,menu.c,panel.c: add URL and PanelApplet
	  types to the .desktop entries that we support, when adding
	  launcher from item, set the type, and use URL type when URL's
	  are dropped on the panel

1999-10-26  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* floating-widget.c (floating_pos_set_pos): fix movement of
	hidden horizontal floating panels

Mon Oct 25 23:57:42 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: don't do that weird queing of resizes as
	  we now resize on drawing anyway so it had no point, and also
	  draw the pixmap just before we really need it

	* session.c,menu.c: make the rotate background default to FALSE as
	  it's currently slow

Mon Oct 25 22:32:35 1999  George Lebl  <jirka@5z.com>

	* {aligned,basep,border,drawer,edge,floating,panel,sliding}-widget.[ch]:
	  drawer.c,menu.c,rgb-stuff.[ch],session.c,panel_config.[ch]: add
	  strech pixmap background mode and rotate mode for the panel-widget,
	  unfortunately it touches almost every file

Sun Oct 24 22:01:03 1999  George Lebl  <jirka@5z.com>

	* session.c: correctly read old configs wrt size

Sun Oct 24 16:55:37 1999  George Lebl  <jirka@5z.com>

	* {panel,aligned,sliding,edge,floating,border,button,applet}-widget.[ch],
	  panel-types.h, panel.c, panel_config.[ch], session.c, status.h:
	  changed sizes to be pixel based, and added pixel_size stuff to
	  applets, while preserving compatiblity with the current scheme

	* session.c: don't complain when we can't remove config file for
	  extern applet as it might in fact not be there

Sun Oct 24 14:38:44 1999  George Lebl  <jirka@5z.com>

	* session.c: remove the hack that quit when it wasn't connected
	  to SM, it didn't work as it wouldn't save settings

	* session.c: screw gnome-config.[ch] as that's beyond repair and
	  won't clean files no matter what I do, so I just remove the
	  file by hand

Fri Oct 22 11:22:33 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: kill icon pixmap cache when we reparent

1999-10-22  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel.c: floating config sync stuff

	* menu.c: enabled conversion to/from floating widget,
	fixed config sync stuff

	* floating-widget.[ch] (floating_widget_change_coords): 
	add a _change_coords() function

	* panel_config.c: notebook page for the floating widget

	* menu.c: floating panel config stuff

	* menu.c: make all launcher/log out menu items DnD-able

	* panel.c: add support for floating panel config updating

Thu Oct 21 17:25:26 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: kill pixmap caches on transparent icons when
	  the background gets scaled

Thu Oct 21 16:16:03 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: change GDK_RGB_DITHER_NONE to GDK_RGB_DITHER_NORMAL

1999-10-21  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* launcher.c (properties_apply_callback): remove some
	old code which caused warnings after the old code which
	caused segfaults was removed

Thu Oct 21 00:42:02 1999  George Lebl  <jirka@5z.com>

	* applet-widget.c: fix warning

Wed Oct 20 23:28:33 1999  George Lebl  <jirka@5z.com>

	* launcher.c: remove some old code that would cause segfaults
	  when we apply properties, and sync panel config on apply properties

Wed Oct 20 23:02:58 1999  George Lebl  <jirka@5z.com>

	* launcher.c: move the config sync out of add_full and use it only
	  if adding a launcher without a .desktop file or when changing
	  a launcher, this avoids duplicate default launchers

	* panel-widget.c,rgb-stuff.[ch]: remove my_gdk_pixbuf_scale and
	  do a more corect scaling when actually drawing

Wed Oct 20 22:25:28 1999  George Lebl  <jirka@5z.com>

	* launcher.c: remove the SETUP_EDITTABLE for the icon entry in the
          setup dialog as it's not an actual GtkEditable

	* panel-widget.[ch]: use the style_set signal for figuring out
	  when to dump the background

Wed Oct 20 21:40:57 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c,button-widget.[ch]: when we are using opaque
	  tiles, it makes no sense to redraw ourselves on background and
	  geometry changes and on moving, it also isn't done when the
	  background is a solid color

Wed Oct 20 19:45:49 1999  George Lebl  <jirka@5z.com>

	* session.c: remove some unused code and set ss_timeout_dlg to
	  NULL when the dialog is destroyed

	* panel_config.c: fix warnings by casting during freeze/thaw

	* panel-widget.[ch],button-widget.[ch],rgb-stuff.[ch]: scale
	  background pixmap when tiling and cache the button in an X
	  pixmap so that we don't compose it over and over.  Now we
	  are too cautious with the cache, dumping it all the time,
	  a lot of improvements in speed can still be gained here.

Wed Oct 20 16:59:08 1999  George Lebl  <jirka@5z.com>

	* rgb-stuff.[ch],panel-widget.[ch],button-widget.[ch]: make sure
	  we work with the new gdk-pixbuf

1999-10-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* main.c (main):
	* session.c (do_session_save): merge from 1-0 to enable
	old config location to new one auto-conversion
	(load_default_applets1): revert george's merge of elliot's
	commit adding gnome-terminal to the default launcher list,
	as it was done in HEAD before 1-0

Tue Oct 19 22:21:45 1999  George Lebl  <jirka@5z.com>

	* menu.c: add _() around warning string

	* from 1-0:
	Friday July 29, 1999 Elliot Lee <sopwith@redhat.com>
	* session.c: If not connected to session manager, exit the panel.

	* menu.c,launcher.c: mystery warning fixes from Elliot without a
	  changelog

	* launcher.c: sync panel config after creating launcher, port
	  of a mystery 1-0 fix for #900 by Elliot

	* from 1-0:
	1999-09-16  Ettore Perazzoli  <ettore@comm2000.it>
	* launcher.c (create_properties_dialog): Call
	`gnome_dialog_editable_enters()' on all the entries in the edit
	widget.

	* from 1-0:
	Tues Sep 21, 1999 Elliot Lee <sopwith@redhat.com>
	* session.c: Add gnome-terminal to the list of default launchers.

Sat Oct 16 16:57:33 1999  George Lebl  <jirka@5z.com>

	* applet-widget.c: add applet_widget_send_position implementation,
	  I dunno why that was missing

Fri Oct 15 23:58:18 1999  George Lebl  <jirka@5z.com>

	* panel.h,applet-widget.[ch],panel_config.c: implement change
	  notification freezing and thawing for applets so that
	  notifications can be sent only when all the changes have already
	  been made

Fri Oct 15 11:21:25 1999  George Lebl  <jirka@5z.com>

	* button-widget.c: just remove some obscolete code

1999-10-15  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (about_cb): put myself second
	(add_special_entries): run gnome-about instead of guname

	People should add themselves to gnome-about :)

Fri Oct 15 00:23:33 1999  George Lebl  <jirka@5z.com>

	* button-widget.[ch],panel-widget.[ch]: use gdk-pixbuf for
	  everything, and use alpha channel for composition of icons and
	  tiles onto the background

	* menu.c,menu-properties.c,logout.c,launcher.c,drawer.c,
	  drawer-widget.c, basep-widget.c: minor cleanups wrt the
	  button-widget change and panel_parent pointers

1999-10-14  Matthias Warkus  <mawa@iname.com>

	* gnome-panel-properties.desktop: Use panel icon

Tue Oct 12 08:52:38 1999  George Lebl  <jirka@5z.com>

	* Makefile.am,panel-widget.[ch]: unrevert the gdk-pixbuf change

1999-10-11  Elliot Lee  <sopwith@redhat.com>
        * panel-widget.[ch], Makefile.am: Revert gdk-pixbuf usage.

Sun Oct 10 22:51:59 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: use gdk-pixbuf for panel backgrounds, first
	  step in exterminating imlib and it's evils

Sun Oct 10 21:45:18 1999  George Lebl  <jirka@5z.com>

	* *.c: get rid of the PANEL_PARENT data and instead use a
	  field in the PanelWidget structure

Thu Oct 07 23:47:33 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix warning when menu_panel data not found

Thu Oct 07 20:17:31 1999  George Lebl  <jirka@5z.com>

	* session.c: protect panel_count when converting from old panel
	  confings, and protect clean_section's from prefixes and make em
	  not get the trailing '/' so they actually work now

Thu Oct 07 18:58:30 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: take out the CORBA_SOURCES from the panel sources
	  as they are already linked to libpanel_applet which in turn is
	  linked to the panel

Thu Oct 07 18:31:37 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix a bug where a menu could only be torn off once

	* gnome-panel-properties.(c|desktop),panel_config_global.[ch],
	  session.[ch],main.c,menu.c,Makefile.am: put the global config
	  into a crapplet

Thu Oct 07 14:25:02 1999  George Lebl  <jirka@5z.com>

	* menu-fentry.c: (get_applet_goad_id_from_dentry) check ii being null
	  as a precondition rather then silently returning

1999-10-06  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* TODO: a couple of things off the top of my head

1999-10-05  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu-fentry.c (get_applet_goad_id_from_dentry): fix a crash
	(see bug #2542)

	* menu-rh.c (create_rh_menu): fix a small and rare memory leak

Mon Oct 04 23:50:21 1999  George Lebl  <jirka@5z.com>

	* menu.c: correctly find the current panel. We set a "menu_panel"
	  data on a menu, then when we want the current panel we search if
	  any menu in the hierarchy below us has the "menu_panel" set, and
	  only if it doesn't shall we use current_panel

Mon Oct 04 23:03:10 1999  George Lebl  <jirka@5z.com>

	* main.[ch],panel.c: don't show the tearoff item on torn off menus

Mon Oct 04 20:53:04 1999  George Lebl  <jirka@5z.com>

	* menu.c: add dubious support for tearoff menus for the hardcoded
	  menus as the code slowly but surely turns to spagetti

Sun Oct 03 23:04:27 1999  George Lebl  <jirka@5z.com>

	* swallow.c,status.c: allow dragging the applets by the handle with
	  the first button as the tasklist does it

Sat Oct 02 22:29:29 1999  George Lebl  <jirka@5z.com>

	* session.c: add status dock applet to the default startup

Sat Oct 02 22:17:20 1999  George Lebl  <jirka@5z.com>

	* panel.hints: remove the first hint as that's now the actual default
	  hint of gnome-hint

Sat Oct 02 21:34:04 1999  George Lebl  <jirka@5z.com>

	* session.c: add applets to the default menu applet

Sat Oct 02 20:30:23 1999  George Lebl  <jirka@5z.com>

	* hints.[ch],hintsdata.c: removed

	* panel.hints: hints in the format of gnome-hint

	* session.c,panel_global_config.[ch]: remove the startup hint toggle

Fri Oct 01 19:14:58 1999  George Lebl  <jirka@5z.com>

	* menu.c,status.[ch],session.c,extern.c: fix all the remaining issues
	  with the status applet, there is a slight ugliness in that we have
	  to now unparent the fixed BEFORE calling the destroy everywhere
	  we do. However it doesn't work from the destroy handler.

1999-10-01  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (create_panel_root_menu): use the logout button
	(add_special_entries): ditto
	(create_panel_root_menu): show the KDE menu if it is here

	fixes bug #2503

	* extern.c (extern_clean): deactivate the object before
	calling __fini on it

	fixes bug #2501

1999-09-30  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* session.c (apply_global_config): resize an auto-hidden panel
	when the autohide size changes	

	* panel-widget.c (panel_widget_new): don't allow back_pixmap
	to be NULL

Thu Sep 30 14:07:33 1999  George Lebl  <jirka@5z.com>

	* status.[ch],session.c: remove all docklets on exit and fix some
	  errors in the code

Thu Sep 30 11:07:42 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* menu-fentry.c: Add #include <sys/types.h> before <sys/stat.h>
	to remove warnings.  OS/2 patch.

Thu Sep 30 00:16:19 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: bump the libpanel_applet version back up as this
	  was causing all kinds of bad things to happen

Wed Sep 29 23:23:02 1999  George Lebl  <jirka@5z.com>

	* applet-widget.c: make panel_client a static so that it doesn't
	  pollute namespace (and applets shouldn't access that directly
	  anyway), and initialize it to CORBA_OBJECT_NIL explicitly.

	* status-docklet.[ch]: a new library for use in apps that want
	  to add the status docklets to the panel. It handles things such
	  as panel crashing and restarting, or cases when the panel hasn't
	  started yet, etc...

	* status.c: fixes to make the status thing somewhat work, though
	  there are still a lot of problems

1999-09-29  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: use gnome-favorites.png

Mon Sep 27 22:54:49 1999  George Lebl  <jirka@5z.com>

	* status.[ch],session.c,menu.c,applet.h: implement the status applet
	  at least in theory, it doesn't have the client lib (widget)
	  written yet

	* launcher.c: use stock button for error dialog

1999-09-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel_config_global.c (icon_notebook_page): fix the 
	special label

Mon Sep 27 00:06:54 1999  George Lebl  <jirka@5z.com>

	* extern.c,status.[ch]: add skeletons for the new Status applet,
	  not yet implemented

1999-09-25  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel_config_global.c (make_int_scale_box): return a box, not
	a frame
	(set_anim_button_value): only 2 things to set inactive
	(animation_notebook_page): 
	(show_page): 
	(icon_notebook_page): 
	(buttons_notebook_page): 
	(applets_notebook_page): 
	(misc_notebook_page): implement the global config box from:
	http://www.jcinteractive.com/gnome-ui/images/uihs-gnomecc/panel.gif

	(doesn't go in the control center yet though)

	* panel-util.[ch] (create_icon_entry): put the label under
	the image button

	* drawer.c (add_drawer_properties_page): A little fudging
	to work with the vertical icon selector thing

Fri Sep 24 15:14:55 1999  George Lebl  <jirka@5z.com>

	* session.c: make hungry_menus TRUE by default (keep menus in memory)

1999-09-22  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (create_root_menu): only put the favorites in
	once (fixes gnome bug #2360)
	(create_applets_menu): use STOCK_MENU_EXEC for this pixmap
	(create_menu_at_fr): let gnome_stock_pixmap try to find the
	pixmap, so we don't have to pass full paths.
	(create_system_menu): don't predo the pixmap path
	(create_user_menu): take a pixmap parameter, so we can
	get the favorites with gnome-squeak and not another level
	(create_panel_root_menu): pass extra pixmap param
	(create_root_menu): ditto

1999-09-21  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* drawer-widget.c (drawer_widget_new): correctly initialize
	pos->orient.  Now drawers get added correctly.  This was
	some BD code on my part.  Still some bugs in the drawers
	though.

1999-09-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (create_user_menu): add gnome-squeak.png here

	* menu-properties.c (create_properties_dialog): fix the rowage
	for the applets menu

	* menu.c (create_applets_menu): get rid of some runtime 
	casting warnings

	* panel.c (panel_setup): add floating panels to base_panels

Mon Sep 20 00:10:34 1999  George Lebl  <jirka@5z.com>

	* menu.c: make the applet menus behave more similiar like the
	  normal menus, fix the tearoff line to always be on top, add
	  applet menu as a new toplevel menu type in the main menu and
	  also add it directly into the right click panel menu, however,
	  at least for now keep it in the "Add" menu as well

Sat Sep 18 22:13:57 1999  George Lebl  <jirka@5z.com>

	* appletsConf.sh.in: add a dash so that the --modversion looks like
	  miguel wants it to look

Sat Sep 18 01:03:33 1999  George Lebl  <jirka@5z.com>

	* panel_config.c: fix problems with updating property dialog box
	  where huge was being always selected

Fri Sep 17 22:56:01 1999  George Lebl  <jirka@5z.com>

	* baspe-widget.c: just a cleanup of the get_hide_size

1999-09-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* launcher.[ch] (load_launcher_applet_full): make non-static
	so we can pass a dentry to this

	* menu.c (add_drawers_from_dir): try loading the dentry;
	if it fails don't add a launcher

	* applet.c (create_applet_menu): add the warning back

Fri Sep 17 22:35:33 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: don't null the tag for the autohide timeout if we
	  in fact continue with the timeout

1999-09-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (setup_menuitem_try_pixmap): 
	* applet.c (create_applet_menu): g_free() some strings

1999-09-17  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel-widget.h: remove the back type enum

	* panel-types.h: include enum definitions from applet-widget.h

	* Makefile.am (libpanel_appletinclude_HEADERS): remove "panel-types.h"
	(it is internal to the panel)

	this address gnome bug #2062

Fri Sep 17 18:43:44 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* panel-util.c: 
	* drawer.c: 
	* launcher.c: 
	* panel.c: 
	* swallow.c: 
	* menu-properties.c: 
	* menu-rh.c: 
	* menu.c:  Add #include <sys/types.h> before <sys/stat.h>
	to remove warnings.  OS/2 patch.

1999-09-12  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (make_panel_submenu): move About item out of here,
	remove #if 0'd section
	(add_special_entries): move About item into here, remove
	#if 0'd section

	This is an elegant and beautiful solution to the about-the-panel
	problem
	
1999-09-11  Tomas Ogren  <stric@ing.umu.se>

	* applet.c: Added missing comma

1999-09-11  Matthias Warkus  <mawa@iname.com>

	* applet.c (create_applet_menu): Uses pixmap for "Panel" menu
	entry, checks properly.

	* menu.c (setup_menuitem_try_pixmap): Added this function to do
	proper checking whether pixmaps exist so no assertions
	fail. Changed calls to setup_menuitem to calls to
	setup_menuitem_try_pixmap wherever appropriate.

	Permission to commit has been granted by George.

1999-09-09  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet.c (setup_an_item): use gtk_widget_destroyed

1999-09-06  Anders Carlsson  <anders.carlsson@tordata.se>

	* menu.c: Moved the "About" entry to the Panel menu

Sat Sep 04 15:46:30 1999  George Lebl  <jirka@5z.com>

	* menu-fentry.c: put in some asserts

1999-09-04  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu-fentry.c (fr_get_dir): check fr and fr->name
	for NULLness before strcmp()... this will fix a crash
	I had last night

	* menu.c (remove_menuitem): don't g_free file -
	g_filename_pointer() doesn't allocate memory
	(fixes a crash I just had)

1999-09-03  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (create_root_menu): 
	(create_panel_root_menu): use the squeaky gnome

Thu Sep 02 21:19:08 1999  George Lebl  <jirka@5z.com>

	* menu.c: tearoff's seem to work now, so I enabled them

Wed Sep 01 18:00:04 1999  George Lebl  <jirka@5z.com>

	* menu*.[ch],panel-include.h: split up the menu into several parts,
	  the filereading, redhat, properties, utility, and the rest (menu.c)

Tue Aug 31 22:41:48 1999  George Lebl  <jirka@5z.com>

	* menu.c,tearoffitem.c: add some new logic for making a tearoff menu,
	  it's still disabled by default however.

Tue Aug 31 15:19:46 1999  George Lebl  <jirka@5z.com>

	* menu.c,tearoff.[ch],Makefile: start work on a custom menu tearoff
	  item for the panel menus.

Sat Aug 28 19:43:10 1999  George Lebl  <jirka@5z.com>

	* menu.c: a bit of support for tearoff menus, but it seems it will
	  need more work then this though, it's disabled by default as
	  it has "issues"

Sat Aug 28 00:41:17 1999  George Lebl  <jirka@5z.com>

	* hintsdata.c: add a hint about right click menus on the main
	  menu

Fri Aug 27 18:31:17 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel.c,applet.c: add the applet correctly
	  at the front if dropped before the first applet

Fri Aug 27 18:06:12 1999  George Lebl  <jirka@5z.com>

	* panel.c: accept drops over the basep widget so that we can drop
	  over the hidebuttons

Fri Aug 27 14:26:46 1999  George Lebl  <jirka@5z.com>

	* launcher.c: add DND a sorta hack, it will accept file drops
	  over launchers and launch the app with the files as arguments,
	  this will work 90% of the time

1999-08-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* floating-widget.c (floating_pos_set_pos): fixed 
	moving-while-right-hidden

	* Makefile.am (base_panel_SOURCES): added
	floating-widget.[ch]

	* floating-widget.[ch]: new files which implement a 
	floating panel.  Not complete, but works except for
	moving right-hidden panels.  Will fix after sleep/class.

	* menu.c (create_new_panel): create floating panels
	here

	* panel.c (panel_setup): support the floating panel
	(panel_event): ditto
	
	* session.c (init_user_panels): load a floating panel...
	(save_panel_configuration): save a floating panel

	* border-widget.c (border_pos_class_init): removed stale 
	code
	(border_pos_realize): removed snice the hints are setup
	in basep-widget.c

	* drawer-widget.c (drawer_pos_realize): removed since the
	hints are set up elsewhere now
	(drawer_pos_class_init): removed some stale code

1999-08-26  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet.c (submenu_destroy_cb): cleanup when the menu is
	destroyed (esdpecially by the age cleanup thing)
	(setup_an_item): connect the destroy signal of the menu 
	here to the above function
	(create_applet_menu): remove some #if 0 code from the branch
	(add_to_submenus): if we don't have a submenu, create one
	(setup_an_item): notify ourselves when the menuitem gets
	destroyed
	(menuitem_destroy_cb): cleanup when the menuitem is destroyed

1999-08-25  Kjartan Maraas  <kmaraas@online.no>

	* panel_config.c,main.c,hintsdata.c : Typo fix and improved
	  strings a bit.
	
1999-08-24  Anders Carlsson  <anders.carlsson@tordata.se>

	* menu.c: Replaced pixmap functions to make pixmaps for the new
	 menu alternatives look smoother.

Tue Aug 24 10:54:33 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: changed the library version to 0:1:0 since we are
	  actually binary compatible with the 0:0:0 that came out with
	  gnome-core 1.0. this means you need to remove
	  <prefix>/lib/libpanel_applet.so.1* !!!

Sat Aug 21 18:51:42 1999  George Lebl  <jirka@5z.com>

	* panel.c: don't send the orientation, size and back changes from an
          idle on addition to avoid races when the applet dies too quick

Sat Aug 21 17:01:54 1999  George Lebl  <jirka@5z.com>

	* session.c: completely new default setup, now the default launchers
	  are flushed left, and only loaded if the screen is wider then 800
	  we also add a tasklist and a mailcheck to the panel. Also we
	  load up a new vertical aligned panel in the top right corner
	  with the pager

1999-08-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (load_menu_applet): check before passing a NULL
	params to strcmp
	(make_properties_submenu): hide the types and modes menu 
	if the panel is a drawer
	(show_x_on_panels): modified to now hide the types/modes
	menus

	* hints.c (show_hint): I believe gnome_dialog_new () takes
	a NULL terminated list... at least this gives me a dialog
	and no seg fault

Fri Aug 20 17:37:59 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],applet.[ch],extern.c: add set_sensitive
	  call to the callbacks interface for the applet menus

	* menu.c,applet.c: add an "Edit menus.." callback for main menus

Fri Aug 20 16:37:05 1999  George Lebl  <jirka@5z.com>

	* hints.[ch],hintsdata.c,main.c,panel_config_global.[ch],session.c:
	  show hints on startup

Fri Aug 20 15:31:35 1999  George Lebl  <jirka@5z.com>

	* session.c: add a default menu applet for programs

Fri Aug 20 14:54:36 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: use imlib_copy instead of imlib_move to get
	  around weird imlib stuff

1999-08-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: s/GNOME menus/Programs/ s/User menus/Favorites/

	* session.c (load_default_applets): added gnome-terminal.desktop

	* menu.c (create_root_menu): use KDE_ICONDIR to get the exec.xpm
	(create_kde_menu): ditto

	* button-widget.c (button_widget_draw): don't draw the tile if
	we are not in the button and we only draw when we are

	* panel_config_global.h: added 'tile_when_over' variable

	* panel_config_global.c (misc_notebook_page): added checkbox
	for showing tiles only when the cursor is over

	* session.c: save/load tile_when_over

	* menu.c (update_hidebutton_menu): one stupid mistake...
	(update_back_menu): two stupid mistakes...

	changing properties from the menu now works :)

1999-08-19  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (make_properties_submenu): added properties for the hide
	mode, hidebuttons, size, background type  (these are broken though)
	(change_background): 
	(change_hidebuttons): 
	(change_size): 
	(change_hiding_mode): 
	(update_back_menu): 
	(update_size_menu): 
	(update_hidebutton_menu): 
	(update_hiding_menu): functions to support this
	(add_radio_menu): convienence function

	* basep-widget.c (basep_widget_autohide): fixed a bug wrt changing
	modes

	* aligned-widget.c (aligned_pos_show_hide_right): 
	(aligned_pos_show_hide_left): 
	(aligned_pos_class_init): Facilitate jumping to other side of
	screen like the standard panel does

	* panel-widget.c (push_applet_left): initialize variables to NULL so
	gcc leaves us alone
	(push_applet_right): same deal here

	(now that I have the Blackbox GNOME winhint patch working...
	
	* basep-widget.c (basep_widget_update_winhints): set the gnome WM hints if
	available
	(basep_widget_realize): 
	(basep_widget_explicit_hide): 
	(basep_widget_explicit_show): 
	(basep_widget_autohide): 
	(basep_widget_autohide): update the hints in the functions 

	* main.c (main): init win hints here

	* panel-types.h: removed unused types

1999-08-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* *.c: store config in ~/.gnome/panel.d/default/ instead of
	~/.gnome/panel.d/Session-asd09n09sda/  (don't know if this is
	done right though)
	
	* *-widget.c: general fixes to clean up resizing when hidden

Wed Aug 18 10:54:31 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: don't allow closing the window with a window
	  manager

1999-08-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel_config.c (update_config_back): fix stupid typo by me

	* panel-widget.c (panel_widget_new): g_strdup (NULL) == NULL

	* session.c (apply_global_config): call the new function

	* basep-widget.c (basep_update_frame): added function so that
	we can update the frame when we change preferences
	(basep_back_change): call this function from here

	* panel_config_global.c (misc_notebook_page): add a check box
	for keeping buttons flush with the edge

	* panel_config_global.h: added hide_panel_frame variable for
	keeping buttons flush with the edge

	* basep-widget.c (basep_back_change): only draw the frame if we are
	no-color and not hide-frame

1999-08-10  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.c (applet_widget_register_stock_callback_dir): 
	(applet_widget_register_stock_callback_dir): 
	(applet_widget_register_stock_callback): 
	(applet_widget_register_callback): sync with gnome-core-1-0

Fri Aug 06 04:23:39 1999  George Lebl  <jirka@5z.com>

	* *.c: removed unused functions and variables

1999-08-01  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet.c (create_applet_menu): use the stock remove icon
	in the remove menu

Fri Jul 23 00:07:38 1999  Tim Janik  <timj@gtk.org>

	* extern.c (socket_size_allocate): only queue a resize in case our
	allocation is bigger than the requisition, *if* we actually requested
	a size >0.

1999-07-10  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.c (applet_widget_init): pass 'app_version' to
	gnome_CORBA_init_with_popt_table(), not VERSION

	* swallow.c (ask_about_swallowing): more reasonable maxes

	* appletsConf.sh.in (MODULE_VERSION): 
	* Makefile.am (appletsConf.sh): added support for modversion

Wed Jul 07 02:06:10 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: fix reentrancy problem with get_orient and
	  get_size, by just caching the value on the applet side

	* Makefile.am: raise version of the libpanel_applet to 1.0.0 to
	  avoid binary incompatibility (it has been 0.0.0 forever)

Fri Jul 02 06:47:47 1999  George Lebl  <jirka@5z.com>

	* applet.c: fix problems with applet submenus

1999-06-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel-widget.c (push_applet_right): 
	(push_applet_left): This should fix movement a little; under certain
	circumstances one couldn't move an applet to the left in a hori. panel

	* panel.c (panel_setup): check for a NULL panelw just to make sure
	we don't crash here

	* session.c (init_user_panels): get rid of gtk warnings when the
	panel config file gets messed up

Mon Jun 21 05:26:28 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],extern.[ch]: added position hint sending
	  if selected

Fri Jun 18 05:18:39 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel_config_global.c: implement a push mode and
	  switching of applet movement modes using modifiers

1999-06-14  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* panel.soundlist: Added Portuguese translations.

Sun Jun 06 12:30:12 1999  George Lebl  <jirka@5z.com>

	* menu.c: if we can't create menu, complain and make it a main menu

	* session.c: sync the configuration correctly

1999-06-03  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel.c (panel_applet_removed): check to see if drawer->drawer is NULL,
	to avoid crash when removing a drawer by 'remove panel' on the panel 
	and not 'remove applet' on the applet

1999-06-02  Nat Friedman  <nat@gnome-support.com>

	* applet-widget.c (pg_return_val_if_fail): Do not use glib
 	g_return_val_if_fail, since that will compile to a NOP with
 	debugging turned off.
	
	(pg_return_if_fail): Do not use g_return_if_fail.

1999-06-02  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* session.c (panel_session_save): check for a NULL pd->menu,
	this gets rid of GTK warnings

Wed Jun 02 00:55:27 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],extern.c: implement a free_space attribute
	  on the panel spot, so that applets may set their maximum size
	  more sanely

Tue Jun 01 18:03:39 1999  George Lebl  <jirka@5z.com>

	* main.c,session.c: only select events on the root if we actually
	  will need them

Tue Jun 01 10:30:18 1999  George Lebl  <jirka@5z.com>

	* main.c,swallow.c: implement the waiting for window to swallow
	  correctly by selecting on the root window, instead of XQueryTree
	  in a timeout

Mon May 31 20:34:49 1999  George Lebl  <jirka@5z.com>

	* session.c: took out debugging printf's and make extern applet
	  be empty at first so that we don't get unknowns if an applet
	  timed out in a previous session

Mon May 31 20:29:30 1999  George Lebl  <jirka@5z.com>

	* session.c,extern.c: on exit, we timeout after 1.5 sec, and then
	  put up a dialog indefinately but allow the user to cancel wating
	  for an applet to save

Mon May 31 18:43:09 1999  George Lebl  <jirka@5z.com>

	* session.[ch],extern.c,applet-widget.c: revamp the applet saving
	  stuff, gets rid of races and other uglies, and is much nicer
	  conceptually

Sun May 30 23:17:01 1999  George Lebl  <jirka@5z.com>

	* extern.c,applet-widget.c,session.c: deal with hanging applets,
	  by implementing a callback like interface for getting the return
	  from session_save. However the configuration can get seriously
	  messed up due to reentrancy issues, needs to be revamped.

Sun May 30 21:58:42 1999  George Lebl  <jirka@5z.com>

	* panel.c: minor fix to send initial size_change's

	* panel-widget.c: check ->sz not ->size, so that we don't
	  send size changes all the time

Sun May 30 14:04:54 1999  George Lebl  <jirka@5z.com>

	* APPLET_WRITING: update for the current applet interface state

Sun May 30 11:59:02 1999  George Lebl  <jirka@5z.com>

	* panel.c: forgot to delete stuff when cut-and-pasting from
	  change_orient to change_size

Sun May 30 11:10:35 1999  George Lebl  <jirka@5z.com>

	* extern.c: forgot to implement a get_parent_size call, this fixes
	  segfault with extern applets

	* applet-widget.[ch]: implement the get_panel_size method

Sun May 30 00:53:21 1999  George Lebl  <jirka@5z.com>

	* menu.c: WRT remove item patch: check for the item_loc as the
	  mf structure is only allocated for folders, also don't complain
	  if there is no .order file, as that is a normal situation

Sun May 30 00:13:47 1999  George Lebl  <jirka@5z.com>

	* panel_config.c: fix the initial setting of the size buttons

1999-05-30  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: updated version of my menu patch.  Adds "remove
	item" and fixes a bug when you change the contents of a
	menu dir of a menu applet (first click after change doesn't
	display the menu)

Sat May 29 17:15:05 1999  George Lebl  <jirka@5z.com>

	* button-widget.c,session.c,drawer-widget.c,drawer.c,menu.c,
	  launcher.c,logout.c,panel_config.c: enabled the size setting

Thu May 27 19:25:00 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: implement the size hints and correct the bind
	  events function name in the header, as well as reformat the file
	  with the correct indenting style.

	* {panel,basep,snapped,corner,drawer}-widget.[ch],menu.c,drawer.c,
	  session.c,button-widget.c,panel.c: start of implementing the
	  panel sizes, currently doesn't work and so the property dialog
	  is disabled.

Wed May 26 23:27:11 1999  George Lebl  <jirka@5z.com>

	* menu.c: applied patch from Jacob Berkman <jberk+@cmu.edu>, to
	  allow adding of items to a menu from the right click menu of
	  a menu title, made it check for write access to the directory
	  instead of the location and fixed the mouse grab thing

	* menu.c,logout.h: small cleanups

Wed May 26 20:39:20 1999  George Lebl  <jirka@5z.com>

	* panel-types.h,panel_config_global.c,logout.c: modified the
	  lock to use the same tile as logout, and make the name of that
	  tile "Miscellaneous" in the global properties

Mon May 17 15:22:28 1999  Robert Brady  <rwb197@ecs.soton.ac.uk>

        * applet.h, logout.c, menu.c, menu.h, panel-types.h, panel.c,
	  session.c : Added a menu option to create a "Lock Screen"
	  button on the panel, similar to the "Logout" button.

Sun May 02 21:04:53 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: added two new functions,
	  applet_widget_add_full and applet_widget_bind_events for
	  more control over which widgets be sensitive to the
	  right click menu and the middle click move

Sat Apr 24 20:23:57 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix problem with right clicking on a user-writable menu
	  title

Fri Apr 09 19:01:06 1999  George Lebl  <jirka@5z.com>

	* launcher.c: load desktops as unconditional to skip tryexec
	  and empty exec tests, and set name to "???" if the user didn't
	  set it to some string. This takes care of disappearing launchers
	  upon realoading of the panel

	* menu.c: the properties should never be set sensitive for
	  kde menus

Thu Apr  8 14:30:02 1999  Owen Taylor  <otaylor@redhat.com>

	* menu.c panel.c session.c: Add a KDE menus directory
	 to parallel the AnotherLevel and Debian menus,
	 and appropriate options for the the menu properties
	 dialog.

Mon Apr 05 17:13:39 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c: bind drag_motion on the
	  panel to make an autohidden panel pop up when something is
	  dragged over us

Fri Apr 02 02:44:02 1999  George Lebl  <jirka@5z.com>

	* applet-widget.c: check for if we actually did get the
	  panel_client and put an assert in there

Wed Mar 31 02:07:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: allow middle button to start drags as well

Tue Mar 30 20:55:13 1999  George Lebl  <jirka@5z.com>

	* menu.c: applied menu reorganization patch from Ettore Perazzoli
	  <ettore@comm2000.it>

Mon Mar 29 14:47:35 1999  George Lebl  <jirka@5z.com>

	* session.c,menu.c: add #include <limits.h>

Sun Mar 28 14:41:53 1999  George Lebl  <jirka@5z.com>

	* swallow.c: hardcode 48 instead of PANEL_MINIMUM_WIDTH since we
	  want a large default

Sat Mar 27 03:26:13 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c: for the previous change not to look funky with
	  drawers, I made drawers be 48x48 minimum

Sat Mar 27 03:18:19 1999  George Lebl  <jirka@5z.com>

	* menu.c,button-widget.c,panel-widget.h: after extensive pestering
	  by Jens Lautenbacher <jens@tellux.de>, I've changed the minimum
	  panel size to 24 (not reducing icons of course), I don't extremely
	  like this solution and this behaviour will go away when we have
	  proper sizing

Fri Mar 26 19:58:45 1999  George Lebl  <jirka@5z.com>

	* session.c,panel_config_global.[ch]: remove the prompt for logout
	  option as it no longer worked

1999-03-24  Felix Bellaby <felix@pooh.u-net.com>

	* session.c (panel_quit): gnome-libs will now confirm before logout.

Sat Mar 20 01:44:57 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c,button-widget.[ch]: fixed the "incredible
	  disappearing launcher" bug, and further optimized drawing of
	  icons when not drawing the whole panel

Tue Mar 16 17:45:37 1999  George Lebl  <jirka@5z.com>

	* session.c: default launchers were screwed up and didn't load
	  with the new setup

Mon Mar 15 17:38:36 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: add libpanel_applet.la to LDADD for the panel, so
	  that shared lib applets work again, DOH! ... (Thanks to the avid
	  gnome fish fan: David Miller <davem@twiddle.net>)

Mon Mar 15 13:42:31 1999  George Lebl  <jirka@5z.com>

	* panel.c: when an applet is removed don't recount all drawers,
	  just subtract from open, and queue saving of panels when applet
	  was a drawer, to prevent bad restarts from a crash

Mon Mar 15 13:32:41 1999  George Lebl  <jirka@5z.com>

	* session.c,*.c: removed incremental applet saving stuff, now
	  saves them all at once, this wasn't used under SM anyway and
	  it's savings were dubious

Mon Mar 15 12:46:00 1999  George Lebl  <jirka@5z.com>

	* launcher.c,menu.c: add \r\n at the end of a uri_list line

Mon Mar 15 04:37:41 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: remove another possible crash when panel is
	  removed while scaling it's pixmap background

Mon Mar 15 03:10:55 1999  George Lebl  <jirka@5z.com>

	* launcher.c: add dragging capability to launchers, now you can
	  drag launchers to say gmc. requires a sort of a hack for
	  gtk_drag_source_set to work (we temporarily unset NO_WINDOW)

Mon Mar 15 02:12:17 1999  George Lebl  <jirka@5z.com>

	* corner-widget.c,snapped-widget.c: fixed a bug where a autohide
	  panel didn't stay side hidden after a restart

Sun Mar 14 23:03:01 1999  George Lebl  <jirka@5z.com>

	* menu.c,session.c,panel_config.c,corner-widget.[ch],drawer.c,panel.c,
	  extern.c,launcher.c,logout.c,snapped-widget.[ch]: applied patch from 
	  Jacob Berkman <jberkman@andrew.cmu.edu> to add autohiding of corner
	  panels and cleaned it up a bit

	* {snapped,corner}-widget.c: fixed a crash when converting
	  edge/corner when one is autohidden

Sat Mar 13 01:16:01 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: optimize applet moving, now moving an applet
	  only affects the applets that actually move, instead of resizing
	  the entire panel

Fri Mar 12 18:10:18 1999  George Lebl  <jirka@5z.com>

	* extern.c: implelemented getting the tooltip text back

	* panel-util.c,drawer.c: create_text_entry now uses gnome_entry

Fri Mar 12 17:57:32 1999  George Lebl  <jirka@5z.com>

	* gdkextra.[ch],*-widget.c,panel-include.h,Makefile.am: remove
	  gdkextra two files from compilation

Fri Mar 12 17:41:43 1999  George Lebl  <jirka@5z.com>

	* panel.[ch]: remove old code

	* menu.[ch],session.c: applied and refined patch from Vincent
	  Renardias <vincent@ldsol.com>, to get debian menu support

	* cookie.[ch]: remove these two extremely obscolete files

	* Makefile.am: add APPLET_WRITING to EXTRA_DIST

Mon Mar 08 18:11:54 1999  George Lebl  <jirka@5z.com>

	* menu.c: stole menu positioning function from gtk as
	  gtk_menu_reposition doesn't work on non-drawable menus, and that
	  is just what we need to do, this fixes the jumping menus on first
	  display

Mon Mar 08 16:12:47 1999  George Lebl  <jirka@5z.com>

	* menu.[ch]: export show_x_on_panels and use it directly, avoid
	  warning when destroying menus that were not used

	* panel_config(_global|).c: account for dialog being destroyed

	* *.c: put all debugging info behind PANEL_DEBUG ifdefs

	* Makefile.am: don't link the panel with the applet library

Sat Mar 06 17:50:35 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: use set_rc_style instead of restore_default_style
	  this should fix the problems with hidebuttons and setting themes

Sat Mar 06 17:41:03 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: don't store the background pixmap, just make it
	  for drawing, to save X server memory

	* session.c,button-widget.c: a couple of typos fixed

Sat Mar 06 16:37:32 1999  George Lebl  <jirka@5z.com>

	* button-widget.c: changed double-click-ignore timeout to 400ms

Sat Mar 06 16:18:33 1999  George Lebl  <jirka@5z.com>

	* {drawer,corner,snapped}-widget.c: fix flicker with hidden panels,
	  by getting size_request of the proper hidden size and 1x1 for
	  hidden drawers

Sat Mar 06 14:56:17 1999  George Lebl  <jirka@5z.com>

	* buttton-widget.[ch]: add a timeout to prevent double clicks from
	  pressing the button twice

1999-03-06  Michael Fulbright <drmike@redhat.com>
	* panel_config.c, panel_config_global.c: made the help button on
	the panel and global config dialogs actually load the help from the 
	users guide.
	
1999-03-01  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel.soundlist: Added Korean translations.

Sat Feb 27 13:11:57 1999  George Lebl  <jirka@5z.com>

	* session.c: add "Only terminate panel" button to the logout
	  dialog

Tue Feb 23 22:08:20 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: added a small usleep in the animation loop to help
	  with smoothness

Tue Feb 23 21:28:17 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: use set_rc_style widget method. This should fix the
	  errors with changing themes

Tue Feb 23 16:57:21 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c: ahhh ... correct the location of drawers so
	  that they are not offset

Tue Feb 23 01:03:25 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: remove some dead code

	* panel-widget.c: resize pixmap in two level of timeouts, not
	  resizing for half a second after change and resizing maximally
	  once in 2 seconds, this should get rid of slow startups when
	  the panel width changes a lot. also draw after resizing the
	  pixmap to update the panel. Also fix moving code for races

	* drawer-widget.c: seems like gtk table allocation got fixed
	  (if it was broken) so I removed a hack for drawer positioning

Mon Feb 22 21:47:15 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c,panel_config_global.[ch],session.c: add a non
	  constant movement option that is closer to what the movement was
	  before, now it's a sin function.

Mon Feb 22 01:30:25 1999  George Lebl  <jirka@5z.com>

	* {corner,snapped,drawer,panel}-widget.c,drawer.c,menu.c: fixes for
	  the new size_request handeling

1999-02-21  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel_config_global.c (panel_config_global): Do the real
	gettext translations from the N_() marked strings.

1999-02-19  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (appletsConf.sh): Sed in @GNOMEGNORBA_LIBS@.
	From, among others, Ian Campbell <ijc25@cam.ac.uk>.

Fri Feb 19 15:07:12 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix hiding when animations are disabled

Thu Feb 18 17:31:11 1999  George Lebl  <jirka@5z.com>

	* launcher.c,logout.c: fix auto_close drawer vs. autohide snapped
	  bug

	* menu.c: deal semi-cleanly with missing system menus

	* basep-widget.c: no need to _draw the widget if we are hiding

Thu Feb 18 00:08:35 1999  George Lebl  <jirka@5z.com>

	* menu.c,drawer.c,panel_config.c,panel_config_global.c,swallow.c,
	  panel-util.c: use GNOME_PAD* defines for padding

Wed Feb 17 18:11:08 1999  Owen Taylor  <otaylor@redhat.com>

	* menu.c: Look for system menus in $datadir/gnome/apps
	 instead of $datadir/apps.

Sun Feb 14 23:52:34 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: set the background style in a correct fashion
	  hopefully

Sun Feb 14 22:00:42 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix bugs with extraneous menu separators, when a menu
	  is empty, append "(empty)" to the menu title

Sun Feb 14 20:49:25 1999  George Lebl  <jirka@5z.com>

	* extern.c: when the allocation on the socket is larger then it's
	  requisition, queue_resize the event_box.

Sun Feb 14 00:43:20 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch]: finally fixed the annoying "badwindow when
	  changing background" bug, the socket did not like to be removed
	  from a container and then added to another one, it had to be
	  reparented in one quick swoop (this however showed a weakness
	  of the gtk table, there is no way to reparent to a specific
	  location on the table)

Sat Feb 13 23:02:39 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fixed "hyperactive beeping autohide panel"
	  bug

Sat Feb 13 Felix Bellaby <felix@pooh.u-net.com>

	* extern.c, main.c: revised libgnorba test for whether an existing 
	panel is running.

Sat Feb 13 Felix Bellaby <felix@pooh.u-net.com>

	* extern.[ch],main.c,session.c: protect against running multiple
	panels by asking user to confirm.

Sat Feb 13 01:20:41 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch],corner-widget.c,snapped-widget.c: cleanup of
	  code

Fri Feb 12 01:54:06 1999  George Lebl  <jirka@5z.com>

	* panel_config_global.[ch],session.c,launcher.c,logout.c: add "auto
	  close" to drawers, when a launcher or a logout button is pressed,
	  it's optional and off by default

Fri Feb 12 00:02:10 1999  George Lebl  <jirka@5z.com>

	* session.c: remove our own dentry save routine

	* drawer-widget.c,snapped-widget.c,corner-widget.c: set the new not
	  cover hints to be set and unset when needed, not just set for all
	  panels as that is not very nice, you should be able to maximize
	  over all ABOVE_DOCK/ONTOP windows, but not over DOCK/BELOW windows

1999-02-11 The Rasterman <raster@redhat.com>

	* corner-widget.c, drawer-widget.c, snapped-widget.c: added 
	  WIN_HINTS_DO_NOT_COVER to hint mask.
	* panel.c: fixed exec initialiser to be ANSI compliant
	* panel_config_global.c: fixed internationalisation to be ANSI 
	  compliant
	* menu.c: fixed ANSI compliance
	* button-widget.c: fixed ANSI compliance

Thu Feb 11 17:02:56 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fix state restoration for side hidden panels

	* drawer.c: warning fix

Wed Feb 10 16:55:17 1999  George Lebl  <jirka@5z.com>

	* main.c,session.c: applied patch from
	  Felix Bellaby <felix@pooh.u-net.com>, and added request for
	  session save during the panel_config_sync call if anything
	  changed

Wed Feb 10 01:05:32 1999  George Lebl  <jirka@5z.com>

	* panel_config(_global|).c: only apply on page == -1 to avoid
	  multiple property applying

Wed Feb 10 00:08:55 1999  George Lebl  <jirka@5z.com>

	* session.c,panel_config_global.[ch],{corner,snapped,drawer}-widtet.c:
	  added "keep on bottom" option for the weird raster type layer hints

Tue Feb 09 17:25:16 1999  George Lebl  <jirka@5z.com>

	* main.c: don't do the corba init (which registers the goad server)
	  until after we check that this wasn't just a discard command

Mon Feb 08 18:18:34 1999  George Lebl  <jirka@5z.com>

	* croner-widget.c,snapped-widget.c: fix allocation problems with
	  hidden panels

Mon Feb 08 14:19:25 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,snapped-widget.c,corner-widget.c: revert raster's
	  changes to layers, DOCK layers are for things like the panel and
	  without them icewm maximizes over the panel

Mon Feb 08 11:26:59 1999  George Lebl  <jirka@5z.com>

	* main.c: set up the session manager to restart the panel when
	  it dies

1999-02-08  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am: Reverted Timur's changes until they are actually
	tested and work.

Mon Feb  8 20:03:53 1999  Timur Bakeyev <mc@bat.ru>

	* Makefile.am, appletsConf.sh.in: Strangly, libgnorba.a wasn't in de-
	pendences and $(APPLETS_LIBS). Fixed, by changing occurences of GNOMEUI_
	LIBS and ORB_LIBS with GNOMEGNORBA_LIBS. Suggested by Owen Taylor.

Mon Feb  8 10:00:03 1999 The Rasterman <raster@redhat.com>
	* corner-widget.c, drawer-widget.c, snapped-widget.c: changed layering
	  to be below normal app window layer unless autohide is on.

Mon Feb 08 03:14:41 1999  George Lebl  <jirka@5z.com>

	* main.c: set client priority to 40 so that the panel gets started
	  before any app that wants to add an applet

Mon Feb 08 01:08:46 1999  George Lebl  <jirka@5z.com>

	* drawer.c,panel.c,drawer-widget.c: remove redundant queue_resizes,
	  fix initial drawer flashing, by not showing them until the
	  master_widget has been size_allocated

Sun Feb 07 15:45:39 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch],drawer-widget.c,snapped-widget.c,corner-widget.c:
	  remove dead code, really change allocation, remove reparent hack,
	  save the world as we know it, and general cleanup

Sun Feb 07 14:53:00 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,corner-widget.c,snapped-widget.c: set
	  allocation to the size of window that we request, put
	  sounds on all the animations, and do animations as
	  ABOVE_DOCK and make the hidden panels ABOVE_DOCK
	  (I wish I could have my own personal Owen to ask
	  gtk/X questions:)

Sun Feb 07 14:06:52 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: disable the reparenting fake window hack

	* drawer-widget.c: make drawers ABOVE_DOCK for icewm geometry
	  sanity

Sun Feb 07 06:37:29 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix disappearing drawer bug

Sun Feb 07 06:06:08 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c, panel.c: fix drawer positioning under compliant
	  WM's, reduce the number of X calls necessary for drawer allocation
	  as well

	* basep-widget.c,session.h: optimizations, do animations using time
	  instead of position, which makes the animations smoother

Sun Feb 07 03:41:47 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c,drawer-widget.c: optimizations and some display bugs
	  fixed

Sun Feb 07 02:02:13 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c,basep-widget.[ch],corner-widget.c,drawer-widget.c:
	  cleanup of the fake window stuff for animations, should fix some
	  problems as well, still we have a problem with drawer repositioning
	  but that's an older unrelated problem

Sat Feb 06 18:40:04 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,snapped-widget.c,corner-widget.c,basep-widget.c:
	  fix compliant WM's by a bunch of hacks, the animation code now
	  needs another cleanup, the fake window stuff is a bad bad hack

Sat Feb 06 01:21:53 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: partially fix the problems with compliant
	  WMs, seems like it's not extremely friendly to reparenting,
	  will fix the rest tomorrow

Fri Feb 05 17:18:43 1999  George Lebl  <jirka@5z.com>

	* drawer.c,drawer-widget.[ch],panel.c: keep drawers mapped but
	  offscreen, never hide them, just move em off screen, this fixes
	  initial drawer showing and also fixes some problems with swallows
	  in drawers ... etc ...

Fri Feb 05 16:00:56 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: destroy the fake when the main window is
	  destroyed

	* drawer-widget.h,panel_config.c: remove the obscolete items
	  from drawer object and fix related segfault

	* drawer-widget.c: fix hidebuttons disabeling

Thu Feb 04 23:00:06 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: use set_icon for icon entries

Thu Feb 04 02:58:27 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix drawer flash

	* basep-widget.c,corner-widget.c,snapped-widget.c,drawer-widget.c:
	  remove redundant gdk_flush()es

Wed Feb 03 23:47:06 1999  George Lebl  <jirka@5z.com>

	* *.c: on all dialogs, when just trying to "redisplay" an existing
	  dialog, do a gdk_window_raise and gtk_widget_show on it

	* button-widget.[ch],launcher.c,drawer.c,logout.c,menu.c: added
	  ability to display the name of the icon to button-widget,
	  it's ugly now so it's only used if no icon can be found

	* basep-widget.[ch],drawer-widget.c,corner-widget.c,snapped-widget.c:
	  use another window (fake) as a override redirect parent, and use
	  gravity to get animations right and make it work ok with the
	  compliant windowmanagers

	* panel.c: don't move the panel when dragging and the cursor is in
	  the middle 1/3 of the screen to avoid flickery movement

Fri Jan 29 00:50:57 1999  George Lebl  <jirka@5z.com>

	* *.c: for all toplevel windows set the correct wmclass

Wed Jan 27 15:46:27 1999  George Lebl  <jirka@5z.com>

	* launcher.c,logout.c,drawer.c,button-widget.c: ok changed
	  behaviour slightly to avoid crashes when a pixmap is not
	  found, I'll add more things to this as now nothing is displayed,
	  I'll make it display text as well if pixmap isn't found ...
	  but not today ....

Fri Jan 22 17:44:51 1999  George Lebl  <jirka@5z.com>

	* panel.c: handle more url drops and fix a minor memleak

Thu Jan 21 18:28:36 1999  George Lebl  <jirka@5z.com>

	* panel.c,launcher.[ch]: accept netscape URL drags and add them
	  as gnome-moz-remote launchers, and add a hack that extracts the
	  URL from the exec and uses gnome-url to display it

Thu Jan 21 14:03:37 1999  George Lebl  <jirka@5z.com>

	* menu.c,panel.c: add DND for internal applets as well

1999-01-20  Nat Friedman  <nat@nat.org>

	* panel_config.c (panel_config): Connect the help signal of the
 	GnomePropertyBox to gnome_help_pbox_display.

	* panel_config_global.c (panel_config_global): Likewise.

Tue Jan 19 03:58:22 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch]: new files, combining some of the functionality
	  of all the widgets, into a single base widget to reduce code
	  size and ease maintanance (not to mention it reduces redundancy)

	* {corner,snapped,drawer}-widget.[ch]: derive them all from
	  basep-widget

	* session.c,menu.c,panel_config.[ch],drawer.c,applet.c,extern.c:
	  make changes to accomodate the above changes

	* Makefile.am: build the new basep-widget

Tue Jan 19 01:24:59 1999  Jeff Garzik  <jgarzik@pobox.com>

	* launcher.c, menu.c, panel_config.c, panel_config_global.c,
	  session.c, swallow.c:
	Renamed deprecated Gtk+ functions.
	
Mon Jan 18 20:14:58 1999  George Lebl  <jirka@5z.com>

	* {snapped,corner,drawer}-widget.c: don't show the frame when
	  using a background pixmap

Mon Jan 18 03:34:35 1999  George Lebl  <jirka@5z.com>

	* menu.c: don't show the entry if the entry load failed, and
	  do more sanity checking all around on entry loads

	* menu.c: save the time of the last file, and only stat files once
	  per second, this reduces the amount of stats if going though menus
	  fast and if loading more then two of the same menuitems on startup

	* menu.[ch],main.c: since now the directories can be read in fairly
	  efficently, we do this on startup for up to two levels on the main
	  directories.

	* menu.c: redhat menus can now be read in a separate process that
	  quits right after reading them, this saves some memory, and
	  probably makes the startup more snappier as the menu conversion is
	  done in parallel. (this is only done on the init)

Sat Jan 16 20:54:55 1999  George Lebl  <jirka@5z.com>

	* menu.c: cleaned up the submenu_to_display thing, now doesn't
	  destroy the menu and create a new one, but uses the same
	  menu shell but destroyes just the contents, also now it's
	  not done on select of the item, but on show of menu, this means
	  if you only pass above the item it won't try to create the menu
	  even if you don't actually show it. (not to mention the hackishness
	  factor decreased in this part:)

Sat Jan 16 01:23:50 1999  George Lebl  <jirka@5z.com>

	* menu.c: make a better guess for the name of the app based on
	  the filename if the dentry wasn't helpful

	* panel.c: allow dragging of drawer applets by dragging on the
	  drawer panels

Sat Jan 16 00:48:07 1999  George Lebl  <jirka@5z.com>

	* menu.c: allow adding of whole directories to the personal
	  menu from the other menus, and disallow adding from personal to
	  personal (it wouldn't work anyhow)

Fri Jan 15 22:53:46 1999  George Lebl  <jirka@5z.com>

	* {corner,snapped,drawer}-widget.c,session.[ch],
	  panel_config_global.[ch]: Made autoraise optional

	* menu.c: remove debugging puts's and minor initial load
	  cleanup

Fri Jan 15 21:53:24 1999  George Lebl  <jirka@5z.com>

	* menu.c: fixed edit bug where canceling the dialog would remove
	  the .desktop entry completely

	* menu.c: redid the reading code, I sperated data from widgets, which
	  has several advantages, mostly less disk access and a little bit
	  of saved memory if we look at the same menu from different
	  places, this is a slightly bug prone and a tiny bit ugly code
	  at times so test well

Thu Jan 14 04:49:03 1999  George Lebl  <jirka@5z.com>

	* menu.c: fixes for the strconcat stuff

Thu Jan 14 04:20:44 1999  George Lebl  <jirka@5z.com>

	* menu.c: implemented "Add to personal menu" for launchers

Thu Jan 14 03:53:25 1999  George Lebl  <jirka@5z.com>

	* menu.c,main.c,session.c,panel_config_global.[ch]: add
	  "Keep menus in memory option" for systems with slow disks
	  and enough ram

Tue Jan 12 20:25:14 EST 1999 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* menu.c: No clue how the redhat code ever worked, lucky I guess.
	It works now though.
	
1999-01-12  Christopher Blizzard  <blizzard@appliedtheory.com>

	* menu.c: remove alloca() type functions since they aren't in glib
 	anymore.

Fri Jan 08 05:49:03 1999  George Lebl  <jirka@5z.com>

	* swallow.c: hmmm figured out why the swallow is quirky, it hate's
	  being a detachable handlebox, so I disabled the detaching,
	  (not to mention that I can't figure out why someone wanted
	  to swallow something into the panel for the sole purpose
	  of detaching it again and making it, once again a separate
	  window)

Thu Jan 07 22:00:46 1999  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: some cleanup, and queue the applets on
	  startup to avoid some races.

1999-01-07  Jonathan Blandford  <jrb@redhat.com>

	* menu.c (panel_lock): Grr.  My last fix was even more broken then
	the first one.  Now it does the right (TM) thing.  Hmm, it'd be
	nice to be able to copy this down to the panel as a launcher...

1999-01-06  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* menu.c (add_redhat_entry): test if the read line is not empty
	some non-standard wmconfig entrues made the panel crash with emty lines.

Tue Jan 05 23:03:59 1999  George Lebl  <jirka@5z.com>

	* button-widget.c: fix possible segfault

Tue Jan 05 23:02:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: very minor mem leak caught, use alloca macros,
	  cleanup create_menu_at a bit.

Tue Jan 05 21:47:17 1999  George Lebl  <jirka@5z.com>

	* menu.c: some memory savings, and some cleanup

Tue Jan 05 17:46:54 1999  George Lebl  <jirka@5z.com>

	* menu.c: merge check_and_reread into submenu_to_display to make
	  it all simpler, split of the applet aprt of check_and_reread,
	  and destroy the menu before creating a newone, so that memory
	  can be reclaimed better. Plus added a minor hack that saves
	  an extra 8k on full menu read!:)

Tue Jan 05 16:52:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: some possible leak fixes (I don't think they were real),
	  and removed the all_fake hack as it messed up positioning and
	  I doubt it helped much

Tue Jan 05 15:58:31 1999  George Lebl  <jirka@5z.com>

	* menu.c,panel.c: show/hide the convert items when creating the menu
	  when they are done on show it will be too late for positioning

Tue Jan 05 01:22:33 1999  George Lebl  <jirka@5z.com>

	* logout.c,panel_config_global.c,panel-types.h,session.c: add a
	  tooltip and use button-widget and a tile for logout

	* button-widget.c: scale large icons while preserving aspect

	* drawer-widget.c: get the toplevel panel and place drawers next to
	  panels in the correct(tm) way

	* extern.c,applet.c,panel.c,session.c,panel_config_global.[ch]:
	  made the popup menu placement be optionally not placed outside
	  of the panel

Mon Jan 04 01:33:53 1999  George Lebl  <jirka@5z.com>

	* menu.c: reverse redhat check for menu properties, fix properties
	  segfault and don't allow editting of redhat menu directories
	  (they're autogenerated:)

Sun Jan 03 03:38:00 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: set layer to AboveDock for autohide snapped
	  panel

Thu Dec 31 18:21:17 1998  George Lebl  <jirka@5z.com>

	* applet.c,menu.c,panel-util.[ch]: got rid of the pop_first routines

	* panel-widget.c: clean up the send_move list

Wed Dec 30 17:16:41 1998  George Lebl  <jirka@5z.com>

	* session.c,menu.c,main.c: cleaned up some weird stuff, and use
	  g_string where possible to avoid problems

	* panel-util.[ch]: remove get_full_path

Wed Dec 30 01:16:06 1998  George Lebl  <jirka@5z.com>

	* menu.c: close opened files!

1998-12-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* button-widget.c (button_widget_draw): Only draw if the tile is
	non NULL.

Tue Dec 29 02:22:36 1998  George Lebl  <jirka@5z.com>

	* menu.c: couple of minor fixes

Mon Dec 28 20:57:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: remove problematic string breaking routine and use the
	  gnome-config one, and fix a small memory leak

Mon Dec 28 00:26:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,panel.c: cosmetic code changes

1998-12-26  Martin Baulig  <martin@home-of-linux.org>

	* session.c (panel_config_sync): Set `applets_to_sync' back to
	NULL before calling do_session_save (), to make it work when
	called recursively.

Sat Dec 26 01:16:45 1998  George Lebl  <jirka@5z.com>

	* *.c: destroy signal is a void function, I always thought it
	  returned int, so I fixed that

Thu Dec 24 12:21:20 1998  George Lebl  <jirka@5z.com>

	* menu.c: don't load menu on startup for menu applets

	* menu.[ch],session,panel.[ch],main.c,applet.[ch]: implement menu
	  aging, old menus are destroyed if not used for over a minute to
	  save memory

Thu Dec 24 04:05:25 1998  George Lebl  <jirka@5z.com>

	* menu.c: save a couple of extra bytes by not allocating a
	  string since we have a usable string that lasts long enough

Thu Dec 24 03:48:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: create top level submenus as fakes, this saves even more
	  ram if the user never uses a menu

Thu Dec 24 03:37:05 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],session.c,menu.c: cleaned up params argument to be
	  an int, this is some old old cruft from about a year ago

	* *.[ch]: minor cleanups, changed a bunch of GList's to GSList's

	* panel.c: don't load the panel menu by default, load it when needed

	* menu.[ch],session.c: got rid of the dot buttons and icons list,
	  now we just mark all menus as dirty, ready for rereading, this
	  saves us tuns of memory when the user doesn't use pixmaps or
	  dot_buttons .. and we also don't load all menus at startup

Wed Dec 23 22:53:40 1998  George Lebl  <jirka@5z.com>

	* menu.c: completely change how redhat menus are read, now they
	  are converted to normal gnome menus. also they are not fully
	  checked for additions, only the directories are checked so it
	  won't catch modified files, just added/removed files

	* menu.c: converted all GList's to GSList's, plus I don't anymore
	  store the desktop entry structures to save memory, plus I do a
	  fake menu read on startup so that submenus aren't read until a
	  user actually goes to them. Plus I fixed a race with gtk, my hack
	  for replacing menus during the select signal didn't all work so
	  that caused some menus to "hang", I solved it with a bigger hack
	  that removes and re-selects the entry if the menu has already been
	  shown.

	* menu.c: changed logic for getting top directory icons

	* launcher.[ch]: got rid of the load_launcher_applet_dentry func

	* panel-util.[ch]: added a remove_directory call for recursively
	  cleaning a directory, and made string_in_list func be a GSList
	  function

1998-12-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed the error, that preventend the panel from
 	restoring a saved session, if it's used with gnome-session.  Due
 	to some changes of Felix, the 'gnome_cloned_client' call does
 	nothing anymore, so the panel always thought, it has to restore
 	the default session.

Tue Dec 22 14:38:00 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel-widget.c: with timeouts finally working on my box
	  I realized that 100ms for timeouts on moving is too much so
	  changed it back to 30ms

Tue Dec 22 02:10:51 1998  George Lebl  <jirka@5z.com>

	* menu.c: ok ok the redhat menu code now officially sucks and
	  will get changed, I fixed the weird menu bug by not doing a
	  check and reread of the menu. I think I'm gonna go a completely
	  different route on this redhat menu thing

	* launcher.[ch]: added a way to make menu out of a desktop entry
	  by itself for added speed

Mon Dec 21 13:54:42 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c,drawer-widget.c,panel-util.[ch]:
	  now set color on the buttons as well if panel color is set, and
	  I stole some color stuff from gtk to make the colors be set
	  properly (instead of just multiplying rgb values)

Mon Dec 21 00:08:09 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: implemented minimum size of 48 pixels so
	  that adding to an empty drawer is easier

Sun Dec 20 22:13:36 1998  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: took out synchronious applet startup code as
	  it didn't work anyhow and was taking up space

	* menu.c,session.c,panel.c: changed menu properties to allow other
	  menu types then user/system (such as now redhat) ... plus I enabled
	  redhat menus as they seem stable and well behaved (dnd doesn't work
	  from them though)

Sun Dec 20 14:14:37 1998  George Lebl  <jirka@5z.com>

	* menu.c: replace connect_iterp with connect_full

Sun Dec 20 02:02:10 1998  George Lebl  <jirka@5z.com>

	* drawer.c: use icon entry

	* panel.c: use motion notify events for moving insted of just a
	  timer, the logic here is the same as used for applet moving and
	  it should avoid crowding of more motion events together using
	  a timeout

Sun Dec 20 01:37:54 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: add a call to back_change when changing panels
	  so that we actually change the back on applets that can (printer
	  can)

	* panel-widget.c: take out the old timeout based move as it's now
	  (and actually been for a while) possible to again use motion_notify
	  ... though I use a timeout to avoid too many motions at once and
	  move at most every 100ms

Sat Dec 19 21:10:02 1998  George Lebl  <jirka@5z.com>

	* menu.c: when adding new panel try to find a spot that is empty,
	  add conversion or edge<->corner panel and move add drawer to
	  the main panel menu from the add panel submenu

	* panel.c: don't put up panel menu on the left click, just on the
	  right click

	* panel_config.c,panel_config_global.c,menu.c: capitalize only the
	  first letter in strings for consistency

Sat Dec 19 03:30:07 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: install gnome-panel.h

Sat Dec 19 02:38:09 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: cosmetic thingie fixed ...

Sat Dec 19 02:12:32 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.c: changed disable animations to enable
	  animations

	* session.c: made the "..." buttons off by default, happy now????

Sat Dec 19 01:55:10 1998  George Lebl  <jirka@5z.com>

	* menu.c: experimental Redhat menu reading code, #if 0'ed
	  out now until proven stable and functionally complete

	* panel_config.c,drawer.c: changed negative checkboxes to positive
	  and made only AutoHide checkbox (not two radio boxes)

	* applet-widget.c: fixed a bug with right click menus, now the
	  menus come up the same way all over (if you click they will stay).
	  this took some X hackery which is probably not 100% the
	  RightWay(tm) but it works (it bypasses corba and emulates a
	  button press on the socket with XSendEvent)

Wed Dec 16 14:54:09 1998  Owen Taylor  <otaylor@redhat.com>

	* applet.c button-widget.c button-widget.h panel-widget.c:

	widget->window cannot be INPUT_ONLY. So, do the same
	trick as we do for CheckButtons or Scales. Make
	ButtonWidget NO_WINDOW, with an additional event_window
	field.

Wed Dec 30 17:16:41 1998  George Lebl  <jirka@5z.com>

        * session.c,menu.c,main.c: cleaned up some weird stuff, and use
          g_string where possible to avoid problems

        * panel-util.[ch]: remove get_full_path

Wed Dec 30 01:16:06 1998  George Lebl  <jirka@5z.com>

        * menu.c: close opened files!

1998-12-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* button-widget.c (button_widget_draw): Only draw if the tile is
	non NULL.

Tue Dec 29 02:22:36 1998  George Lebl  <jirka@5z.com>

	* menu.c: couple of minor fixes

Mon Dec 28 20:57:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: remove problematic string breaking routine and use the
	  gnome-config one, and fix a small memory leak

Mon Dec 28 00:26:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,panel.c: cosmetic code changes

1998-12-26  Martin Baulig  <martin@home-of-linux.org>

	* session.c (panel_config_sync): Set `applets_to_sync' back to
	NULL before calling do_session_save (), to make it work when
	called recursively.

Sat Dec 26 01:16:45 1998  George Lebl  <jirka@5z.com>

	* *.c: destroy signal is a void function, I always thought it
	  returned int, so I fixed that

Thu Dec 24 12:21:20 1998  George Lebl  <jirka@5z.com>

	* menu.c: don't load menu on startup for menu applets

	* menu.[ch],session,panel.[ch],main.c,applet.[ch]: implement menu
	  aging, old menus are destroyed if not used for over a minute to
	  save memory

Thu Dec 24 04:05:25 1998  George Lebl  <jirka@5z.com>

	* menu.c: save a couple of extra bytes by not allocating a
	  string since we have a usable string that lasts long enough

Thu Dec 24 03:48:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: create top level submenus as fakes, this saves even more
	  ram if the user never uses a menu

Thu Dec 24 03:37:05 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],session.c,menu.c: cleaned up params argument to be
	  an int, this is some old old cruft from about a year ago

	* *.[ch]: minor cleanups, changed a bunch of GList's to GSList's

	* panel.c: don't load the panel menu by default, load it when needed

	* menu.[ch],session.c: got rid of the dot buttons and icons list,
	  now we just mark all menus as dirty, ready for rereading, this
	  saves us tuns of memory when the user doesn't use pixmaps or
	  dot_buttons .. and we also don't load all menus at startup

Wed Dec 23 22:53:40 1998  George Lebl  <jirka@5z.com>

	* menu.c: completely change how redhat menus are read, now they
	  are converted to normal gnome menus. also they are not fully
	  checked for additions, only the directories are checked so it
	  won't catch modified files, just added/removed files

	* menu.c: converted all GList's to GSList's, plus I don't anymore
	  store the desktop entry structures to save memory, plus I do a
	  fake menu read on startup so that submenus aren't read until a
	  user actually goes to them. Plus I fixed a race with gtk, my hack
	  for replacing menus during the select signal didn't all work so
	  that caused some menus to "hang", I solved it with a bigger hack
	  that removes and re-selects the entry if the menu has already been
	  shown.

	* menu.c: changed logic for getting top directory icons

	* launcher.[ch]: got rid of the load_launcher_applet_dentry func

	* panel-util.[ch]: added a remove_directory call for recursively
	  cleaning a directory, and made string_in_list func be a GSList
	  function

1998-12-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed the error, that preventend the panel from
 	restoring a saved session, if it's used with gnome-session.  Due
 	to some changes of Felix, the 'gnome_cloned_client' call does
 	nothing anymore, so the panel always thought, it has to restore
 	the default session.

Tue Dec 22 14:38:00 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel-widget.c: with timeouts finally working on my box
	  I realized that 100ms for timeouts on moving is too much so
	  changed it back to 30ms

Tue Dec 22 02:10:51 1998  George Lebl  <jirka@5z.com>

	* menu.c: ok ok the redhat menu code now officially sucks and
	  will get changed, I fixed the weird menu bug by not doing a
	  check and reread of the menu. I think I'm gonna go a completely
	  different route on this redhat menu thing

	* launcher.[ch]: added a way to make menu out of a desktop entry
	  by itself for added speed

Mon Dec 21 13:54:42 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c,drawer-widget.c,panel-util.[ch]:
	  now set color on the buttons as well if panel color is set, and
	  I stole some color stuff from gtk to make the colors be set
	  properly (instead of just multiplying rgb values)

Mon Dec 21 00:08:09 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: implemented minimum size of 48 pixels so
	  that adding to an empty drawer is easier

Sun Dec 20 22:13:36 1998  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: took out synchronious applet startup code as
	  it didn't work anyhow and was taking up space

	* menu.c,session.c,panel.c: changed menu properties to allow other
	  menu types then user/system (such as now redhat) ... plus I enabled
	  redhat menus as they seem stable and well behaved (dnd doesn't work
	  from them though)

Sun Dec 20 14:14:37 1998  George Lebl  <jirka@5z.com>

	* menu.c: replace connect_iterp with connect_full

Sun Dec 20 02:02:10 1998  George Lebl  <jirka@5z.com>

	* drawer.c: use icon entry

	* panel.c: use motion notify events for moving insted of just a
	  timer, the logic here is the same as used for applet moving and
	  it should avoid crowding of more motion events together using
	  a timeout

Sun Dec 20 01:37:54 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: add a call to back_change when changing panels
	  so that we actually change the back on applets that can (printer
	  can)

	* panel-widget.c: take out the old timeout based move as it's now
	  (and actually been for a while) possible to again use motion_notify
	  ... though I use a timeout to avoid too many motions at once and
	  move at most every 100ms

Sat Dec 19 21:10:02 1998  George Lebl  <jirka@5z.com>

	* menu.c: when adding new panel try to find a spot that is empty,
	  add conversion or edge<->corner panel and move add drawer to
	  the main panel menu from the add panel submenu

	* panel.c: don't put up panel menu on the left click, just on the
	  right click

	* panel_config.c,panel_config_global.c,menu.c: capitalize only the
	  first letter in strings for consistency

Sat Dec 19 03:30:07 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: install gnome-panel.h

Sat Dec 19 02:38:09 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: cosmetic thingie fixed ...

Sat Dec 19 02:12:32 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.c: changed disable animations to enable
	  animations

	* session.c: made the "..." buttons off by default, happy now????

Sat Dec 19 01:55:10 1998  George Lebl  <jirka@5z.com>

	* menu.c: experimental Redhat menu reading code, #if 0'ed
	  out now until proven stable and functionally complete

	* panel_config.c,drawer.c: changed negative checkboxes to positive
	  and made only AutoHide checkbox (not two radio boxes)

	* applet-widget.c: fixed a bug with right click menus, now the
	  menus come up the same way all over (if you click they will stay).
	  this took some X hackery which is probably not 100% the
	  RightWay(tm) but it works (it bypasses corba and emulates a
	  button press on the socket with XSendEvent)

Wed Dec 16 14:54:09 1998  Owen Taylor  <otaylor@redhat.com>

	* applet.c button-widget.c button-widget.h panel-widget.c:

	widget->window cannot be INPUT_ONLY. So, do the same
	trick as we do for CheckButtons or Scales. Make
	ButtonWidget NO_WINDOW, with an additional event_window
	field.

1998-12-16  Jonathan Blandford  <jrb@aware-of-vacuity.labs.redhat.com>

	* menu.c (panel_lock): let's do the correct xscreensaver command

Tue Dec 15 16:54:34 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: changed the event setup a bit to be less
	  expensive and smaller and should work better.

1998-12-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Added panel.soundlist.

Tue Dec 15 15:38:57 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: fixed some problems with events so that clicks
	  work again on all applets. Though I still have a problem with
	  the mixer if you drag it by the handle and it actually gets
	  the middle click for dragging

Mon Dec 14 21:46:56 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: minor sanity checks added

Mon Dec 14 22:15:31 EST 1998  Matt Wilson  <msw@redhat.com>

	* extern.c: no c++ comments

Mon Dec 14 14:26:51 1998  George Lebl  <jirka@5z.com>

	* session.c: start up clock and three launchers (help,control
	  center and netscape) by default in the middle of the panel

Mon Dec 14 00:32:09 1998  George Lebl  <jirka@5z.com>

	* everything: last week or so was a week of hectic change of elliot and
	  me getting everything working with the new goad stuff ... as such there were
	  huge changes and writing precise log files would have proven difficult (plus
	  elliot doesn't write changelogs) ... so I postponed any changelogs until
	  it's all working ... form now on I'll be writing changelogs again ...

1998-12-13  Martin Baulig  <martin@home-of-linux.org>

	* applet-widget.c (applet_widget_add): Don't free the data of the
	goad_ids_list to avoid a core dump with multi applets.

1998-12-08  Michael Lausch  <mla@gams.at>

	* applet-widget.c (gnome_panel_applet_reinit_corba): change the
	goad_server_activate_with_repo_id to comply with the new version.
	* extern.c (extern_start_new_goad_id): ditto and add a
	CORBA_Environment parameter to the Object_release call

Mon Dec 07 01:09:02 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: added an abort_load call to abort loading of
	  the applet if it was not yet added

	* extern.c: fixed the multiapplets to be actually recognized

Sun Dec 06 13:42:27 1998  George Lebl  <jirka@5z.com>

	* extern.c,main.c: launch applets so that always a new instance comes
	  up, also make the execing of applets to be done after everything
	  is initializedand done, so that we get no corba problems

	* orbit-glue.c: removed request_globcfg because it was not used

	* applet-widget.[ch]: moved in all the stuff from orbit-applet-lib
	  and removed a lot of redunduncy, forgot to check the resulting
	  binary size change but it shouldn't be drastic anyhow

	* orbit-applet-lib.c,applet-lib.h: removed

Fri Dec 04 03:01:53 1998  George Lebl  <jirka@5z.com>

	* extern.c,orbit-applet-lib.c: do grabs on the panel side again
	  and fix the grab problems with a simple gdk_flush

Thu Dec 03 03:54:17 1998  George Lebl  <jirka@5z.com>

	* extern.c: fixed a small problem of a clist not initialized

Thu Dec 03 02:39:56 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],session.c,extern.[ch],panel.c,menu.c: removed
	  the params stiff from extern applets and use goad_id's exclusively
	  for everything

	* orbit-glue.c,orbit-applet-lib.c,applet-lib.h: changed the corba
	  interface a bit to pass only goad_id's

	* applet-widget.[ch]: removed _new_with_params, and changed the
	  multiapplet argument to _init is not a list of the goad_id's
	  that can be passed to the new applet callback

	* extern.c: created a new launch multiapplet framework and dumped
	  the old mulapp/exec-queue approach

	* exec-queue.[ch],mulapp.[ch]: removed now done in a simpler manner
	  in extern.c

1998-12-01  Raja R Harinath  <harinath@cs.umn.edu>

	* appletsConf.sh.in (APPLETS_LIBS): Also list `-lpanel_applet'.

Thu Nov 26 17:30:10 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,orbit-applet-lib.c: got rid of some ugliness

	* orbit-applet-lib.c: now grabs pointer correctly (kind of) for
	  moving however menus still work weird

	* extern.c: moving is done without grabs, as if it's with, it
	  doesn't work right for some reason, grabs are then kept on
	  the applet side

Thu Nov 26 02:57:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: only get an existing filename for menu path, and use
	  directory entry mode of file entry here

Thu Nov 26 01:57:44 1998  George Lebl  <jirka@5z.com>

	* menu.c,panel_config_global.c,panel_config.c,panel-util.c: got
	  rid of ugly entry changed disconnect by using while_alive

Thu Nov 26 01:26:13 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: function to create icon entry

	* panel_config_global.c: use icon entry for tiles

Thu Nov 26 01:00:05 1998  George Lebl  <jirka@5z.com>

	* menu.c,launcher.c: use the new dentry-edit new function

Wed Nov 25 00:01:33 1998  Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* main.c: Actually exit when --discard-session arg is passed, 
	instead of just hanging around.

Fri Nov 20 02:14:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed the apps directory creation, now rereads when a
	  file/dir goes missing, and create_directory doesn't need to
	  check the file again, just uses the force parameter

Thu Nov 19 22:28:30 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed some bugs with user menus and non-both configuration
	  of the main menu, should now better deal with empty user menu
	  and will actually create the directory

Mon Nov 16 23:07:56 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: just cosmetic touch up

Mon Nov 16 22:18:45 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: setup the config structure properly for corner
	  hidebutton options

	* panel-widget.c: default width is 48 not 0 in size_request

	* panel-widget.c: fixed the set_default style so that it works with
	  themes properly

	* snapped-widget.[ch],corner-widget.[ch],drawer-widget.[ch]:
	  when setting a background color, set the frame colors as well
	  for a nicer look

Thu Nov 12 00:28:04 1998  George Lebl  <jirka@5z.com>

	* corner-widget.[ch],panel_config.[ch],session.c: add the hidebutton
	  options to corner widget so that it is consistent with the other
	  types

	* drawer-widget.c: minor cleanup

	* snapped-widget.c: if we just disable hidebuttons, show the panel
	  if it was hidden or it would be lost forever :)

	* panel_config.[ch]: minor cleanup

1998-11-12  Jens Lautenbacher  <jens@tellux.de>

	* panel_config_global.c: tile_enabled toggle for each button type.
	* panel_config_global.h: use it.
	* button-widget.c: use it here
	* button-widget.h: ditto
	* session.c: ditto

1998-11-08  Jens Lautenbacher  <jens@tellux.de>

	* swallow.c (swallow_detached): a bit of cleanup
	(swallow_attached): ditto
	(set_swallow_applet_orient): ditto

	* applet.c (applet_button_press): some special casing for floating
 	swallows

1998-11-07  Jens Lautenbacher  <jens@tellux.de>

	* swallow.c (set_swallow_applet_orient): Changed for below.
	(swallow_attached): new function.
	(swallow_detached): ditto.

	* swallow.h: struct Swallow: changed for below.

	* swallow.c (create_swallow_applet): Rewrote to use
 	handleboxes. This is cute.

1998-11-02  Jens Lautenbacher  <jens@tellux.de>

	* panel_config_global.c (make_int_scale_frame): add a step parameter
	(animation_notebook_page): use it.
	(icon_notebook_page): use it.
	(misc_notebook_page): use it.

Wed Oct 28 21:09:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: add warning if old siugnal is used

1998-10-26  Jens Lautenbacher  <jens@tellux.de>

	* drawer-widget.c: cleanup my own brain damage.

	* drawer.c (add_drawer_properties_page): use CONFIG_PADDING_SIZE
 	for padding size

1998-10-25  Jens Lautenbacher  <jens@tellux.de>

	* drawer-widget.[hc], drawer.[ch], panel.c, panel_config.[ch],
 	session.c: Added configurable hidebuttons for drawers much like
 	those for snapped panels.

Wed Oct 21 11:41:44 1998  Owen Taylor  <otaylor@redhat.com>

	* panel.c menu.c: Added the ability to drag launchers applets
	and directories from the menu onto the panel.

1998-10-20  Andrew Veliath  <andrewtv@usa.net>

	* Makefile.am: Update IDL compiler rule to depend on ORBIT_IDL.
	
Sun Oct 18 19:19:25 1998  Owen Taylor  <otaylor@gtk.org>

	* panel.c: Use the new DND API.

1998-10-13    <jrb@aware-of-vacuity.labs.redhat.com>

	* menu.c (panel_lock): changed the command to use xscreensaver now.

Tue Oct 13 02:28:55 1998  George Lebl  <jirka@5z.com>

	* main.c,applet.c,drawer-widget.c: fix minor warnings

	* swallow.c: fix a bug with removing swallows still waiting for windows

Sun Oct 04 02:41:01 1998  George Lebl  <jirka@5z.com>

	* launcher.c: applied patch from Michael O'Reilly
	  <michael@metal.iinet.net.au> that fixes the launcher property
	  crashes

1998-09-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Makefile.ama: Use '?' to separate the sed
	commands as ',' is used when people pass -Wl,something.

Wed Sep 30 14:45:30 1998  John Ellis  <johne@bellatlantic.net>

	* menu.c, panel_config.c, session.c, snapped-widget.[ch]: Added option
	to disable hidebutton pixmaps.
	* snapped-widget.c(show_hidebutton_pixmap)
	(snapped_widget_show_hidebutton_pixmaps): New functions for above.
	* panel_config.c(snapped_set_hidebutton_pixmaps): Same.

Sat Sep 26 00:56:14 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* menu.c (create_menu_at): replaced gnome_pixmap_new_from_file_at_size
	with gnome_stock_pixmap_widget_at_size to get (IMHO) nicer icons in
	menus.

1998-09-22  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Removed gnome-panel.idl, since it now
	lives in another directory.
	(libpanel_appletinclude_HEADERS): Add panel-types.h to the list of
	headers for libpanel_applet.

Tue Sep 22 10:59:19 1998  George Lebl  <jirka@5z.com>

	* menu.c: follow the show_dot_buttons on creation, so that they
	  don't reappear after they've been disabled

Tue Sep 22 00:53:10 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: fix drawer open/close code when animations are
	  disabled

	* session.c: global_config is not initialized, those values were
	  bogus anyway

	* session.c: fix segfault when quiting with a swallow applet that
	  didn't ever swallow anything

Thu Sep 17 01:51:47 1998  John Ellis  <johne@bellatlantic.net>

	* corner-widget.c, snapped-widget.c: changed xpm references to png.

Sat Sep 12 17:15:57 1998  George Lebl  <jirka@5z.com>

	* exec-queue.c: fix zombies

Wed Sep 09 01:47:44 1998  George Lebl  <jirka@5z.com>

	* orbit-applet-lib.c: fixed brandamage with the request_id, it
	  used to sleep one second on every call, and increase the timeouts
	  to 30 secs

Wed Sep 09 01:07:43 1998  George Lebl  <jirka@5z.com>

	* extern.c: very minor fixup

	* panel-widget.c: fixes to forbidden lists and some minor fixups

Tue Sep 08 01:15:57 1998  George Lebl  <jirka@5z.com>

	* session.c: actually destroy sockets on exit, don't just
	  remove them from their container

	* *.c: minor cleanups

Tue Sep 08 00:14:37 1998  George Lebl  <jirka@5z.com>

	* extern.[ch]: correctly trap the destroy signal and correctly
	  destroy the event_box

Tue Sep 08 00:13:23 1998  George Lebl  <jirka@5z.com>

	* main.c,session.c,exec-queue.[ch],extern.c: got rid of the
	  children list and we are no longer trapping sigchld, trapping
	  destroy on the socket is much saner and nicer

	* gnome-panel.idl,orbit-applet-lib.c,applet-lib.h,orbit-glue.[ch],
	  session.c: tooltip state is now sent to each applet even in case
	  of multi applets ... doesn't change a thing in the actual applet
	  API anyhow

Mon Sep 07 00:29:12 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed some dead code

Sun Sep 06 23:56:03 1998  George Lebl  <jirka@5z.com>

	* extern.c: bunch of minor fixes

	* main.c: fix catching of sigchld's

1998-09-06  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (xpanel): Comment out unused rule.

Sun Sep 06 13:26:54 1998  George Lebl  <jirka@5z.com>

	* swallow.c: fixup socket destruction

	* applet.c: instead of removing applet, destroy it on clean

Sat Sep 05 14:24:43 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel_config_global.[ch],session.c: added a way to
	  make ... buttons optional

	* menu.c: use right click anywhere on the menu item as another
	  way to get the item menu

Sat Sep 05 00:20:03 1998  George Lebl  <jirka@5z.com>

	* session.c: fixed a possible cause of the applet multiplication
	  bug, but I doubt this was it

Fri Sep 04 22:54:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix drawing after color/pixmap drop

	* panel-widget.[ch],panel.[ch],menu.c,launcher.[ch]:
	  added ability to drop directories desktop files and
	  executables onto the panel

	* launcher.c: when adding dentry, default to application

Fri Sep 04 18:05:35 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: use color_picker

	* applet-widget.c: added some argument checking

Fri Sep 04 16:46:30 1998  George Lebl  <jirka@5z.com>

	* menu.c: added properties to menus

	* launcher.[ch]: cleanups

Fri Sep 04 01:45:02 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added argument checking to functions, fixed a bug
	  or two, and disabled DEBUG

Fri Sep 04 00:37:45 1998  George Lebl  <jirka@5z.com>

	* *.c: fix a whole bunch of warnings

Fri Sep 04 00:08:28 1998  George Lebl  <jirka@5z.com>

	* mico-*.(h|cc),applet-lib.cc: removed

	* orbit-glue.h: replaces mico-glue.h

	* Makefile.am: removed support for mico

Thu Sep 03 23:24:20 1998  George Lebl  <jirka@5z.com>

	* session.c: typos fixed, now correctly loads tiles

Thu Sep  3 13:26:41 1998  Owen Taylor  <otaylor@redhat.com>

	* panel-widget.c ([add/remove]_panel_[from/to]_forbidden):
	Check for NULL _before_ cast to avoid warnings.

Wed Sep 02 23:53:23 1998  George Lebl  <jirka@5z.com>

	* session.c: clear the list of applets after do_session_save
	  default tiles are now in pixmaps/tiles

Wed Sep  2 01:30:32 PDT 1998 Manish Singh <yosh@gimp.org>

	* main.c
	* applet.c: fixes for changed GArray interface (untested)

Wed Sep 02 00:15:41 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,applet-lib.cc: fixed include file typos

Tue Sep  1 15:32:54 1998  Owen Taylor  <otaylor@redhat.com>

	* Some ref-counting fixups. Ref the widgets we are
	going to later unref, and always unref our menus
	instead of destroying them, since the latter might
	leak.

	* Destroy all panels on exit, so that GTK_DEBUG=objects
	can give meaningful results.

	* orbit-applet-lib.c (applet_corba_gtk_main_quit): Release
	the panel reference when quitting so that the connection
	is shut down nicely.

Tue Sep 01 10:28:05 1998  George Lebl  <jirka@5z.com>

	* launcher.c: got rid of an obscolete argument

1998-09-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel-util.c (my_g_list_pop_first): Fix warning.

Mon Aug 31 20:22:04 1998  Owen Taylor  <otaylor@redhat.com>

	* session.c (do_session_save): Pass the sync_applets list by
	reference so that the list can be properly modified.

Mon Aug 31 01:30:50 1998  George Lebl  <jirka@5z.com>

	* session.c: commented out debug info

	* menu.c: fix gnome_pixmap stuff (it's button_widget now)

	* panel.c: mark an applet for saving on add as well

Mon Aug 31 00:48:56 1998  George Lebl  <jirka@5z.com>

	* panel-util.c: fix a minor memory leak

Sun Aug 30 22:35:16 1998  George Lebl  <jirka@5z.com>

	* *.c: fixed a bunch of list/memory related problems

Sun Aug 30 13:33:48 1998  George Lebl  <jirka@5z.com>

	* applet.[ch],session.c,extern.c: Cleaned up widget/applet_widget
	  division

	* applet.c: always "bind lower events" on panel_widget_add

	* panel_config.c: removed unused variable

Sat Aug 29 22:52:46 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel-util.[ch]: fixed undefined deps with applets
	  by putting the menu position code into menu.c

Sat Aug 29 22:36:18 1998  George Lebl  <jirka@5z.com>

	* session.c,main.c,panel_config_global.c: made icon settings
	  configurable

	* panel_config.c,session.c,menu.c,snapped-widget.[ch]: added
	  a setting to disable hidebuttons on the snapped panel

Sat Aug 29 16:04:37 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c: fix initial position

Sat Aug 29 15:37:50 1998  George Lebl  <jirka@5z.com>

	* swallow.c: accept and properly launch .desktop files

Sat Aug 29 14:58:38 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch],menu.c,applet.c,panel.c: clean up menu
	  positioning code, so that there is only one function

Sat Aug 29 02:13:50 1998  George Lebl  <jirka@5z.com>

	* menu.c: cleanup of orient stuff

	* *.c: general cleanup after -Wall

1998-08-29  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed a bug, that occured, when the panel
	connects the session manager the first time every (i.e. the panel had
	no previous client id before).

Fri Aug 28 12:17:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: use the new transparent gnome icon image

Fri Aug 28 10:32:51 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: don't resize the pixmap when we don't need to

Fri Aug 28 02:19:18 1998  George Lebl  <jirka@5z.com>

	* menu.c: uset the logo-icon image for the main menu, this
	  however doesn't look too good since the background is white

	* panel_config_global.[ch],session.c,main.c: tiles are now
	  optional (can be set from global configuration), all other
	  icon stuff will become settable as well soon

Fri Aug 28 01:32:36 1998  George Lebl  <jirka@5z.com>

	* button-widget.c: fixed up the position calculation

Fri Aug 28 01:10:47 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: removed support for no_window clicking since
	  it's not needed

	* button-widget.[ch]: added support for "depth" pressing, added an
	  inputonly xwindow, and other minor improvements, including a button
	  like behaviour

	* menu.c: adapt to the new pressed semantics for button-widget

Thu Aug 27 02:33:44 1998  George Lebl  <jirka@5z.com>

	* button-widget.c: fixes, made pressed return bool

	* panel-widget.c: don't consider it a beginning of a clicked
	  if true is returned from pressed

	* drawer.c,menu.c: converted to button-widget

	* main.c: loads up the default tiles and enables them, this will
	  be configurable in the future, but for now it's hardcoded

Wed Aug 26 02:14:11 1998  George Lebl  <jirka@5z.com>

	* button-widget.[ch],panel-widget.[ch]: redid the icon stuff, now
	  icons are windowless widgets which don't even draw themselves,
	  the panel is aware of them and draws them itself, this will in
	  the very near future have support for tiles.

	* launcher.c: using the new button-widget as the widget instead of
	  gnome-pixmap

	* panel-types.h: new file for global types

	* panel.c: support rightclick menus for no_window applets

	* applet.[ch]: export the show_applet_menu function

1998-08-20  Martin Baulig  <martin@home-of-linux.org>

	* orbit-applet-lib.c (gnome_panel_applet_register): Don't
	CORBA_free () the ior since it is needed when a new instance
	of a multiapplet is started.

1998-08-19  Martin Baulig  <martin@home-of-linux.org>

	* Makefile.am: Added some explicit dependencies to make it work
	for people building out of the tarballs.

Wed Aug 19 01:44:12 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: added slightly ugly optimisation to the drawer
	  placement code

	* applet-widget.h: fix typo in comment

Tue Aug 18 20:18:41 1998  George Lebl  <jirka@5z.com>

	* applet.c,menu.c,panel.c: fix menu positioning to use requisition
	  allocation was Bad(tm) and didn't work with the latest gtk

Thu Aug 13 01:28:30 1998  George Lebl  <jirka@5z.com>

	* session.c: show even closed drawers, they flicker during startup
	  anyway, just this way they don't segfault when there is an
	  external applet on them

Wed Aug 12 20:30:22 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],drawer-widget.[ch],session.c,panel.c: offload some
	  drawer functionality from drawer.c to drawer-widget, and make the
	  size allocation stuff work right

Wed Aug 12 01:00:40 1998  George Lebl  <jirka@5z.com>

	* drawer.c,panel.c: fix autohide panel/drawer interaction

Tue Aug 11 03:01:27 1998  George Lebl  <jirka@5z.com>

	* drawer.c,menu.c: minor -Wall induced cleanups

Tue Aug 11 02:45:55 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],panel_config.[ch],applet.c: merged panel configuration
	  with the applet configuration in drawers

	* panel_config.c, panel.c: remove panel config dialog when the panel
	  is destroyed

	* *.c: minor cleanups

Mon Aug 10 02:32:19 1998  George Lebl  <jirka@5z.com>

	* launcher.c: removed a leak when launchers were destroyed
	  and made config dialog disappear when it's launcher is
	  destroyed

	* menu.c: made config dialog disappear when it's menu is
	  destroyed

	* drawer.c: made config dialog disappear when it's drawer is
	  destroyed

	* panel.c,applet.c: put in hacks to deal with tooltips owning
	  a reference count for applets

Sun Aug 09 19:59:18 1998  George Lebl  <jirka@5z.com>

	* menu.c: implemented properties of menu buttons

Sat Aug 08 23:42:14 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed interaction of applet_padding and
	  insertion of applets

Sat Aug 08 14:46:16 1998  George Lebl  <jirka@5z.com>

	* *.c: minor cleanups in function params

Sat Aug 08 01:29:31 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a few warnings

	* main.c: reordered some startup items

	* panel_config_global.[ch],panel-widget.[ch],session.c: support
	  applet padding, the minimum distance between applets

Mon Aug 03 03:04:44 1998  George Lebl  <jirka@5z.com>

	* *.(c|cc): fixed memory leaks concerning remove_link

	* panel-util.[ch]: added a glist pop routine

	* menu.c: restore the grab on the parent menu after the popup
	  was "deactivated"

Sat Aug 01 20:55:12 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed main menu addition segfault

Sat Aug 01 19:36:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: a bunch of cleanups in _remove _add, to be
	  more gtkish

	* drawer-widget.c: minor interim hack to make drawers position
	  themselves 100% correctly

1998-08-01  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (PANEL_ORB_SRCLIST): Move mico-glue.h ...
	(panel_SOURCES): ... here.
	(EXTRA_libpanel_applet_la_SOURCES): Add all files which depend on
	the configure process.
	(EXTRA_panel_SOURCES): Likewise.

Sat Aug 01 16:23:31 1998  George Lebl  <jirka@5z.com>

	* menu.c: instead of a button for each menu item action there is
	  now a button with three dots which has a menu with the add
	  options (there will also be properties in the future)

Sat Aug 01 01:20:56 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added support for no_window widgets, not fully
	  but it's something, I don't currently use it however

	* drawer.c,launcher.c,menu.c,panel.c,applet.c: got rid of a lot
	  of redundant eventboxing and the internal applets (except for
	  logout which shall follow) are now just gnome pixmaps, and the
	  click event is simulated. this adds good basis for the backing tile
	  support, plus it greatly increases performance especially when
	  dealing with very large drawer structures (there is 1/3rd the
	  windows to worry about)

	* session.c: tweaked the session saving/loading to maximize performance
	  ... however there now isn't backward compatibility so everyone needs
	  to delete his panel.d dir

	* panel-widget.c: minor fix for adding applets

Fri Jul 31 18:58:12 1998  George Lebl  <jirka@5z.com>

	* *.c: minor cleanups after -Wall compilation

Fri Jul 31 15:06:49 1998  George Lebl  <jirka@5z.com>

	* drawer.c,drawer-widget.c: minor fixes and added the new drawer
	  icons from John Ellis

Fri Jul 31 01:17:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more cleanups, no need to the pushing functions,
	  we get that for free during size_alloc

	* panel_config.[ch]: fixed the update_back function

	* panel_config*.c: uset gtk_notebook functions for appending pages

Fri Jul 31 00:34:06 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fixed up the size_alloc and size_request,
	  it's now using a slight hack which seems to work nicely, we
	  do a size_request during size_alloc which fixes a race condition
	  and we sometimes do a cube size request in case we are changing
	  orientation to prevent flicker

	* corner-widget.c: fixed up in style of snapped-widget

Thu Jul 30 13:17:15 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed size_allocate to allow applets all the
	  way to the right side

Thu Jul 30 12:43:15 1998  George Lebl  <jirka@5z.com>

	* panel-widget[ch],snapped-widget.c,drawer-widget.c,corner-widget.c,
	  drawer.c,panel.c: very large cleanups in panel-widget, effectively
	  getting rid of the old broken geometry managment

1998-07-30  Christopher Blizzard  <blizzard@odin.appliedtheory.com>

	* .cvsignore: Add ORBit generated files

1998-07-28  Christopher Blizzard  <blizzard@odin.appliedtheory.com>

	* Makefile.am (MAINTAINERCLEANFILES): Add CORBA_SRCLIST to be
	cleaned in a maintainer-clean

Tue Jul 28 03:46:58 1998  George Lebl  <jirka@5z.com>

	* menu.c: add .directory files to the checked file list as well

	* menu.c: "add" button added to menuitems, no longer is there
	  an "add app to panel" menu since it can all be done from the
	  main menu, this makes it much nicer to add launchers to
	  the panel

	* panel.c,menu.c: put the panel menu creation routine into menu.c

	* *.c: don't center dialogs, they now act nicely without it

	* launcher.c,menu.c: add a way to create a new launcher

	* orbit-applet-lib.c,applet-lib.cc,main.c: cookies are now
	  per display which should allow two panels to run ...

	* panel-widget.c: very unsuccessful attempt at fixing the geometry
	  bugs in the widget, I will have to spend more time on this

Mon Jul 27 03:38:22 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel.c: unified the "Panel" submenu in root
	  menu and the right click submenu for panels

Fri Jul 24 02:15:03 1998  George Lebl  <jirka@5z.com>

	* applet.[ch],panel.[ch]: moved panel menu creation to panel.c

	* applet.c,panel.c: allow removing of panel with some applets
	  in it (this was there because desctruction was not handeled
	  properly before, but it is ok now, it will remove all applets
	  inside a panel/drawer)

	* menu.c: changes to the "add to panel" code, a bit of cleanup,
	  ability to add a clean root menu, ability to add drawers instead
	  of just a menu

Thu Jul 23 00:59:03 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: added better support for case by case session
	  saving, if an applet is removed or added, the panel will only
	  save that applet, not everything as it did in the past, this
	  should make the automatic saves almost unvisible, applets are
	  should now send applet_widget_sync_config to request a save

	* applet-widget.h: minor fixes

1998-07-23  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* menu.c (about_cb): Use _() for strings in about dialog. 

Wed Jul 22 02:05:49 1998  George Lebl  <jirka@5z.com>

	* *.(cc|c|h): major moving of code from one file to another, no
	  bugs fixed or anything like that, it's purely moving of stuff
	  around, all session stuff from main.c and panel.c is now in
	  session.c, all applet stuff from panel.c is now in applet.c,
	  all extern stuff from main.c and panel.c is now in extern.c,
	  all panel stuff from main.c is now in panel.c, and and the
	  exec-queue stuff from main.c is now in exec-queue.c. essentially
	  panel.c is COMPLETELY different :)

Tue Jul 21 03:47:55 1998  George Lebl  <jirka@5z.com>

	* *.[ch]: cleanups in panel core,  plus a whole bunch of fixes

Sun Jul 19 23:41:08 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: got rid of destrocy_callback which wasn't
	  usefull any more

	* swallow.c: fixed adding of swallows

Sun Jul 19 18:57:19 1998  George Lebl  <jirka@5z.com>

	* main.c: cleaned up the load_applet function mess a bit,
	  having one function that does it all is not the right choice,
	  also took  out the applet load queue, I can't remember why it
	  was there but it was just making things more complicated

	* menu.c: cleaned things up and added a menu parameter for different
	  usermenu/system menu configurations for the main menu, but no
	  config fialog yet

Sun Jul 19 15:20:22 1998  George Lebl  <jirka@5z.com>

	* menu.c: cleanups, better multiple dir menu support, more
	  autoreread fixes, etc ...

	* panel-widget.[ch],snapped-widget.c: cleanups relating to size
	  and pathetic attempts to fix flashes

Sun Jul 19 02:35:27 1998  George Lebl  <jirka@5z.com>

	* orbit-applet-lib.c: add #include <string.h> to make gcc happy

Sun Jul 19 02:34:00 1998  George Lebl  <jirka@5z.com>

	* menu.c,main.c,panel.c: got rid of the ugly root_menu
	  thingie since it would make per menu options impossible
	  plus some cleanup and more fixups to the menu stuff

1998-07-19  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (panel_LDADD): s/MICO_LIBS/ORB_LIBS/g.
	(panel_LINK): Define to $(LINK) or $(CXXLINK) depending on if
	ORBit or MICO is used.

	* appletsConf.sh.in (APPLETS_LIBS): s/MICO_LIBS/ORB_LIBS/g.

Sat Jul 18 16:17:18 1998  George Lebl  <jirka@5z.com>

	* launcher.[ch]: make use of gnome-dentry-edit, plus some
	  cleanup

	* panel.c: changed the way the launcher dentries are saved, in
	  preparation of making a user defined apps menu

	* menu.c: allow multiple menudirs in a single menu,
	  main menu now has the system and the user menu in one
	  large menu (this will become configurable in the future)

Fri Jul 17 02:45:41 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,applet-{lib,widget}.*,menu.c, panel_config_global.c:
	  made configuration syncing do partial saves instead of always
	  dumping everything, everything is dumped only on end or during
	  applet add/remove

	* panel-widget.c,panel.c: made button 1 events work more sanely

1998-07-16  Raja R Harinath  <harinath@cs.umn.edu>

	* panel.h (GPOINTER_TO_INT,GINT_TO_POINTER): 
	Backward compatibility defines for people using gtk+ 1.0.

1998-07-15  Raja R Harinath  <harinath@cs.umn.edu>

	* panel.h (ITOP,PTOI): Remove defines.  `glib' provides the same
	thing as GINT_TO_POINTER, GPOINTER_TO_INT.
	* main.c: s/PTOI/GPOINTER_TO_INT/, s/ITOP/GINT_TO_POINTER/.
	* menu.c: Likewise.
	* panel.c: Likewise.
	* panel_config.c: Likewise.
	* applet-lib.cc: Likewise.

	* mico-glue.cc (panel_corba_gtk_main_quit): Give a parameter to
	orb->shutdown(). 
	* applet-lib.cc (applet_corba_gtk_main_quit): Likewise.
	
Wed Jul 15 03:51:52 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a segfault, there needs to be an entry in
	  the applets array before the applet is added to a panel

	* panel.c,swallow.c,panel_config.c,panel_config_global.c:
	  made all dialogs pop up at center of screen ... is this
	  the right berhaviour? it is much less annoting in almost
	  any fvwm placement mode

Tue Jul 14 03:03:30 1998  George Lebl  <jirka@5z.com>

	* swallow.[ch],main.c,panel.c: extend swallows to make them far
	  more usable then they were until now, now has the ability to
	  launch the app ... and to set the size of the swallow applet

Mon Jul 13 00:34:09 1998  George Lebl  <jirka@5z.com>

	* panel.c: remove applets from their eventboxes thus destroying
	  the sockets, and thus shutting them down cleanly, without warrning

Mon Jul 13 00:20:57 1998  George Lebl  <jirka@5z.com>

	* mico-glue.(cc|h),applet-lib.(cc|h),applet-widget.c,panel.c:
	  make the exit though mico calls, not with gtk_exit

Mon Jul 13 00:18:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: make it possible to have _add which
	  only binds the eents of the widget which is added and
	  not it's children

	* menu.c: make menus buttons, and add code for sending
	  the right events to the toplevel eventbox

	* panel.c: don't bind events recursively for menus

Sun Jul 12 18:52:55 1998  George Lebl  <jirka@5z.com>

	* menu.c: much smarter menu rereading, will only reread the
	  current menu, not it's submenus, same thing for statting,
	  this should make menus much faster

	* main.c: a coumple of bugs fixed, related to applet removal
	  the iterating has to be there, but we should check if the applet
	  was already destroyed as then we'd get a segfault, so it's
	  properly fixed now.

Sun Jul 12 21:31:39 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* main.c: fixed the sigchld handler I think.  Someone who knows
	the panel should check this out.
	
Sun Jul 12 02:53:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: got rid of the ugly inhibit allocates
	  hack.

	* panel.c: we can just do gtk_main_quit in _die and we don't
	  need the slow destruction of everything.

	* panel.c: MICO BUG! well the gtk bindings one anyhow, basically
	  gtk_main_quit() won't work here since ->run goes in an infinite
	  loop as it seems and doesn't care about return value as it
	  it should ... so what I do is to put gtk_exit in an idle handler
	  so that I  don't quit right away but soon ....

Sun Jul 12 02:07:52 1998  George Lebl  <jirka@5z.com>

	* main.[ch],panel.[ch],menu.c: cleanups, plus we no longer
	  refer to panels by their count as that is not clean any more
	  (although this is done during startup and depends on the fact
	  that all paneltypes init all their PanelWidgets in their _new
	  functions which might not be the case in the future, so this
	  will also need cleaning) ... plus now adding something to a panel
	  adds it to the one on which the menu resides instead of the
	  first one loaded

Sat Jul 11 04:01:38 1998  George Lebl  <jirka@5z.com>

	* main.c,mulapp.c,panel.c: general cleanup, I thought that
	  after adding code, I need to also delete code :)

Sat Jul 11 03:05:20 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made below changes compile ... still does not work
	  for me though

Fri Jul 10 18:35:20 1998  Michael Lausch  <mla@loki.gams.co.at>

	* swallow.c (ignore_x_error): just ignores X Errors
	(get_window_id): set error handler temporarily to ignore_x_error
	during traversion of the window tree. Some windows won't exist
	anymore, causing the panel to bail out with a gtk error.
	(create_swallow_applet): Don't call gtk_container_add for the
	swallow->socket widget. It's already part of the table.

Thu Jul 09 16:49:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed reparenting, for some reason the applet
	  still "feels" for it's old parent gtkfixed and if that's removed,
	  it craps out ... doing ref,remove,put,unref works ok though

Thu Jul 09 01:45:38 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,snapped-widget.c,main.c: fixed drawer
	  oddities and cleanup some code

Wed Jul 08 03:44:42 1998  George Lebl  <jirka@5z.com>

	* main.c,panel-widget.[ch]: fix the broken way the drawer monitoring
	  worked

Wed Jul 08 02:36:41 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,main.c,panel_config.c: full support for
	  the corner widget, plus a lot of bugfixes, it now pretends
	  to work so well it fooled me into thinking it does work

Wed Jul 08 01:08:19 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,main.c: fix the most glaring bugs with corner
	  widgets

Tue Jul 07 03:17:12 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c,menu.c: add support for corner widget, so it
	  kind of works, though there are no options for the corner
	  widget yet .. that will soon change though, also there's some
	  weird flicker as well ... should get fixed

Tue Jul 07 02:33:05 1998  George Lebl  <jirka@5z.com>

	* corner-widget.[ch]: initial coding of corner-widget, it seemed
	  way too easy to do ... we'll see how it will integrate, this
	  just builds it, it's not used yet

Tue Jul 07 01:52:31 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed removing of applets if the process dies

Sun Jul 05 18:45:50 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.[ch]: fixed the segfaults on exit when drawers
	  were present

Sun Jul 05 18:18:03 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: removing panels now possible, fixed autohide
	  and drawer interaction, removed some dead code

Sun Jul 05 15:21:47 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,main.c: make hidebuttons behave a little
	  bit more sanely, you can for example now get a menu or
	  drag over a hidebutton and they also don't get the focus
	  border which was ugly and useless

Sat Jul 04 12:33:00 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c: prevent flashes during moving

	* main.c: prevent the bug where a panel drag became
	  persistent

Sat Jul 04 01:41:42 1998  George Lebl  <jirka@5z.com>

	* menu.c: add a way to add edge (snapped) panels

Sat Jul 04 00:00:25 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: optimize sending of the applet_move signal
	  and of the applet adjusting

Fri Jul 03 12:29:25 1998  George Lebl  <jirka@5z.com>

	* main.c: handle NULLs correctly for all built-in
	  types, and fix the launcher breeding like rabbits
	  bug.

Fri Jul 03 02:33:48 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],snapped-widget.[ch],drawer-widget.[ch]: the former
	  panel-widget has been split up into three different widgets, also
	  this changed the way the panel works inside a lot. Also here are
	  a lot of cleanups (more still to come)

	* panel.[ch],main.[ch],drawer.[ch],menu.[ch],panel-util.[ch]: changes
	  to accomodate the widget split, it's a bit more hackish then I'd like
	  right now, but it will get gradually cleaned up

	* panel.c,main.c,applet-widget.[ch]: changed the config file structure,
	  now it is split up into directories and panel and applets have separate
	  files. this will enable more speedups on saving in the future, plus it
	  gives more room for applets to do  their session saving, they now can
	  have sections in their files

1998-06-30  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (appletsConf.sh): Don't sed in INTLLIBS.
	* appletsConf.sh.in (APPLETS_LIBS): Remove @INTLLIBS@.

1998-06-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* main.c (load_applet): Check the return value from
	create_launcher 

Sun Jun 21 01:29:49 1998  George Lebl  <jirka@5z.com>

	* main.[ch],panel.c: made the children list a list of all registered
	  external executables, sot hat we can use it if we need to send
	  something to all external applets

	* panel-widget.c,drawer.c: some desparate attempts to make closed
	  drawers start up correctly

Wed Jun 17 02:20:43 1998  George Lebl  <jirka@5z.com>

	* launcher.c,panel-util.[ch]: fixed a crash on closing properties,
	  took out the functions to create label/entry property entries,
	  and put those into panel-util.c

	* drawer.[ch],main.[ch],panel.c,menu.c: added drawer name/icon
	  configuration

Sat Jun 13 16:47:08 1998  Tom Tromey  <tromey@cygnus.com>

	* main.c (parse_an_arg): Disable master connection if --discard
	given.

Sat Jun 13 01:06:33 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: add string_is_in_list function from
	  panel.c

	* menu.c: read an .order file in the menu directory that
	  the order of the .desktop files inside it. the remaining
	  ones are read in as usual.

Thu Jun 11 01:07:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: include math.h ...

Wed Jun 10 22:26:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel.c: rightstick now works between sessions
	  as well, and minor fixups (fixes bug #124)

Wed Jun 10 11:42:16 1998  Owen Taylor  <otaylor@gtk.org>

	* Makefile.am: Use MICO_LIBS variable from 
	  toplevel configure.in. 

	* applet-lib.cc launcher-lib.cc mico-lib.cc. Call
	  orb->run() at appropriate times when HAVE_MICO_ORB_RUN
	  is defined.

Wed Jun 10 02:54:12 1998  George Lebl  <jirka@5z.com>

	* menu.c: store ctime info about menu's entries and stat
	  when showing the menu, if it's different re-read ...
	  it's very fast on my machine ... but I would like to know
	  if it runs too slow on other machines

1998-06-08  Chris Lahey  <clahey@umich.edu>

	* main.c (panel_move): changed it so that when dragging the panel
	around, as long as you don't drag outside the current panel area,
	it doesn't change edges.

Sun Jun 07 19:02:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu.h: user setup_menuitem function for applet menus
	  to be consistent with the rest of the panel

Sun Jun 07 18:33:56 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc,applet-lib.(cc|h),applet-widget.c[ch],
	  panel.c: Permit stock menu items on the applet menus

Sun Jun 07 00:23:16 1998  George Lebl  <jirka@5z.com>

	* *.[ch]: cleaned up compilation with -Wall

	* gnome-panel.idl,mico-glue.(cc|h),applet-lib.(cc|h),
	  panel-widget.[ch],applet-widget.[ch],main.c,panel.c:
	  implemented and applet signal for the changing backgrounds

	* panel_config.[ch],main.c: modify the config dialog
	  on the fly if it is display and the user changes the
	  config by dnd (panel position and background)

	* gnome-panel.idl,mico-glue.(cc|h),applet-widget.[ch],
	  main.c,panel.c: implemented tooltips inside applets,
	  by implementing applet side tooltips, but which enable
	  and disable tooltips just like the panel side ones

	* panel_config.c: allowing more then one config box for
	  per-panel config (one per panel)

1998-06-06  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_session_die): Replaced 'gtk_exit' with
 	'gtk_main_quit' call.

	* main.c (main): Changed to use changed session management stuff.

	* applet-widget.c (applet_widget_init): Added call to
 	'gnome_client_disable_master_connection'.

Fri Jun 05 02:11:11 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: the pixmap resizing now doesn't read the file
	  over and over again :) should be faster

1998-06-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (panel_SOURCES): cookie.h was missing.

1998-06-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Added gnome-panel.idl here.

Thu Jun 04 01:47:32 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix session saving, so that it now works correctly
	  this fixes session managment which fixes several bugs on the
	  bugracker whoose numbers I can't remember now

Thu Jun 04 00:32:50 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: fixed some braindamages, switch between,
	  color, pixmap and standard backgrounds, added a color selector

	* panel-widget.[ch]: added a background type variable and support
	  the above changes, fix some some braindamages , scale the back
	  pixmap when needed (needs to be optimized but it works for now)

	* main.c,panel.[ch]: support for the above

	* gnome-panel.idl (and all corba files): added a sync corba call
	  so that applets can force a save of the session

	* panel_config.c, panel_config_global.c: sync the configuration after
	  apply

	* panel.c, main.c: add a timeout to sync every 10 seconds if something
	  has changed

	* ChangeLog: :%s/\<teh\>/the/g (again:)

1998-06-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.c (panel_try_to_set_back_color): Destroy the pixmap
	in the widget style before setting the new style.  This fixes the
	bug where dragging a color onto the panel after a pixmap was set
	did not update the panel.

	* panel.c (show_applet_menu): Use the event's time to make the
	menu popup work correctly.

Wed Jun 03 20:57:00 1998  Arturo Espinosa <arturo@nuclecu.unam.mx>

	* panel_config.c: (position_notebook_page) Now the
	top/bottom/left/right radio buttons are inside a table, forming a
	cross. Better layout for the position_notebook page.


Wed Jun 03 03:34:18 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc: fix for multi-applets

Wed Jun 03 03:13:44 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix #9

	* panel.c,mico-glue.cc,gnome-panel.idl,applet-lib.(cc|h),
	  applet-widget.[ch]: more flexible menu handeling, but
	  it doesn't break backwards compatibility, it allows for
	  submenus, and menu destruction.

Tue Jun 02 01:39:30 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: fixed up the fit to panel selection

	* panel-widget.c: fixed background image loading bugs

Mon Jun 01 04:48:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: pack applets in drawer on shrinkwrap,
	  there is still an error though somewhere.

	* main.c: clean up all the moving stuff get it to play
	  nice.

	* panel-widget.c: reduced flicker when changing positions

1998-05-31  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_session_save): Removed the 'if
 	(is_shutdown)'-clause.  The is_shutdown parameter is only a hint,
 	that this save_yourself signal is called in the context of a
 	shutdown.  It does not mean, that the client has to shut down
 	immediatly.  On the contrary the client must not exit, because it
 	may happen, that the shutdown is cancelled by another client.
	(panel_session_die): New function.  This is the shutdown stuff,
 	that has been in the panel_session_save function.
	(panel_really_logout): Added a call to 'panel_session_die', if we
 	are not connected to a session manager.

	* main.c (main): Connect 'panel_session_die' to the client's die
 	signal.

	* panel.h: Added declaration for 'panel_session_die'.

	* panel_config.c (panel_config): Changed "Panel Configuration"
 	text into "panel properties" to be consistent with menu.

1998-05-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel_config.c (pixmap_page): Provide better sensitizing of
	background image controls.

1998-05-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.h (struct _PanelWidget): Added fit_pixmap_bg field.

	* panel-widget.c (panel_try_to_set_pixmap): Added optional pixmap
	scaling for the background of the panel.

	* main.c (init_user_panels): Load the panel fit pixmap flag.

	* panel.c (save_panel_configuration): Save the panel fit pixmap flag.

	* panel_config.c (pixmap_page): Added configuration option for
	fit_pixmap_bg.

Tue May 26 02:56:50 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix to exit for the times when we aren't connected
	  to a session manager

Mon May 25 23:28:06 1998  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): Use gtk_main_quit, not gtk_exit.

Sun May 24 16:45:37 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added que_pop_down and a way to inhibit
	  the pop_down.

	* main.c, menu.c: use the above to make the panel menu and
	  "Menu" menus act sanely with autohide

	* panel.c: made applet menus also play nice with autohide

Sun May 24 01:19:50 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c: if there is no config file, pass a dummy
	  path to the applet so that the applets can use it just as if
	  it was real

	* panel-widget.c: fix a problem with hiding and unhiding,
	  autohidden panels, and another minor fix

Sun May 24 00:20:56 1998  George Lebl  <jirka@5z.com>

	* main.c,menu.[ch],drawer.[ch]: clean up the ORIENT_ mess and
	  use only PanelOrientType instead of one for menu and one
	  for drawer and one for everything else. Also now orientation
	  of nested applets in drawers works much better when the Panel
	  is on top or on the right

	* applet-lib.(cc|h),applet-widget.[ch],gnome-panel.idl,mico-glue.cc,
	  main.[ch],panel.[ch]: make it possible to get the orient through
	  corba

Sat May 23 22:57:50 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c, panel.c: fixed some segfaults, by inhibiting
	  positioning and geometry stuff on exit

Sat May 23 21:55:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,main.c,drawer.c: fixed a lot of drawer geometry
	  weirdness, drawers should now allways follow their buttons
	  everywhere those buttons go

Sat May 23 17:33:32 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c, panel-widget.c: make move applet menu
	  behave saner, but it still has the "launch on end drag"
	  bug

Sat May 23 16:34:17 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c attempt to fix move applet menu

	* mico-glue.cc: catch all exceptions so that the
	  panel doesn't crash when an applet does

	* mulapp.c: bugfix to start new applet code

Fri May 22 03:05:15 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: bugfix for multiple applets

	* mulapp.[ch]: ripped this out from panel.c, for
	  cleanup purposes

	* main.h: created to store the prototypes of functions
	  from main.c instead of theim loitering in panel.h

Fri May 22 00:46:25 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: rearranged soem stuff to make more
	  sense, global type stuff gets passed through an _init
	  function, etc etc ... the multiple applet stuff has
	  a different interface, and applet writing has been
	  simplified once again

Thu May 21 03:44:21 1998  George Lebl  <jirka@5z.com>

	* applet-lib.(cc|h),applet-widghet.[ch],main.c,panel.[ch],menu.c:
	  fixed up a lot of the old mess with applets, and fixed hopefully
	  all the dorestart hacks since we do sequential starting of
	  applets and that has nice properties in terms of multiple
	  applet support and makes the code cleaner

Thu May 21 01:19:51 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: better new function names and using
	  defines now

Thu May 21 00:23:13 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c,menu.c: fixed some stupidity induced
	  by the older way of starting applets, removed the
	  "multi_applet" ugly hack and generally cleaned up the
	  mulapp code a bit, but still it is not tested, it only
	  compiles now:)

Mon May 18 23:35:13 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: implement run queue, this will start up
	  applets in a row, reducing load on the machine, flicker,
	  though it doesn't do much for speed as I thought it would,
	  maybe when we use ORBit and the applets will start up faster
	  it will be noticable as they are not fighting over X

Mon May 18 21:31:53 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix segfault

Mon May 18 10:41:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: handle path==NULL etc from the exec vector
	  gracefully, still it's weird I get an empty vector

Sat May 16 23:23:02 1998  George Lebl  <jirka@5z.com>

	* launcher.c: show only one properties box

Sat May 16 01:40:14 1998  Tom Tromey  <tromey@cygnus.com>

	* menu.c (get_path_param): Removed.
	(add_applet): Treat `exec' item as a vector, not a string.
	* launcher.c (properties_apply_callback): Treat `exec' item as a
	vector, not a string.
	(create_properties_dialog): Likewise.

Sat May 16 11:47:43 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: no position page for drawers

Fri May 15 23:47:35 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: killed the "panel likes the top position"
	  bug, it was not the order of the binding of the signal
	  (which just hid the real problem) ... it was the fact
	  that radio buttons got toggled off, but the set routine
	  still worked as if we said "on"

1998-05-15  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-panel.idl: Use a more correct comment notation (/**/
	instead of #).

Thu May 14 04:24:01 1998  George Lebl  <jirka@5z.com>

	* panel.c: the mulapp queue will now deal properly with
	  removed applets

Thu May 14 03:46:36 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc,applet-widget.[ch]: create the start_new_applet
	  signal, so that it is now most likely possible to actually
	  write multi applet applets

Thu May 14 03:28:25 1998  George Lebl  <jirka@5z.com>

	* main.c: use fork again to start applets so that we don't
	  swallow stdout from the applet, this makes the posibilities
	  of param stuff less viable, but we still support a single
	  applet cmdline parameter

	* gnome-panel.idl,main.c,panel.[ch],applet-widget.[ch],
	  mico-glue.(cc|h),applet-lib.(cc|h): dorestart varaible,
	  (stored in AppletInfo's ->data field (slightly hackish:))
	  which makes it possible for multiple type applets, all
	  kinds of weird queue stuff added to make this work, but
	  NO testing whatsoever, except that it doesn't seem to
	  break the older stuff

Tue May 12 01:29:19 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc:
	  removed the query call as multiple applets
	  will be handeled on the panel side

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc,main.c,
	  panel.[ch],menu.c: added support for parameters
	  to applets, seems pretty hackish mainly because
	  it tries not to break existing config file format,
	  which it doesn't as far as I can see

Mon May 11 00:44:25 1998  George Lebl  <jirka@5z.com>

	* main.c: start applets witha shell and get the pid
	  in a slightly round about way

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc: added
	  some framework of the multiple applet support, this
	  should be coming soon to an applet-widget.c near
	  you. (to reduce overhead of multiple processes)

Sun May 10 19:33:23 1998  George Lebl  <jirka@5z.com>

	* menu.c: add gui to swallow adding

Fri May 08 02:36:04 1998  George Lebl  <jirka@5z.com>

	* panel.c: remove BAD HACK(tm) (since it's after the release and
	  the new gtk 1.0 is non-buggy), also general cleanup after -Wall

Fri May 08 01:18:43 1998  George Lebl  <jirka@5z.com>

	* drawer.c,main.c: move applet_move code over and use
	  size_allocate on drawer buttons

	* panel-widget.c: don't move_window for drwawers if we are
	  already at the rigth location

Fri May 08 01:13:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: cleanups and fixes after -Wall

	* swallow.c: fixes, might now actually work kind of,
	  still got a badwindow, but it will work (eventually)

Fri May 08 00:13:49 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for free movement handeling

	* panel.c: actually save free movement setting

Thu May 07 22:29:54 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.[ch], main.c, apnel-widget.[ch], panel.c:
	  disable animations option, for slow displays

Thu May 07 18:57:38 1998  George Lebl  <jirka@5z.com>

	* fish*: moved fish over to applets

Thu May  7 19:19:42 1998  Havoc Pennington  <hp@pobox.com>

	* fish.c: When you left-click on the fish, it tells your fortune.

Thu May 07 02:11:28 1998  George Lebl  <jirka@5z.com>

	* logout.[ch], main.c, menu.c: logout finally added as an internal
	  applet type, since we now have the fish testing applet which is
	  far cooler then logout

Thu May 07 01:59:18 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c, panel.c, panel_global_config.[ch]:
	  set drawer animation speed.

Thu May 07 00:18:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix to the forbidden handeling

	* panel.c, main.c, panel_config_global.[ch]: added a "really
	  log out" dialog and an option for it

Tue May 05 12:17:38 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: we set state BEFORE we connect the toggled
	  signal so that it doesn't get toggled on the set_state, but
	  it doesn't amtter too much in this dialog since we set the
	  propertybox later (I had to take it out into the main
	  function) was there any particular reason someone changed
	  the set_state to go after the toggled connect? the values
	  are set in the function that inits the panel so we never
	  need to go to the toggled unless the user himself toggles
	  the thing.

Mon May 04 22:31:06 1998  George Lebl  <jirka@5z.com>

	* menu.c: use some gnome-stock pixmaps

	* gnome_config.c,gnome_config_global.c: minor fixes

Mon May 04 22:04:32 1998  George Lebl  <jirka@5z.com>

	* menu.c: added an about box

Mon May 04 21:43:12 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed the properties dialog, so it now
	  closes, and there was a show missing for the pixmap
	  when applying changes

Mon May 04 21:13:53 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.[ch]: added main menu count
	  and added a way for the remove item to be grayed out, if
	  either you right click on the last main menu or if you
	  right clock on a full panel (you can only remove empty
	  ones)

1998-05-04  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* launcher.c (properties_apply_callback): Made launcher use the
	gnomepropertybox widget. 

Mon May 04 15:05:22 1998  George Lebl  <jirka@5z.com>

	* panelwidget.[ch],main.c,panel.c: maintain a list of
	  forbidden panels for drawers and make panels aware
	  of the drawer button widget, this way it's impossible
	  to "loop" drawers so they don't "run away" :)

Mon May 04 03:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed an ugly bug in make_empty_pos

Mon May 04 03:33:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: added the signal return stuff

Sun May 03 23:04:07 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],applet-lib.(cc|h): a bit of reshuffling
	  and cleanups and more also added most of the corba
	  fucntionality to the applet-widget

	* applet-lib.c: fixed a leak, don't use hash table for callbacks

Sun May 03 16:55:57 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: new interface to the corba stuff
	  makes it all much nicer

	* Makefile.am: link the appletwidget into applet-lib
	  (now it's impossible to write an applet without it
	  due to the dumbass way I did the stuff before, but not
	  to worry, I've ported all the appelts to use it

Sun May 03 12:35:34 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a "BAD HACK(tm)" to work around the 
	  colormap problem as suggested by owen, should be
	  removed once gtk is fixed after the release

Sun May 03 03:35:05 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: minor fixes, remove blocking
	  as it is not needed

	* panel.c: minor fixes

Sun May 03 02:52:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: clean section before saving applet info

	* panel-widget.c: fix for adding applets

Sun May 03 02:16:53 1998  George Lebl  <jirka@5z.com>

	* launcher.[ch]: decorbaized

	* panel.[ch],main.c: integrated the launcher applet into the
	  main application. this makes things a hellovalot more stable
	  actually, also added a way for the panel to read old
	  config files so that all of you who have alreay some kind of
	  setup won't have to change it

	* panel.sh: removed for good

	* Makefile.am: don't build launcher_applet and don't
	  install panel.sh, plus ad dthe launcher sources to
	  panel app

	* gnome-panel.idl, mico-glue.(cc|h): removed the launcher
	  interface

Sat May 02 23:56:34 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: dearrayizification is now officially
	  complete and the code is out, everything seems stable ...

Sat May 02 23:39:07 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: finished dearrayification, the
	  array is still in, I'll remove it after the commit,
	  but I want to be able to back out of large removals:)

Sat May 02 17:58:02 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: slow de-arrayifying of the
	  widget begins, the list implementation is
	  smaller, leaner, meaner, cleaner :) it still
	  works ok, I am doing all this while keeping it
	  working (though it might not be working 100%
	  efficently now, but it never really did:)

Sat May 02 12:51:58 1998  George Lebl  <jirka@5z.com>

	* applet-lib.h: added necessary declarations to remove
	  the need for applets to see panel.h and panel-util.h

	* launcher.c, logout.c: removed unneccessary includes

Sat May 02 12:37:14 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanup, fix get_pos

Sat May 02 02:39:59 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix for reparent

Sat May 02 02:34:08 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: keep the list sorted by position, plus
	  various fixes

	* panel.c: fixes ... should now terminate ok with drawers

Fri May 01 23:01:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: implement a new simple movement
	  type (free movement, sort of like it was before I
	  wrote the panel-widget), the old one is still default

	* panel.c,main.c,panel_config.c,panel_config_global.[ch]:
	  added support for the new movement type, plus minor fixes

Fri May 01 19:33:05 1998  George Lebl  <jirka@5z.com>

	* panel_config.c,panel-widget.c: made it possible to
	  disable background pic once added

Fri May 01 16:44:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added the right sticking, if the panel
	  size increases, the applets that are all the way to the
	  right are pushed right again, this works pretty good for
	  me.

Fri May 01 15:58:33 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed launcher, now sets the right size
	  when applying properties, and now won't crash when you
	  apply/open properties the second time

Fri May 01 03:16:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: fixed the mess with currently_dragged
	  _applet and drag blocking. converting most stuff to use
	  AppletData instead of position and/or widget pointer

Fri May 01 02:59:06 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanups

Fri May 01 02:31:12 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: starting of general cleanup of the
	  widget, more corruption detection, and a corruption
	  fix.

Fri May 01 01:55:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed shaking of applets, applet_put
	  is now more heavy weight and is used by adjust_applet

Fri May 01 01:30:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: a whole bunch of fixes to the new
	  list storage, other small fixes, plus there now
	  is some corruption recovery code in, in case it
	  happens.

Thu Apr 30 19:08:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: use a linked list for the list of
	  with positions etc, should make it more robust and
	  faster

	* panel-widget.c: instead of re-reseting the size to
	  the minumum all the time, get the exact size and
	  use that

Thu Apr 30 14:43:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: if adjust applet detects corruption
	  it dumps the panel before the warning

	* panel-widget.c: restructured the way in_drag is set
	  to avoid a very small race

Thu Apr 30 14:22:36 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: add handle pixmaps to
	  drawers, right now using "panel-menu-main.xpm"

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel-widget.c (panel_widget_dnd_droped_filename): Add a busy
	cursor while we load the image.
	
	* panel-widget.c (panel_widget_dnd_droped_filename): Added support
	for dropping graphic images directly on the panel for quickly
	changing the background image. 

Thu Apr 30 01:37:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed size_allocate optimization
	  bug

Thu Apr 30 01:15:54 1998  George Lebl  <jirka@5z.com>

	* applet-lib.(cc|h): removed the grab functions and
	  the fleur cursor var, since they aren't needed any
	  more

	* ChangeLog: :%s/\<teh\>/the/g (it was time again:)

Thu Apr 30 01:11:24 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc: a new call for
	  checking if an applet is in drag

	* panel-widget.[ch]: global variable which specifies
	  if an applet is being dragged or not

	* panel.c: use grabing functions for drags of corba applets

	* applet-lib.cc: don't keep track of dragged applets,
	  and ask panel for that info, this makes corba applets
	  respond to every button2 click

	* panel-widget.c: put eventbox behind the dropzone to
	  catch it's button press so we can get a menu

Wed Apr 29 23:07:38 1998  George Lebl  <jirka@5z.com>

	* drawer.c,panel-widget.[ch]: store position of drawers
	  in the panel structure

	* main.c: fixed the move sub-drawer bug.

	* panel-widget.c: drawer open/close should be a little bit
	  saner now

Wed Apr 29 00:32:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: some more weirdness fixed, hopefully,
	  this is the last panel corruption bug, and the rest seem
	  quite cosmetic bugs

Tue Apr 28 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added frame to the panel widget struct,
	  made drawer movement use window resize (this isn't completely
	  finished)

Tue Apr 28 01:24:11 1998  George Lebl  <jirka@5z.com>

	* launcher.c: gnome_pixmap doesn't enjoy null filenames, this
	  fixes the default pixmap problem with the launcher

Tue Apr 28 01:12:15 1998  George Lebl  <jirka@5z.com>

	* panel_widget.c: fixed some more weirdness, and I can't make
	  it mess up just now so maybe I fixed it all, ... but I
	  doubt that

Tue Apr 28 01:03:43 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed several bugs, especially with
	  size allocation of applets when moving, and applet
	  weirdness on the right side of the panel, there is
	  still some weirdness going on, but less of it and
	  I think I know where to look for trouble

Mon Apr 27 01:42:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor move fix

Mon Apr 27 00:48:57 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed the "move closed drawer" bug

Mon Apr 27 00:42:02 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed some lines to 80 columns

	* panel-widget.c: a few debugging messages and
	  a minor fix, all because push_left seems to be very
	  broke, but it may be seize_space that's messed up

Sun Apr 26 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: few fixes, now actually pushing
	  widgets apart when adding, feels more natural

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): Fixed typo.

	* panel.c (panel_session_save): Set discard command for session
	manager.
	* main.c (main): Set restart and clone commands for session
	manager.  Pass argv[0] as client data to panel_session_save.

Sun Apr 26 12:44:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: small fix on panel_widget_move

	* panel_config.c: fix a cast

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_LIBADD): Don't include -lcrypt;
	configure finds it if it is needed.
	(launcher_applet_LDADD): Likewise.

	* cookie.h: Only include <crypt.h> if HAVE_CRYPT_H defined.

Sat Apr 25 14:20:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the find_new pos and reparenting
	  to full panels, there are still problems with some of
	  this stuff which I will deal with later

Sat Apr 25 00:13:16 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: feeble attempts to make the
	  drawer not flash at 0,0 on startup

	* panel-util.c: move_window moved here since it's
	  being used in more files and doesn't really
	  belong anywhere else

Fri Apr 24 23:46:03 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a way to add main menu to a panel

	* panel.c: use destroy on panels instead of unref,
	  makes it not crash when removing drawers

Fri Apr 24 01:16:26 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc,mico-glue.cc,launcher-lib.cc,cookie.h:
	  use crypt call for cookies

	* cookie.c: slightly redo/fix cookie generaion

	* Makefile.am: added -lcrypt

Fri Apr 24 00:06:58 1998  George Lebl  <jirka@5z.com>

	* cookie.h: added, includes the CHECK_COOKIE macros
	  and create_cookie definition. the CHECK_COOKIES
	  now spitout a warning with file and line so we can
	  see if there are any bugs remaining (races)

	* main.c, applet-lib.cc, launcher-lib.cc, mico-glue.cc:
	  use cookie.h, read cookie on corba_reinit, allways
	  reread cookie on launcher calls to prevent races

Thu Apr 23 23:28:54 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: interpanel moving bugs fixed and
	  add/reparent flicker reduced

Thu Apr 23 22:23:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix several geometry problems, most
	  notably the "applet moves past the end and corrupts
	  the panel-widget" bug.

Thu Apr 23 21:24:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed warnings on exit when applets were removed

	* main.c: fixes to the SIGCHLD handler to fix warnings
	  and a small memory leak

Thu Apr 23 20:52:30 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed the socket bug workaround as that is
	  now in libgnomeui

Thu Apr 23 14:59:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a workaround around gtk_socket destroy bug

Thu Apr 23 02:35:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: configuration save fixes, cleanups

Thu Apr 23 02:25:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: geometry fixes

	* drawer.c: put drawer outside of it's parent

Thu Apr 23 00:32:49 1998  George Lebl  <jirka@5z.com>

	* drawer.c: raise on enter_notify on button, and
	  center drawers

	* panel-widget.[ch]:added a frame inside the table
	  to make the whole thing look more 3D-ish, also use
	  hidebutton widgets for drawers as it saves some
	  headaches and simplifies the code quite a lot

Wed Apr 22 19:49:36 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix reentrant bug in panel_clean,
	  removed unused code on shutdown.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Added support for a background pixmap.

	* main.c (init_user_panels): Simplified the use of gnome_config by
	using the gnome_config_push_prefix.

	* panel.c (save_panel_configuration): Simplified the use of
	gnome_config by using gnome_config_push_prefix.
	(panel_session_save): Likewise.

	* panel_config_global.c (panel_config_global): Made it use
	GnomePropertyBox as well.

	* panel_config.c (panel_config): Made it use GnomePropertyBox
	instead of hand-done property configurator.

Wed Apr 22 02:25:39 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added change_drop_zone_pos function

Wed Apr 22 02:24:50 1998  George Lebl  <jirka@5z.com>

	* drawer.c: proper orientations set

Wed Apr 22 02:12:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: checks for info!=NULL

	* panel.c: remove SIGCHLD handler before we kill panels,
	  so that we don't get into trouble cleaning cleaned applets
	  etc...etc.. also catch destroy event and clean applet

Wed Apr 22 01:46:49 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed popup menu segfault, few sanity
	  checks in menu_pos code

Wed Apr 22 00:20:04 1998  George Lebl  <jirka@5z.com>

	* drawer.c: actually set orientations of drawer's panel

Tue Apr 21 15:36:15 1998  Tristan Tarrant  <ttarrant@suntlc.etnoteam.it>

	* main.c: use <sys/wait.h> for portability

Mon Apr 20 00:37:22 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: use g_snprintf

	* panel-widget.[ch]: expose pop_up call, use drawers_open
	  to block autohide

	* main.c: track drawers, pop_up when adding a drawer

Sat Apr 18 23:31:03 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: added a couple of macros that
	  do the casting of integers to/from pointers
	  without warnings.

Sat Apr 18 23:16:22 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: made applets an array and make the
	  whole thing pass applet_id around instead of a pointer
	  this solves a bunch of braindamages, but also makes
	  the whole thing give a bunch of warnings since I'm
	  passing integers though pointers. This all should
	  make memory weirdness less likely.

Sat Apr 18 00:05:53 1998  George Lebl  <jirka@5z.com>

	* menu.c: launch appets with load_applet so that we can
	  trap the SIGCHLD and remove applet when it dies

Fri Apr 17 19:53:09 1998  George Lebl  <jirka@5z.com>

	* panel.c: minor fixes to the remove code, sanity checks

Fri Apr 17 19:42:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: remove applets that die (only
	  those started on startup)

Fri Apr 17 17:31:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: move from menu now works

Fri Apr 17 00:10:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed double g_free that was causing
	  some very weird stuff to happen.

	* panel.c: implemented the scheme for applets requesting
	  their stuff not to be saved by returning false on
	  session_save

Thu Apr 16 22:07:13 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc|h), applet-lib.(cc|h),
	  logout.c, launcher.c: save_session corba call now
	  returns TRUE/FALSE. not yet completely implemented
	  but applets should return TRUE

Thu Apr 16 21:19:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for size changes, performance
	  improvements

1998-04-16  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu.c (create_menu_applet): Removed memory leak.

	* panel.c (register_toy): Fixed compiler warning. 

Wed Apr 15 21:42:08 1998  George Lebl  <jirka@5z.com>

	* panel.[ch], main.c, mico-glue.cc: if addition to panel
	  fails, it is now handeled gracefully

Wed Apr 15 20:14:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc: no more shutdown_applet
	  mess. now it's handeled by the destroy signal on the plug.

	* panel.c: now only destroys the panel, doesn't send any
	  corba messages to shutdown

	* main.c: fixed a nasty bug on startup where I was using an
	  uninitialized value

Wed Apr 15 16:38:45 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: get current session_id when
	  saving, exit when save session is_shutdown,
	  some debugging info

Wed Apr 15 00:30:44 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: implemented session managment, seems
	  to work without a session manager, but I can't get
	  gnome-session to work so I can't test that ... but
	  the code is there ... waiting to be debugged

Tue Apr 14 21:43:55 1998  George Lebl  <jirka@5z.com>

	* launcher.c: use tooltips

	* main.c,panel.[ch],applet-lib.(cc|h),gnome-panel.idl,mico-glue.cc
	  de "id"ized to make future objc bindigs happy

	* panel.[ch], applet-lib.(cc|h), mico-glue.cc: added tooltips
	  support

Tue Apr 14 20:45:02 1998  George Lebl  <jirka@5z.com>

	* launcher.c: added properties callback

Tue Apr 14 20:43:46 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu.c: start up launcher_applet in main
	  and kill it on exit

	* panel.sh: removed starting of launcher

Tue Apr 14 19:17:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: made swallows and drawers compile time
	  selectable

Tue Apr 14 18:33:21 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: I must be dumb ... 1 is not the
	  same thing as -1 :) This fixes the panel segfault
	  thx dr mike ...

Tue Apr 14 12:09:43 1998  George Lebl  <jirka@5z.com>

	* main.c: queue loading of applets until everything
	  is done, but I still can't load up the clock
	  applet as default without segfaulting

Sun Apr 12 12:37:44 1998  George Lebl  <jirka@5z.com>

	* panel.c: now actually sends orientation changes
	  to new EXTERN applets (it has to wait until they
	  register their ior

Sat Apr 11 18:00:01 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made the swallow app stuff work better,
	  waits for the window (right now only through timeout)

Sat Apr 11 17:35:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c, panel.c: cleanups, fixed grab problem

Sat Apr 11 16:37:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], drawer.c: added smooth drawer animation

	* panel.c: deleted an unused function.

Sat Apr 11 12:00:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: made some parameters global since
	  they were used this way already. this cleans up
	  some ugliness and makes hide buttons behave nice
	  in autohide mode

	* main.c, panel.c, drawer.c, panel_config.c panel_config_global.c:
	  adapted to using the globals as globals

Sat Apr 11 02:26:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: make stepsizes work again, use log curve
	  for starts and stops.

1998-04-10  Russell Nelson  <nelson@crynwr.com>

	* panel-widget.c: make slide open and close animations
	smoother by adding acceleration and deceleration.

Wed Apr 08 23:50:44 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made swallowing to work!!! right now you
	  have to hand edit the config file to add these
	  critters though ...

Wed Apr 08 23:15:52 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made resizing panels work, thx owen

	* swallow.c: find the right window id according to
	  the title. (reparent doesn't seem to work yet though)

Tue Apr 07 23:14:37 1998  George Lebl  <jirka@5z.com>

	* main.c: fix menu geometry

Tue Apr 07 00:18:26 1998  George Lebl  <jirka@5z.com>

	* main.c: orientation actually works

	* panel-widget.c: more work on hunting down the resizing
	  bug when moving an applet from a drawer, it seems that
	  set_usize is ignored

Mon Apr 06 23:03:30 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed crashing  by doing orientation in
	  an idle handler after the move from panel to panel

Sat Apr 04 23:31:05 1998  George Lebl  <jirka@5z.com>

	* swallow.c: more swallow applet work

	* main.c: laoding of swallow applets in place

Sat Apr 04 19:17:01 1998  George Lebl  <jirka@5z.com>

	* swallow.[ch]: beginnings of a swallow applet.

Sat Apr 04 12:27:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: use gtk_widget_reparent to move
	  the applet on interpanel move, but it still doesn't
	  wanna move from a drawer without badwindowing

Sat Apr 04 01:45:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: drawers can't add themselves
	  to themselves, and interpanel movement now uses 20
	  pixel border to jump to panels, still doesn't work
	  right for drawers and external applets

Sat Apr 04 00:47:17 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: set size when packing, fix warning
	  in size_allocate

Sat Apr 04 00:29:11 1998  George Lebl  <jirka@5z.com>

	* mico-glue.cc: cleanup function to clean up the
	  gnome-config hack to spitting out the iior.

	* panel.c: call the cleanup and call has_section
	  before clean_section

Fri Apr  3 22:43:35 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (logout_applet_LINK): New macro.

Wed Apr 01 22:01:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added two new signals.

	* main.c: made interpanel moving work a bit better.

Wed Apr 01 01:01:05 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc: small fix to corect for temporaries
	  problems (never had this problem on my alpha:)

Wed Apr 01 00:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: now defines panels GList so that we
	  can do interpanel movement. interpanel movement is now
	  implemented

	* panel.c, main.c: removed all traces of dnd stuff (commented
	  out) only internal moving in panel-widget now in place.

	* main.c: sending orientation changes to extern applets
	  implemented.

	* panel-widget.c: fixed a warrning in set_position

Mon Mar 30 23:19:35 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: transfered drag to panel.c, now
	  works at least partially, only on windowless applets though
	  and it dies with badwindow when doing the drag.

Mon Mar 30 01:30:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: playing around with dnd, but can't get
          it to do anything useful

Sun Mar 29 15:25:19 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (AUTOMAKE_OPTIONS): New macro.

Sun Mar 29 01:16:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the annoying flicker of the
	  panel at pos 0,0, by using gtk_widget_set_uposition
	  instead of move_window routine

Sun Mar 29 00:46:07 1998  George Lebl  <jirka@5z.com>

	* panel-util.c: get rid of trailing '\n' in popen
	  implementation

1998-03-29  Raja R Harinath  <harinath@cs.umn.edu>

	* panel-util.c (get_full_path): Rewrite using `popen'.

Sat Mar 28 15:33:07 1998  George Lebl  <jirka@5z.com>

	* main.c: don't do get_full_path on params starting with
	  # which is not a path but an ident only

Sat Mar 28 15:23:33 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: riped out get_which_output from
	  applet-lib and put it in these new files while renaming
	  it to get_full_path.

	* Makefile.am: link in the new files

	* panel-widget.c: temporairly disable dnd code as it
	  doesn't work

	* main.c: call get_full_path from load applet

	* applet-lib.cc: add timeouts for contacting the panel
	  so that applets don't get "lost" due to a race

Fri Mar 27 01:48:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: dnd code in, but it doesn't work, needs
	  a bit of work I guess:)

Wed Mar 25 23:32:47 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: implemented drop support (no drag yet:)

Mon Mar 23 23:57:03 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed the bug of submenu's activating ... if
	  a dentry has nothing to execute it doesn't deserve an
	  "activate" callback.

Fri Mar 20 01:09:35 1998  George Lebl  <jirka@5z.com>

	* *.c: general cleanup after a -Wall compilation

Fri Mar 20 00:10:12 1998  George Lebl  <jirka@5z.com>

	* applet-lib.{cc,h}: implemented a way for applets
	  to find their absolute executable path

Thu Mar 19 18:21:45 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): Allocate two arguments for every
	argument in initial vector.

Wed Mar 18 23:10:27 1998  George Lebl  <jirka@5z.com>

	* launcher.c: redid the way applets are initially read in

	* panel.c: try contacting the launcher with a timeout and
	  then tell it to reread launchers

	* launcher.c: does not contact the panel, but waits until the
	  the panel contacts it

Wed Mar 18 18:13:35 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc: added unimplemented
	  tooltip calls.

	* panel.c: minor cleanups

Wed Mar 18 17:56:16 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, launcher-lib.cc,launcher.c:
	  impelmented restart all applets on the launcher side.

Wed Mar 18 01:03:52 1998  George Lebl  <jirka@5z.com>

	* menu.c: applets directory added to the Add to panel dir, read from
	  a directory applets (/usr/local/share/applets usually)

Wed Mar 18 01:02:34 1998  George Lebl  <jirka@5z.com>

	* menu.c, drawer.c, main.c: removed some old calls, no longer
	  passes window pointers around so it's a bit cleaner

Tue Mar 17 23:30:04 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: removed from panel, they
	  are in libgnomeui now

Tue Mar 17 23:22:50 1998  George Lebl  <jirka@5z.com>

	* clock.c: removed, clock is now in ../applets/clock/

Mon Mar 16 23:23:26 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: added the plug-socket
	  colde v0.1 (that's the newest I found:)

	* applet-widget.[ch]: removed in favor of plugsocket code

	* gnome-panel.idl,panel.c,mico-glue.cc,applet-lib.cc:
	  adapted to plugsocket code, slightly different calls
	  and the registration of applets acts slightly differently

	* clock.c, logout.c, launcher.c: ported to plugsocket

Mon Mar 16 17:56:08 1998  George Lebl  <jirka@5z.com>

	* panel.c,mico-glue.cc: implemented abort_applet_id
	  corba call.

Mon Mar 16 17:26:03 1998  George Lebl  <jirka@5z.com>

	* launcher.c: a few fixes, dumped the params field

	* panel.c: need to pause a second to make mtimes
	  different for gnome-config to work with two
	  programs writing to the same section at the same
	  time .. bad bad bad ... gnome-config is broke

Sun Mar 15 23:53:47 1998  George Lebl  <jirka@5z.com>

	* launcher.c: port to corba, acts like mc should,
	  needs to be started after panel starts manually
	  and killed after panel stops manually.

	* gnome-panel.idl: added unimplemented applet_abort_id
	  call and implemented applet_request_glob_cfg

	* mico-glue.cc: synced with gnome-panel.idl

	* applet-lib.cc: fixes, new methods above

	* launcher-lib.(cc|h): implemented what needs to be
	  done corba-wise with the launcher

Sun Mar 15 17:49:33 1998  George Lebl  <jirka@5z.com>

	* mico-glue.(cc|h): added a way to call new Launchers

	* launcher.c: more CORBA stuff

Sat Mar 14 01:38:34 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added menu positioning to popup menus
	  so they appear beside the widgets not on them

	* logout.c: now quits properly, I have to make this a
	  core applet instead of a corba applet, but it provides
	  soem corba testing now

	* gnome-panel.idl, mico-glue.cc,applet-lib.cc, panel.c ...:
	  implemented a global cfg path for applets to load/save
	  some general stuff (will be needed for multi applet applets)

1998-03-13  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel_config.c: Removed the definition of the '_' macro. Uses
 	definition in 'gnome-i18n.h' instead. To make this work I changed
 	the order, in which 'config.h' and 'gnome.h' are included.

	* panel_config_global.c: Likewise.

Fri Mar 13 02:42:56 1998  George Lebl  <jirka@5z.com>

        * panel.[ch]: fixed a race when starting applets, by
          having two states for applets (PENDING and RESERVED),
          this fixes the panel "loosing" applets in invocation

        * all files: commented out most debugging output, since it
          was getting difficult to use puts/printf since the new
          debugging was lost in the old etc ...

        * clock.c: once again I use an idle handler for killing
          myself. this solves the mico exception which wasn't
          all that nice really.

1998-03-13  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Include $(srcdir) too.

Thu Mar 12 02:29:18 1998  George Lebl  <jirka@5z.com>

	* panel.c, applet-lib.cc: made the menu work on the panel
	  side, and removed the menu from applet-lib. (funny how
	  you get ideas during writing the changelog)

Thu Mar 12 02:01:30 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: implemented the callbacks, right now
	  menu is built on the applet side and code is there to do a
	  unified applet menu stuff on the panel side, but I'd have to
	  find a sane way of sending the button press event so that the
	  menu would work, probably some hacking on the grabs could make
	  it work (release grab on the applet side, add grab on the panel
	  side...)

	* panel.c: a bunch of fixes

Wed Mar 11 22:42:39 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed a cpl of warnings

	* panel.c: for some reason not unreffing internal applets makes
	  shutdown not segfault.

	* panel.c: fixed a bug with multple applets

	* clock.c: shutdown now kills the applet (this causes
	  an exception)

	* mico-glue.cc: catch exceptions on shutdown

	* ChangeLog: :%s/\<teh\>/the/g

Wed Mar 11 18:15:41 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc,h), panel.c: session save is
	  now passed a cfg path to allow elaborate session saving

	* gnome-panel.idl, applet-lib.(cc,h), clock.c: callback
	  framework revised.

	* panel.c: removed some old stuff

Wed Mar 11 12:33:56 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXXFLAGS): New macro.

Wed Mar 11 00:00:49 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, and just about every file: external applets
	  now get restarted nicely. the session saving stuff slightly
	  revamped ... just as the starting stuff ... makes more sense
	  now. it still segfaults but oh well ...

	* clock.c: ported it to the new gnome-panel.idl interface

Tue Mar 10 01:31:25 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXX): Define.

	* Makefile.am (panel_SOURCES): Added mico-parse.h.
	* clock.c: Include "mico-parse.h".
	* cdplayer/cdplayer.c: Include "mico-parse.h".
	* logout.c: Include "mico-parse.h".
	* applet-lib.cc (gnome_panel_applet_init_corba): Removed argc,
	argv arguments.
	Include "mico-parse.h".
	* main.c: Include "mico-parse.h".
	* mico-glue.cc (panel_corba_gtk_main): Removed argc, argv
	arguments.
	Include "mico-parse.h".
	* mico-glue.h: Don't declare panel_initialize_corba,
	panel_corba_register_arguments.
	* mico-parse.cc (orb_ptr): Don't declare.
	(panel_initialize_corba): Use (*orb), not orb_ptr, as ORB.
	Include "mico-parse.h".
	* mico-parse.h: New file.

Sun Mar  8 18:55:09 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): MICO now takes "--" arguments.

	* Makefile.am (INCLUDES): Include GNOME_INCLUDEDIR.

Sat Mar  7 13:39:41 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_SOURCES): Added mico-parse.cc.
	(panel_SOURCES): Likewise.
	* cdplayer/cdplayer.c (main): Use new gnome_init.
	* logout.c (main): Use new gnome_init.
	* clock.c (main): Use new gnome_init.
	* applet-lib.cc (gnome_panel_applet_init_corba): Use
	panel_initialize_corba.
	* mico-parse.cc: New file.
	* mico-glue.cc (panel_corba_gtk_main): Use
	panel_initialize_corba.
	* main.c (init_session_management): Removed.
	(main): Use new session and argument parsing code.
	* mico-glue.h (corba_gtk_main): Removed.
	(panel_corba_register_arguments): Declare.

Fri Mar 06 20:57:04 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: external applets are now started

Thu Mar 05 22:22:53 1998  George Lebl  <jirka@5z.com>

	* main.c,panel-widget.c,drawer.c: new panel-widget signal
	  "applet_move" and got rid of restore_state signal. this
	  makes it possible for the drawers to move themselves
	  appropriately. initialization cleaned up and should work
	  fine for orientation other then bottom

Wed Mar 04 23:28:44 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: made signals work better, drawers
	  hide when their parent hides

Wed Mar 04 01:09:53 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c,panel.[ch]: few cleanups, made
	  orientation change work for menus

1998-03-04  Raja R Harinath  <harinath@cs.umn.edu>

	Move gnome-panel.idl and applet-{lib,widget}.* to libapplet.
	* clock/Makefile.am (clock_applet_LDADD): Link in `libapplet.a'.
	* cdplayer/Makefile.am (cdplayer_applet_LDADD): Likewise.

	* Makefile.am (SUBDIRS): Add `libapplet'.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/cdplayer.c (main): Get it to compile.

	* panel.c (add_main_menu): Use /* */ comment.

Sun Mar  1 00:58:11 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (gnome-panel.cc): Pass explicit --name to idl.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (set_orientation): Icons are now PNG files.
	(create_panel_menu): Likewise.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (create_menu_at): pixmap_name is now item_info->icon, as
	the format for desktop_entries has changed.
	(create_menu_at): Icon is scaled to the proper size.

Thu Feb 26 00:29:52 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc: added the id
	  parameter to panel->applet calls so one program could
	  maintain more applet easily.

Tue Feb 24 23:32:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added signals. it compiles, but
	  I can't really test it right now. isn't blind coding
	  fun :)

1998-02-24  Mark Galassi  <rosalia@cygnus.com>

	* mailcheck/mailcheck.c (mailcheck_load_animation): typo: the type
	here should have been GdkImlibImage * instead of GdkImlib *.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* batmon/batmon.c (init_module): ref and sink the tooltips.
	(destroy_module): Unref the tooltips properly.

	* mailcheck/mailcheck.c (mailcheck_load_animation): Whoops, it's
	not GdkImlib, it's GdkImlibImage.

Tue Feb 24 00:05:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc (others): changed the way
	  applets are destroyed a bit. cannot test anything as
	  the pixmaps seem to be very broken ....

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): Make it use gdk_imlib.

	* menu/main.c: 
	* logout/logout.c: 
	* launcher/launcher.c: 
	* panel-widget.c: 
	* menu.c:
	* drawer.c:
	* batmon/batmon.c: Modified to use GnomePixmap widget.

Sun Feb 22 23:04:54 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (BUILT_SOURCES): New macro.
	(gnome-panel.cc): Find gnome-panel.idl in srcdir.

Sun Feb 22 19:12:25 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc, panel.c:
	  add support for statesaving of applets though this
	  does not yet work.

	* panel.[ch]: remove some unused code

Sun Feb 22 02:58:00 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: reparenting mess hopefully cleaned
	  up. (there are two separate calls for setting up an
	  applet now)

Sat Feb 21 22:26:26 1998  George Lebl  <jirka@5z.com>

	* clock.c: took out the debugging button

Sat Feb 21 22:10:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made default panel width 48, and added a
	  second frame to the droptarget of drawers

	* applet-lib.cc: added applet menu

Sat Feb 21 17:08:23 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, panel.c mico-glue.cc,applet-lib.cc
	  panel-widget.c: external (corba) applets will move now

Sat Feb 21 16:48:35 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel.c: Simple stub routine that demostrates calling a CORBA
	function in the client code.   

	* gnome-panel.idl: New applet interface, right now it only serves
	for demostration purposes;

	* clock.c (main): It now uses applet_corba_gtk_main for its main
	loop.  Note that all of this glue that I am putting in the panel
	is to avoid putting C++ code in our nice Panel for now at least. 

	* applet-lib.cc (Applet_impl): Class that implements the
	Applet-server, this is the one that receives messages from the
	CORBA panel.

	All of this was so much easier than I though, all of this CORBA
	stuff just fits so nicely together once you figure it out :-). 

Sat Feb 21 01:21:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented corba events, but it now dies
	  with an error ... I'll see why it does that tommorrow

Sat Feb 21 00:24:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: simple applet widget with a window
	  and an event box so that events get trapped by the applet
	  and not partly by the panel.

	* gnome-panel.idl: added a callback for button presses, and
	  
	* panel.c, mico-glue.cc, applet-lib.cc, clock.c: implemented
	  (mostly) applet IDs for communication

Wed Feb 18 17:40:39 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mico-glue.cc, mico-glue.h: New files that include all of the
	server side C++ glue code.  This is in preparation for the
	upcoming C-only bindings that Elliot is writing. 

	* main.c: use the mico-glue code for the server support

	* Makefile.am: Rename panel -> corba_panel, this is the corbaized
	panel.

	* panel.in: New file, this one takes care of starting up the
	corba_panel with the proper arguments (to register corba_panel as
	a persistent corba server). 

Wed Feb 18 17:40:18 1998  Federico Mena   <federico@nuclecu.unam.mx>

	* menu.c (menu_button_press): Use event->time for right menu popup behaviour

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.c (main): Added app_id "panel-widget".

	* main.c (main): Added app_id "panel".

	* clock.c (main): Added app_id "clock_applet".

Wed Feb 18 23:01:11 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,drawer.c,panel.c,main.c: drawers kind of
	  work now (well you have to edit the config file to add
	  applets to them and they are ugly and don't work too
	  well)

Wed Feb 18 01:19:58 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch]: new files, for drawers (not finished yet)

	* panel.c, panel-widget.c, menu.c: changes mostly related
	  to drawers.

Tue Feb 17 21:12:45 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,panel.c,main.c: now saves drop zone
	  position, plus a couple of FIXME's addressed

Tue Feb 17 20:01:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: drawerlike panels are starting to work

Tue Feb 17 01:22:10 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more drawer code

Sun Feb 15 23:45:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c:  started work on drawer panels

Mon Feb 16 11:27:58 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* main.c (main): Added bindtextdomain().

	* Makefile.am (INCLUDES): Define GNOMELOCALEDIR.

Sun Feb 15 17:08:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: state preservation, identified 3
	  different hidden states

Sun Feb 15 15:16:44 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, panel-widget.h, main.c: fixed
	  a few bugs with panel-widget, added more support for
	  free floating panels

Sun Feb 15 00:34:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed a with applet placement.
	  debugging info left in for thy panel-widget shall
	  be tortured yet again, for thy panel has got an
	  ugly bug (still)

Sat Feb 14 17:55:48 1998  George Lebl  <jirka@5z.com>

	* menu.c, panel.h: menubutton is now an eventbox and works
	  like a popup menu, adding menu applets works

Sat Feb 14 15:54:45 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c, panel_config.[ch], panel_config_global.[ch]:
	  split up configuration, integrated menu more closely with
	  panel

1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_quit): Changed to use new SM support.
	(panel_session_save): Changed to use new SM support.

	* main.c (init_session_management): Changed to use new SM
	support.

Sat Feb 14 02:11:12 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,menu.[ch]: internal menu somewhat integrated

Sat Feb 14 01:44:06 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (panel_LDADD): Don't include DL_LIB.  Do include
	INTLLIBS.
	(clock_applet_LDADD): Include INTLLIBS.

Sat Feb 14 00:50:44 1998  George Lebl  <jirka@5z.com>

	* Makefile.am, panel.c main.c, panel.h: ripped out all the
          stuff that was for the shared lib type applets, now it should
          be just adding of corba applets. note that it now doesn't work

1998-02-14  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Add $(X_CFLAGS).

Thu Feb 12 00:04:39 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c: more work towards menu/panel integration

Wed Feb 11 22:39:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: some preparations for menu integration, and internal
	  vs. external applets, preparation for drawer framework inside
	  panel.c instead of panel-widget

Wed Feb 11 20:59:04 1998  George Lebl  <jirka@5z.com>

	* menu.c, menu.h: added, but not yet fully pruned yet from the
	  applet code

Wed Feb 11 20:58:28 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, main.c: some refcounting fixes

Sun Feb 08 17:32:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more geometry work, orientation changes
	  work better, can push widgets left to gain space

Sun Feb 08 16:34:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: popup menu now properly disappears

	* panel-widget.c,panel.c,main.c: fixed several mistakes,
	  added panel_widget_move

	* panel-widget.c: orientation changes kind of work

Sun Feb 08 14:52:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], panel.c: move applet menuitem fixed

Sun Feb 08 12:19:55 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c, panel.h, panel-widget.c: fixed applet menu
	  to mostly work (no moving yet)

Sun Feb 08 00:58:33 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.c: added session saving,
	  fixed moving, fixed a couple of warnings.

Fri Feb 06 23:29:08 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added panel menu, fixed some "the_panel"
	  stuff.

Fri Feb 06 22:56:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c, ... : worked a bit on config saving,
	  and multiple panel support, compiles and mostly works
	  due to a hack which will disappear soon :)

Thu Feb 05 23:45:06 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c,applet_cmds.h,panel_cmds.h,ALL APPLETS:
	  switched to using panel-widget. it kind of works, and should
	  work with the newest gtk from cvs. session saving does not
	  work yet!

1998-02-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/Makefile.am (EXTRA_DIST): But still distribute
	cdrom-{linux,solaris}.c.

Wed Feb  4 00:39:32 EST 1998 Nathan Bryant <bryant@cs.usm.maine.edu>
	
	* cdplayer/Makefile.am: remove EXTRA_libpanel_cdplayer_la_SOURCES
	line, it caused things to fail while generating dependencies

1998-02-02  Raja R Harinath  <harinath@cs.umn.edu>

	Quick and dirty port of `panel/cdplayer' to Solaris.
	* Makefile.am (SUBDIRS): Conditionally build `cdplayer'. 
	* cdplayer/Makefile.am (libpanel_cdplayer_la_SOURCES): Build host
	specific cdrom backend.
	* cdplayer/cdrom-solaris.c: New backend for solaris.  Just a copy
	of cdrom-linux.c, replacing include of <linux/cdrom.h> with
	<sys/cdio.h>.
	
	* cdplayer/Makefile.am (dist-hook): Replace spaces with tab.

Wed Jan 28 11:39:16 1998  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* main.c (load_default_drawers): Added stub.

Thu Jan 29 04:31:23 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel.c, batmon/batmon.c, launcher/launcher.c,
	mailcheck/mailcheck.c, menu/main.c: Include <config.h>.  And
	remove any `#ifdef HAVE_LIBINTL ... #endif', which is done by
	gnome.h.

	* main.c: Include <config.h>.
	(main): Added textdomain().

Tue Jan 27 09:17:08 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (create_menu_at): Now directories are named
	according to the Name field in the .directory desktop entry.

	* menu/main.c (create_menu_at): Now menu items are named according
	to the Name file in their respective desktop entries.

Mon Jan 26 23:25:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a bunch of orientation bugs, make applet resize
	only do set_panel_position if it needs to (this is still not
	OOized)

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Removed #include "gnome-dl.h".

	* launcher.c: Modified the launcher applet to use the new
	name/comment fields in dentries instead of the old info field and
	filename.

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Changed void *dl_handle to GnomeLibHandle
	*dl_handle.

Sun Jan 25 23:33:07 1998  George Lebl  <jirka@5z.com>

	* panel.{c,h},applet_cmds.h: added orientation property to Panel

Sun Jan 25 20:51:23 1998  George Lebl  <jirka@5z.com>

	* main.c: can load drawers now

Sun Jan 25 18:58:07 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: fixed orientation changes affecting only one menu

	* panel.c: added "add main menu" to panel menu, switched "remove
	  applet" with "move applet" to avoid removing the applet by
	  mistake

	* applet_cmds.h: orientation is passed though params for greater
	  flexibility and tolerance of older modules

	* panel.[ch]: OOized the panel/drawer distinction, to help with
	  doing drawers

Sat Jan 24 19:31:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu/main.c: even more drawer code added. drawers aren't
	  fully implemented yet though!

Sat Jan 24 17:58:52 1998  George Lebl  <jirka@5z.com>

	* panel.c: eliminated jerky movement by using an idle function for
	  movement, merged move_applet functions into one.

	* panel.c: a few cleanups, some more drawer code in.

Fri Jan 23 14:36:42 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): The properties 
	dialog is now destroyed if the applet is removed from the panel
	while the dialog is active.
	(mailcheck_properties): We only allow one instance of the
	properties dialog to be active.
	(load_new_pixmap_callback): Removed unused variable cmd.
	(mailcheck_notification_frame): Beautified the dialog a bit.
	(mailcheck_destroy): If you removed the mailcheck applet from the
	panel and later tried to re-add it from the panel menu, it didn't
	work.  Fixed.

Fri Jan 23 16:22:27 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel.h,panel_cmds.h: more "drawers" framework done,
	  removed traces of visibility notify, removed applet size change
	  notify since it is handled by allocate_size signal

	* mailcheck/mailcheck.c: fixed a few bugs related to text only
	  reporting

Thu Jan 22 23:24:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed some unused code, fixed a bug when removing
	  applets, made cells with applets not expand which improves the
	  look and makes geometry seem more consistent

Thu Jan 22 20:34:53 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: made the property dialog an apply/close
	  type

Thu Jan 22 20:23:21 1998  George Lebl  <jirka@5z.com>

	* panel.c: improved move performace, saner move position
	  calculation.

	* menu/main.c,launcher/launcher.c,logout/logout.c: the button is
	  now set to the size of the pixmap

Thu Jan 22 03:16:18 1998  George Lebl  <jirka@5z.com>

	* panel.c: disabled raising when obscured sinceit was messing up
	  with screensavers. need to find a better solution to this

Thu Jan 22 01:20:15 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: panel is now a table instead of a fixed. This gives
	  us far greater flexibility, and better applet geometry managment
	  (though a bit odd sometimes)

	* main.c,applet_cmds.h,panel_cmds.h,all applet files:
	  changed to a one variable position system

Wed Jan 21 01:18:34 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c (pop_down): return FALSE for timeout callback.

	* mailcheck/mailcheck.c (mailcheck_properties): cast
	property_window to GTK_WINDOW.

Wed Jan 21 00:41:27 1998  Federico Mena <federico@bananoid.nuclecu.unam.mx>

	Based on patch from Raja R. Harinath <harinath@cs.umn.edu>
	* batmon/batmon.c (batmon_timeout_callback): Use non-surprising
	values for non-Linux m/cs.

Tue Jan 20 17:39:25 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu/main.c: for now set the absolute size of the menu button.

	* mailcheck/mailcheck.c: Provide a propery configurator that
	allows setting the animation file.
	(mailcheck_load_animation): use this to load new animations.
	(create_mail_widgets): create both the drawing area and the label
	always, and put them inside an hbox.
	(mailcheck_get_animation_menu): create a menu filled with the
	possible animation file names.
	(load_new_pixmap_callback): configure the user settings and save
	the configuration for this applet. 
	(mailcheck_notification_frame): create the notification
	configuration menu. 

	* mailcheck/email-e.xpm: Put back this animation. 

Tue Jan 20 01:13:34 1998  George Lebl  <jirka@5z.com>

	* mailcheck/email.xpm: replaced the old xpm with a newer one from
	  tigert which looks better

Sun Jan 18 11:17:27 1998  Tom Tromey  <tromey@cygnus.com>

	* applet_files.c (init_applet_file): Made `error' const.
	(get_dl_func): Likewise.

Sun Jan 18 18:46:28 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: now actually captures the expose event
	  and redraws itself

	* panel_cmds.h,panel.c: added a change size notify command, the
	  applets should send this when they change their size so the
	  panel can correct their geometry

	* panel.c: made a panel menu pop up when the right button is
	  pressed on the panel

	* applet_files.c: hopefully fixed a warning

Sun Jan 18 05:07:42 1998  George Lebl  <jirka@5z.com>

	* panel.c: cursor is now an arrow (it was a bug that it was not)
	  and when window is compeltely obscured it now raises itself

Sun Jan 18 01:59:25 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: gettexted ...

	* launcher/launcher.c: made the config and apply/close type fo
	  dialog, instead of ok/cancel

	* menu/main.c: added configuration, done some restructuring, small
	  icons can now be turn on or off

Sat Jan 17 03:11:40 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: now uses a single button instead the old vbox bit,
	  and uses the above xpms

	* panel_config.c: fixed a mistake I caused earier

Sat Jan 17 02:15:08 1998  George Lebl  <jirka@5z.com>

	* launcher/launcher.c: a bit of restructuring, now properties can
	  be changed, stuff will be updated in real time and the dialog
	  isn't modal

Fri Jan 16 22:07:24 1998  George Lebl  <jirka@5z.com>

	* panel.c: made "stays put" as the default mode as it's less
	  confusing for new users and old users can just set the
	  preferences

	* panel.c,panel.h,panel_config.c: Tooltips now configurable

Fri Jan 16 20:36:39 1998  George Lebl  <jirka@5z.com>

	* programs/panel/menu/main.c: menu now takes screen size
	  into account. took out the tooltip on this thing since
	  interfered with the menu

Fri Jan 16 19:05:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: reworked the geometry stuff once more

	* main.c: now again default right justifying of the mail applet
	  works again. (though setting the x to 9999)

	* panel.c,panel_cmds.h: set up applet tooltips, added one more
	  command for this

	* launcher/launcher.c,menu/main.c,logout/logout.c: added the
	  tooltips for these

Fri Jan 16 16:48:22 EST 1998  Nathan Bryant <nbryan71@maine.edu>

	* panel.c: added exit() to panel_quit(). Fixes SEGV when we try to
	  return into a nonexistent code page from an applet that has been
	  dlclose()'d.

Fri Jan 16 03:57:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: slightly optimized the geometry routines though I don't
	  get why it does slightly improve performance, but hey it works
	  ....

Fri Jan 16 03:17:15 1998  George Lebl  <jirka@5z.com>

	* logout/logout.c: using term-night xpm for this button

	* launcher/launcher.c: using the opaque icons and
	  gnome-unknown.xpm instead of the wheel

Fri Jan 16 01:45:30 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: there will allways be one menu,
	  (last one can't get deleted) and moving from the menu now works

Thu Jan 15 21:54:31 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet_cmds.h,menu/main.c,... applet .c files: added
	  orientation change notify command.  fixed several bugs in
	  panel_reconfigure, and menu now takes the orientation into
	  account, so it's uasable in all orientations
	  
Thu Jan 15 01:49:50 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: the config file stuff revised, can now load
	  launcher applets

Wed Jan 14 21:46:59 1998  George Lebl  <jirka@5z.com>

	* panel.c: changed the way free spots are found yet once more,
	  this should be a faster and better way

Wed Jan 14 17:11:16 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: default applets loaded all from,
	  left. Configuration now saved. Lot of geometry fixes

Wed Jan 14 14:53:56 1998  George Lebl  <jirka@5z.com>

	* panel.c: better geometry when swicthing from to horizontal and
	  back. width of bar is now dynamicly allocated during positioning

Wed Jan 14 13:58:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: added pixmaps to the hide buttons

Mon Jan 12 21:37:26 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (mail_destroy): Two bug fixes (proper
	destruction of the mail widget and proper use of the mailcheck
	code).

Tue Jan 13 19:17:28 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the fixed is now inside a table widget, this makes
	  it easy to "reconfigure" it on the fly, and such a function
	  exists, though untested

Tue Jan 13 16:14:13 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: reversed x and y loading for vertical panel. the
	  initial loading is done through a "stack" so applets are added
	  in the right order it seems.

Tue Jan 13 15:41:01 1998  George Lebl  <jirka@5z.com>

	* panel.c: will now handle all four positions for the geometry
	  stuff, and the panel will have no hide button if in "autohide"
	  mode

Tue Jan 13 01:21:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: put the free place finding in one routine and now it
	  will handle the geometry at strtup correctly (more or less),
	  also I added an "autoraise" which helps it keep it on top

Mon Jan 12 22:28:40 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the "colision avoidance" of applets now works, even
	  when adding new applets to the panel. There is now a hide button
	  just like on other such panels in other desktops, and the
	  default behaviour changed from autohide to this

Mon Jan 12 19:43:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed the code to check for widgets in the way

Mon Jan 12 18:54:07 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented applet positioning so they don't
	  overlap. doesn't use the existing code for that and doesn't work
	  too great (yet) :)

Mon Jan 12 20:20:42 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* netwatch/netwatch.c (get_interface_path): Do not access
	new_devpath if nothing was added.

Fri Jan  9 11:32:48 1998  Micah Stetson  <cnm@tco.net>

	* batmon/*.xpm: Changed the pixmaps for the battery monitor.

Fri Jan  2 14:53:14 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* netwatch/netwatch.c (create_netwatch): Added parentheses around
	assignment used as truth value.

	* batmon/batmon.c (destroy_module): Replaced
	gtk_tooltips_destroy() by gtk_tooltips_unref().

	* mailcheck/mailcheck.c (next_frame): Make the timeout handler
	return TRUE.
	
Wed Dec 17 22:22:27 1997  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): New function.
	(panel_quit): Use session management commands when appropriate.

	* applet_files.c (get_dl_func): Print function name in error message.
	* main.c (init_session_management): New function.
	(main): Call it.
	* Makefile.am (SUBDIRS): Include logout directory.
	* logout/Makefile.am: New file.
	* logout/logout.c: New file.

Wed Dec 10 17:46:07 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (MYLIBS): Added x_libs.

Mon Dec  1 11:36:30 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (EXTRA_DIST): Include panelrc.in.

	* Makefile.am (data_DATA): Renamed.
	(panelrc): New target.
	(MOSTLYCLEANFILES): New macro.
	(EXTRA_DIST): Removed.
	(install-data-local): Removed.

Mon Nov 10 15:52:37 1997  Tom Tromey  <tromey@cygnus.com>

	* mailcheck/mailcheck.c (mail_check_timeout): Use gettext to look
	up messages.

Tue Oct 28 17:02:57 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* clock/clock.c: Fixed creation of instances.  Made clock creation
	more generic.  It should now be easy to create new clock styles.

	* panel.c (save_applet_configuration): The panel was not
	incrementing the unique numeric key correctly.

Mon Oct 27 18:55:46 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (add_applet_to_panel): Now the menu can add applets
	to the panel.

Thu Oct  9 20:54:55 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c: Lots of bug fixes and new features.  Can now save
	configuration properly, add new applets to the panel, etc.

