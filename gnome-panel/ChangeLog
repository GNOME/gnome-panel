2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* bad-applet.c: (main): ported to new stcok icons.

	* foobar-widget.c: (append_gnome_menu): ditto.

	* gnome-run.c: (show_run_dialog), (load_run_applet): ditto.

2001-10-18  Mark McLoughlin  <mark@skynet.ie>

	* applet.c, basep-widget.c, button-widget.c,
	  conditional.c, drawer.c, extern.c, foobar-widget.c
	  gnome-panel-properties.c, gnome-panel-screenshot.c
	  gnome-run.c, launcher.c, logout.c, main.c
	  menu-properties.c, menu-rh.c, menu.c:
	ported gnome_.*_file -> gnome_program_locate_file
	       gnome_unconditional_.*_file -> gnome_program_locate_file
	       g_file_exists -> g_file_test
	       g_unix_error_string -> g_strerror

2001-10-18  jacob berkman  <jacob@ximian.com>

	* session.h (PANEL_CONFIG_PATH): set to panel2.d so you don't
	wreck your normal panel settings

	* main.c (main): 
	* launcher.c (launcher_file_name): 
	* session.c (get_correct_prefix): use PANEL_CONFIG_PATH rather
	than hard coding the path

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c, gnome-panel-properties.c,
	* panel_config_global.h, session.c: Remove 'simple_movement' and
	  opt for the slightly more complicated sin() algorithm as default.

2001-10-18  Mark McLoughlin <mark@skynet.ie>

	* main.h, main.c (panel_main_gconf_client): impl.

	* foobar-widget.c (pixmap_menu_item_new): port from 
	gnome_preferences_* to gconf.
	(add_tearoff): ditto.

	* tearoffitem.c (tearoff_item_new): ditto.

	* menu.c (menu_add_tearoff): impl to use gconf.
	(add_tearoff): kill.
	(submenu_to_display): use menu_add_tearoff.
	(start_favourites_menu): ditto.
	(create_menu_at_fr): ditto.
	(create_add_panel_submenu): ditto.
	(make_panel_submenu): ditto.
	(create_panel_submenu): ditto.
	(create_desktop_menu): ditto.
	(create_root_menu): ditto.

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c, gnome-panel-properties.c, 
	* panel-widget.c, panel-widget.h, panel_config_global.h,
	* session.c, session.h: Remove 'auto_hide_step_size', 
	  'explicit_hide_step_size' and 'drawer_hide_step_size' and replace
	  for a single configuration 'hiding_step_size' for all 

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* button-widget.c, gnome-panel-properties.c:
	* panel_config_global.h, session.c:  Remove fast_button_scaling
	  and use GDK_INTERP_HYPER as default instead.

2001-10-18  Glynn Foster <glynn.foster@sun.com> 

	* basep-widget.c, foobar-widget.c, gnome-panel-properties.c
	  menu.c, panel-widget.c, panel-widget.h, panel.c
	  panel_config_global.h,  session.c: Removed the applet_padding
          and applet_padding_border global properties and consequently
	  the no_padding_ends param on panel_widget_new

2001-10-12  Alex Larsson  <alexl@redhat.com>

	* panel_config.c (panel_config):
	un-ifdef out this function. Seems to work reasonably well
	already.

2001-10-12  Alex Larsson  <alexl@redhat.com>

	* main.c (kill_free_drawers):
	Queue up all the destroys until after we've gone through
	the panel_list, since the destroys can change the list.

2001-10-11  Alex Larsson  <alexl@redhat.com>

	* gnome-run.c (simple_contents_shown):
	Remove gtk_clist_columns_autosize() call. It crashed,
	and we only have one column anyway.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

        * foobar-widget.c (foobar_widget_update_winhints):
	Use the gtk hint calls.

	* basep-widget.c (basep_widget_update_winhints):
	Use the gtk hint calls.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* menu.c (menus_have_icons):
	New function that always returns TRUE. Should use GConf
	instead. Changed all gnome_preferences_get_menus_have_icons
	to menus_have_icons().
	(fake_pixmap_from_fake):
	Connect to the signals before showing the widget.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* applet.c (applet_button_press):
	Don't return TRUE here, it makes the buttons not
	work. I'm not sure about the comment here in the old
	code. Returning TRUE never blocked anything in
	gtk 1.2....

	* panel-widget.c:
	Fix some code inside #ifdef PANEL_DEBUG
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* menu-fentry.c (fr_fill_dir, fr_read_dir,
	fr_check_and_reread):
	Move to new GnomeDesktopItem api

	* menu-fentry.h (struct DirRect):
	renams dentry* to ditem*

	* menu.c (edit_direntry, add_applet):
	Warn when running commented function.
	(show_item_menu):
	Update to new GnomeDesktopItem API

	* panel.c (drop_urilist):
	Warn when running commented function.
	
	
2001-10-10  Alex Larsson  <alexl@redhat.com>

	* menu.c (add_drawers_from_dir):
	converted to use gnome-desktop-item, and removed
	#ifdef FIXME

2001-10-10  Mark McLoughlin <mark@skynet.ie>

	* extern.h, extern.c (extern_ref, extern_unref, 
	  extern_clean): privatise.
	  (extern_set_info, extern_(get|set)_orient, ): kill.
	  (extern_handle_*): impl. Privatise the handling of
	this stuff.
	  (socket_set_loading): remove ifdef FIXMEs and port
	usage of gdk_pixbuf_new_from_file.

	* applet.c (applet_callback_callback):
	  panel.c (freeze_changes, thaw_changes, size_change,
	  orientation_change, back_change):
	  session.c (send_tooltips_state):

2001-10-09  Mark McLoughlin <mark@skynet.ie>

	* panel-include.h: remove.

	* *.c, *.h: don't include panel-include.h. Include the
	actual required headers. Give automatic dependancy
	generation a chance.

	* aligned-widget.c (aligned_pos_class_init): use proper
	enum def instead of GTK_TYPE_ENUM.
	  basep-widget.c (basep_widget_class_init): ditto.
	  border-widget.c (border_pos_class_init): ditto.
	  panel-widget.c (panel_widget_class_init): ditto.
	  sliding-widget.c (sliding_pos_class_init): ditto.

	* Makefile.am: only generate the enums we actually
	want. Also don't include panel-include.h from
	panel-typebuiltins.c - include the required headers.

2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* extern.c: privatised the Extern struct. Implemented
	various set/get methods.

	* applet.c, panel.c, session.c: updated for above change.

2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* applet.c (show_applet_menu): get popup menu working.
	  panel.c (panel_event): ditto.
	  menu.c (menu_button_pressed): ditto.

	* menu.c (create_menu_at_fr): fix core dump.
	(make_add_submenu): ditto.

	* menu-util.h, menu-util.c (applet_menu_position): add
	new push_in param for gtk_menu_popup callbacks.
	(panel_menu_position): ditto.
	(get_default_menu_flags): make not const - it calls a
	non-const function.
	
2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* menu.c (create_applets_menu): warn if we can't find applets
	menu directory.
	(create_root_menu): only setup an applets menuitem if we have
	managed to create an applets menu.

	* foobar-widget.c (foobar_widget_init): init foo->tasks.

 	* logout.c, main.c, menu-properties.c, menu-util.c, menu.c,
	  panel-util.c, panel.c, session.c, sliding-widget.c,
	  status.c, aligned-widget.c, applet.c, basep-widget.c,
	  drawer.c, extern.c, global-keys.c, gnome-run.c, swallow.c,
	  launcher.c: remove unused extern defs.

Thu Sep 27 01:03:48 2001  George Lebl <jirka@5z.com>

	* menu.c: port more things to ditem

	* main.c: fix segfault, change the warning dialog so that people
	  don't have to set evil env variables

	* *.c: fix includes, replace g_concat_dir_and_file with
	  g_build_filename, and g_basename with g_path_get_basename,
	  uncomment a couple more things that now compile.  Whack the
	  references to the hacks.  Use new help API for the help stuff.

2001-09-26  Christian Rose  <menthos@menthos.com>

	* panel.hints: Fix reported "medans" typo.

2001-09-24  Glynn Foster <glynn.foster@sun.com>

	* configure.in, Makefile.am, libpanelapplet-2.0.pc.in:
	  Add libpanelapplet-2.0 pkg-config file. It probably
	  isn't 100% correct yet.

Fri Sep 21 12:16:18 2001  George Lebl <jirka@5z.com>

	* applet.c, button-widget.c, foobar-widget.c, global-keys.c
	  gnome-run.c, launcher.[ch], main.c, menu.c, panel-util.c,
	  panel.c, session.c, swallow.c:  Make the beast compile.  Fix
	  uses of panel_error_dialog, fix usage of GnomeDesktopItem,
	  fix typos, fix includes, smoke some crack, and get rid of remaining
	  uses of panel_file_exists

Fri Sep 21 01:40:50 2001  George Lebl <jirka@5z.com>

	* *.[ch]: use GType for types

	* extern.c, gnome-run.c, launcher.[ch]: do more ditem porting

Thu Sep 20 15:17:33 2001  George Lebl <jirka@5z.com>

	* launcher.c, swallow.c: Do some DesktopItem porting, remove some
	  FIXMEs

	* *.[ch], panel-util.[ch]: whack panel_file_exists and
	  panel_is_program_in_path, since those are now nice and working
	  in the libs.

2001-09-10  Frank Belew  <frb@ximian.com>
	* panel/launcher.c: changed references to removed functions to use
		gnome_desktop_item_get_string instead

Fri Sep 07 14:09:51 2001  George Lebl <jirka@5z.com>

	* *.c: include libgnome/libgnome.h and libgnomeui/libgnomeui.h

Tue Sep 04 23:07:54 2001  George Lebl <jirka@5z.com>

	* Makefile.am, basep-widget.[ch], conditional.c, foobar-widget.c,
	  gnome-run.c, main.c, menu.c, panel-util.c, panel-widget.c,
	  panel_config.c, session.c, tasklist_icon.c:  Reenable some things
	  and ifdef out others.  Put gnome-run back.  Compiles with latest
	  libgnome/ui now.

2001-08-31  Kevin Vandersloot <kfv101@psu.edu>

	* panel_widget.c (panel_widget_get_free_space): fix 
	initializing of right, left ints. They were switched. This
	fixes the case where the tasklist wouldn't honor the
	"Only use empty space" option.

2001-09-01  Darin Adler  <darin@bentspoon.com>

	* conditional.c:
	* drawer.c:
	* main.c:
	* menu.c:
	* panel_config.c:
	* session.c:
	* session.h:
	Fix includes to start on the porting to GNOME 2.

2001-08-26  Seth Nickell  <snickell@stanford.edu>

	* foobar-widget.c:

	Include time.h since we use time_t structures.
	
	* gnome-panel-properties.c: (show_page):
	* nothing.cP:

	Call gtk_notebook_set_current_page as gtk_notebook_set_page
	is deprecated.

2001-08-18  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added rules to create panel-typebuiltins.[ch].

	* panel-typebuiltins.[ch]: Create these files from glib-mkenums.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Put gwmh back, less work this way.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* extern.c (panel_corba_gtk_init): Make this actually work.

	* Makefile.am: Renamed panel to panel-2, commented out the
	applet and status libraries, removed everything else.

	* panel.server.in: New file.

	* panel.gnorba, panel.soundlist: Removed.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* main.c: Put in some protection so that panel won't start up
	unless explicitly told to - so it won't ruin your desktop if you
	accidentally start it.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Renamed the `panel-temp' target back to `panel'.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* scroll-menu.[ch]: Removed.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* extern.c: Ported to GTK+ 2.0, but `#ifdef FIXME' the CORBA
	stuff - will be fixed after dinner :-)

	* launcher.c Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* menu-properties.[ch]: #ifdef FIXME some stuff.

	* scroll-menu.[ch]: Ported to GTK+ 2.0.

	* swallow.[ch]: Ported to GTK+ 2.0, but `#ifdef FIXME'.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Disable the gwmh stuff for the moment and
	#ifdef FIXME it everywhere.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* panel-include.h: #include <libgnome/gnome-i18n.h> and
	<libgnome/gnome-util.h>.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added some more files to panel-temp.

	* launcher.[ch]: GnomeDesktopEntry -> GnomeDesktopItem, only
	half-way done, so FIXME.

	* applet.c: Ported to GTK+ 2.0, did some GnomeDesktopItem stuff,
	has `#ifdef FIXME' issues in the ditem code.

	* menu-fentry.[ch]: Ported to GTK+ 2.0, did some
	GnomeDesktopEntry -> GnomeDesktopItem stuff, has larger
	`#ifdef FIXME' issues.

	* menu-properties.c: Don't #include "icon-entry-hack.h".

	* menu-rh.c: `#ifdef FIMXE' some stuff.

	* menu-util.c: Ported to GTK+ 2.0.

	* menu.c: Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* panel-util.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* panel_config.c: Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* nothing.cP: Ported to GTK+ 2.0, `#ifdef FIXME' the sound stuff.

	* swalloc.c: Some GnomeDesktopEntry -> GnomeDesktopItem stuff.

	* session.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* drawer.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* status.c: Ported to GTK+ 2.0.

	* logout.c: Ported to GTK+ 2.0.

	* basep-widget.c, button-widget.c, foobar-widget.c, main.c:
	Don't use gnome_program_locate_file().

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_temp_SOURCES): Added
	rgb-stuff.[ch],	tearoffitem.[ch], title-item.[ch],
	title-item-private.h, panel.[ch].

	* panel.c: Ported to GTK+ 2.0.
	[FIXME: There's gnome_uri_list #ifdef FIXME'ed].

	* main.c: Forgot a GnomeDialog -> GtkDialog.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_temp_SOURCES): Added
 	border-widget.[ch], edge-widget.[ch], aligned-widget.[ch],
	drawer-widget.[ch], sliding-widget.[ch], floating-widget.[ch].

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_SOURCES): Removed everything
	which is in panel-temp so that we know which files
	still need to be ported.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* foobar-widget.[ch]: Ported to GTK+ 2.0.

	* Makefile.am: Added foobar-widget.[ch] and
	tasklist_icon.[ch] to panel-temp and fixed
	the marshaller creation.
	
2001-08-07  Martin Baulig  <baulig@suse.de>

	* main.c: Ported to GNOME 2.

	* panel-widget.c: Ported to GTK+ 2.0.

	* button-widget.[ch]: Ported to GTK+ 2.0.

	* basep-widget.[ch]: Ported to GTK+ 2.0.

2001-08-07  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added `panel-temp' target with all files which are
	already ported to GNOME 2.

	* panel-marshal.list, panel-marshal-main.c: New files.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* aligned-widget.c, applet-widget.c, border-widget.c,
	button-widget.c, floating-widget.c, gnome-panel-screenshot.c,
	main.c, panel-widget.c, sliding-widget.c, status-docklet.c:
	Merged the basic GTK+ 2.0 port from the GNOME20.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* *.[ch]: #include <libgnomeui.h> instead of <gnome.h> and
	#include <bonobo-activation/bonobo-activation.h> instead
	of <libgnorba/gnorba.h>.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* *.h: Use G_BEGIN/END_DECLS everywhere.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Updated for the GNOME 2 platform.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* ChangeLog-20010806: Copied current ChangeLog to ChangeLog-20010806
	and started a new ChangeLog file for GNOME 2.0.

