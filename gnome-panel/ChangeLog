2001-11-15  Mark McLoughlin  <mark@skynet.ie>

	* basep-widget.c, drawer-widget.c, drawer.c: switch 
	debugging off.

	* launcher.c: (ask_about_launcher): change order of buttons as
	per usability propaganda :-)

2001-11-15  Glynn Foster  <glynn.foster@sun.com>

	* menu.c: Fix up compilation by commenting out the
	lock accelerator stuff

2001-11-14  Glynn Foster  <glynn.foster@sun.com>

	* aligned-widget.c, aligned-widget.h, basep-widget.c,
	* border-widget.c, border-widget.h, drawer-widget.c,
	* drawer.c, edge-widget.c, edge-widget.h,
	* foobar-widget.c, menu.c, panel-gconf.c, panel.c,
	* panel_config.c, panelglobalconfig.schema, session.c,
	* sliding-widget.c, sliding-widget.h:

	Fix gconf leaks - thanks to andersca
	Change the schema to cover over a problem with autohide
	panels [still needs to be fixed].
	More GObject porting and header standardization.

2001-11-12  Frank Belew  <frb@ximian.com>

	* Makefile.am: comment out SUBDIRS to fix dist targets

2001-11-12  Glynn Foster  <glynn.foster@sun.com>

	* launcher.c, main.c, session.c:, session.h: Fix up 
	  launcher loads a little so that the launchers load up
	  on the panel.

2001-11-09  Mark McLoughlin  <mark@skynet.ie>

	* session.c, session.h: move dead launchers stuff in here.

	* applet.c, applet.h: update.

2001-11-09  Mark McLoughlin  <mark@skynet.ie>

	* applet.c, applet.h: bit of namespace loving.

	* drawer.c, extern.c, gnome-run.c, launcher.c, 
	  logout.c, menu-properties.c, menu.c, 
	  panel-applet-frame.c, panel.c, session.c, 
	  status.c, swallow.c: update.

2001-11-09  Mark McLoughlin  <mark@skynet.ie>

	* applet.c, applet.h: kill horrible applets_last hack.

	* drawer.c: (load_drawer_applet):
	* drawer.h:
	* extern.c: (reserve_applet_spot):
	* gnome-panel-properties.c:
	* gnome-run.c: (load_run_applet):
	* launcher.c: (load_launcher_applet_full):
	* logout.c: (load_logout_applet), (load_lock_applet):
	* menu.c: (add_drawers_from_dir), (load_menu_applet):
	* panel-applet-frame.c: (panel_bonobo_applet_load):
	* panel.c: (panel_applet_added), (drag_data_recieved_cb):
	* status.c: (load_status_applet):
	* swallow.c: (load_swallow_applet): update to use return val
	of panel_applet_register instead of applets_last.

2001-11-09  Mark McLoughlin  <mark@skynet.ie>

	* applet.c, applet.h: (panel_register_applet): renamed from
	register_toy. Return an AppletInfo *.

	* drawer.c: (load_drawer_applet):
	* extern.c: (reserve_applet_spot):
	* gnome-run.c: (load_run_applet):
	* launcher.c: (load_launcher_applet_full):
	* logout.c: (load_logout_applet), (load_lock_applet):
	* menu.c: (load_menu_applet):
	* panel-applet-frame.c: (panel_bonobo_applet_load):
	* panel.c: (panel_applet_added), (drag_data_recieved_cb):
	* status.c: (load_status_applet):
	* swallow.c: (load_swallow_applet): update.

2001-11-09  Mark McLoughlin  <mark@skynet.ie>

	* applet.c: tidy up popup menu handling.

	* applet.h: (show_applet_menu): privatise.

	* basep-widget.c, border-widget.c, extern.c, menu-util.c:
	
	* menu.c: (show_item_menu_b_cb): kill unused.

2001-11-08  Glynn Foster  <glynn.foster@sun.com>

	* applet.c, basep-widget.c, button-widget.c,
	  menu-util.c, menu.c, panel-gconf.c, panel-gconf.h:
	  panel-types.h, panel_config_global.h, panelglobalconfig.schema,
	  session.c: More shifting towards gconf - some renames of variables
	  lots of FIXME's.

2001-11-08  Mark McLoughlin  <mark@skynet.ie>

	* basep-widget.c: (basep_pos_get_hide_size),
	(basep_pos_get_hide_pos), (basep_widget_do_hiding),
	(basep_widget_do_showing), (basep_widget_explicit_hide),
	(basep_widget_explicit_show), (basep_widget_autoshow),
	(basep_widget_queue_autoshow), (basep_widget_autohide),
	(basep_widget_queue_autohide): update gconf key names.

	* floating-widget.c: (floating_pos_get_hide_size),
	(floating_pos_get_hide_pos): ditto.

2001-11-08  Glynn Foster  <glynn.foster@sun.com>

	* panelglobalconfig.schema: Update. Well actually
	fix :)

2001-11-08  Mark McLoughlin  <mark@skynet.ie>

	* Makefile.am: install schema using gconftool.

2001-11-08  Mark McLoughlin  <mark@skynet.ie>

	* basep-widget.c, button-widget.c, menu-fentry.c
	  menu-properties.c, menu-rh.c, menu-util.c, menu.c,
	  panel-widget.c, session.c, status.c: sensible debugging
	defines. undef them all so warnings don't get lost.

2001-11-07  Mark McLoughlin  <mark@skynet.ie>

	* launcher.c: (is_this_drop_ok): use GDK_POINTER_TO_ATOM
	instead of GPOINTER_TO_UINT.

	* menu-fentry.c: (get_applet_goad_id_from_ditem) make static.

	* panel.c: (get_target_list): impl.
	(is_this_drop_ok): kill GPOINTER_TO_UINT atom usage.

	* tasklist_icon.c: (tasklist_icon_check_mini): use GdkAtom.

	* xstuff.[ch]: (xstuff_nautilus_desktop_present),
	(xstuff_set_simple_hint), (status_event_filter),
	(get_typed_property_data), (send_client_message_1L),
	(xstuff_setup_global_desktop_area), (xstuff_setup_desktop_area),
	(xstuff_unsetup_desktop_area): bunch of GdkAtom/Atom related
	warnings fixage.

2001-11-7   Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c: Fix bug in set_property call.

2001-11-07  Glynn Foster  <glynn.foster@sun.com>

	* Makefile.am, basep-widget.c, floating-widget.c, panel-gconf.c,
	  panel-gconf.h, panel_config_global.h, session.c, session.h: 

	  More property stuff...mostly dumb stuff though. Added installation
	  of schema too.

2001-11-05  Glynn Foster  <glynn.foster@sun.com>

	* Makefile.am, basep-widget.c, border-widget.c,
	  floating-widget.c, foobar-widget.c, gnome-panel-properties.c,
	  main.c, main.h, menu.c, panel-gconf.c, panel-gconf.h, panel-widget.c,
	  panel-widget.h, panel_config_global.h, panelglobalconfig.schema,
	  session.c, tearoffitem.c: More work getting the global properties into
	  shape. Removed the option to have the movement type in the capplet - these
	  are now a keybinding only - according to usability happiness. Also moved
	  basep, basepos over to gobject a little bit more. Added the startings of
	  a wrapper around gconf stuff for panel config.

2001-11-05  Mark McLoughlin  <mark@skynet.ie>

	* gnome-run.c: (show_run_dialog): change order of buttons as
	per usability recommendations.

2001-11-05  Mark McLoughlin  <mark@skynet.ie>

	* panel-applet-frame.c: 
	(panel_bonobo_applet_widget): impl. Wrap the windowless 
	BonoboWidget in a GtkEventBox so we can catch events.
	(panel_applet_load): rename to panel_bonobo_applet_load.

	* panel-applet-frame.h: upd.

	* menu.c: (add_test_bonobo_applet): upd.

2001-11-05  Mark McLoughlin  <mark@skynet.ie>

	* applet.c: (applet_button_press): only propagate event to
	button widgets.

2001-11-01  Mark McLoughlin  <mark@skynet.ie>

	A first stab at BonoboControl based applets. It works
	suprisingly well for 84 lines of code :)

	* panel-applet-frame.c, panel-applet-frame.h: new files.
	BonoboControl based applet support.

	* applet.h: add new AppletType - APPLET_BONOBO.

	* menu.c: (add_test_bonobo_applet): impl.
	(make_add_submenu): add new menuitem to activate a
	test bonobo applet.

	* test-bonobo-applet.c: BonoboControl based test applet.

	* GNOME_Panel_TestApplet.server.in: add TestBonoboApplet.

	* Makefile.am: upd.

2001-11-01  Mark McLoughlin  <mark@skynet.ie>

	* applet-object.c: (applet_object_panel_quit), (applet_object_new):
	free panel CORBA refs.

	* applet-widget.c: kill applet_count stuff.

2001-11-01  Mark McLoughlin  <mark@skynet.ie>

	* applet-object.c: (impl_GNOME_Applet2_back_change): add case
	for PANEL_BACK_NONE.

	* main.c: (main): set BONOBO_ACTIVATION_DEBUG_OUTPUT for easy
	applet debugging.

	* applet-init.c, applet-init.h:, applet-widget.c, 
	  test-applet.c: remove crufty debugging stuff. sigh.

2001-11-01  Mark McLoughlin  <mark@skynet.ie>

	* panel-util.c: (panel_show_help): update for gnome-help
	changes.

2001-11-01  Glynn Foster  <glynn.foster@sun.com>

	* applet.c: * basep-widget.c: * basep-widget.h:
	* border-widget.c: * border-widget.h: * button-widget.c: 
	* conditional.c: * conditional.h: * drawer-widget.c: 
	* drawer-widget.h: * drawer.c: * extern.c: * floating-widget.c: 
	* floating-widget.h: * foobar-widget.c: * global-keys.c: 
	* menu-util.c: * menu.c: * multiscreen-stuff.c: * panel.c: 
	* panel_config.h: * session.c: * xstuff.c:

	Start shifting stuff slowly over towards a more GObject approach and
	making things a little bit more consistant with the type defs.
	
2001-10-31  Mark McLoughlin  <mark@skynet.ie>

	* applet-widget.c: kill old goad factory stuff.

	* applet.c, applet.h, extern.c, panel-widget.c:
	move various definitions of APPLET_EVENT_MASK to
	applet.h.

2001-10-26  Mark McLoughlin  <mark@skynet.ie>

	* GNOME_Panel_TestApplet.server.in: s/TestApplet/Panel_TestApplet/g

	* applet-init.c, applet-init.h: crufty debugging functionality.
	(applet_debug_log), (applet_debug_init): impl.
	(applet_factory_main): use it.

	* extern.c: use Applet2 interface.

	* menu.c: (add_test_applet): s/TestApplet/Panel_TestApplet/g.

	* test-applet.c: use logging.

2001-10-25  Mark McLoughlin  <mark@skynet.ie>

	* applet-widget.c, applet-widget.h: kill applet_widget_init.

	* applet-init.c, applet-init.h: new files - init related stuff
	for libpanel-applet-2.

	* GNOME_Panel_TestApplet.server.in,  test-applet.c:
	simple applet for testing purposes. It doesn't work.

	* Makefile.am: update build.

	* extern.c: cosmetics.

2001-10-25  Mark McLoughlin  <mark@skynet.ie>

	* menu.c: (menus_have_icons): use gconf.

2001-10-25  Mark McLoughlin  <mark@skynet.ie>

	* session.c: (load_up_globals), (write_global_config),
	(convert_write_config): remove tile_when_over usage.

2001-10-25  Glynn Foster  <glynn.foster@sun.com>

	* panelglobalconfig.schema: First stab at creating 
	 a schema for the panel global config.

2001-10-25  Glynn Foster  <glynn.foster@sun.com>

	* panel_config_global.h: Remove some tile cruft.

2001-10-24  Mark McLoughlin  <mark@skynet.ie>

	* Makefile.am: add WARN_CFLAGS to INCLUDES. Clean up
	  panel-marshal rules. Build libpanel-applet-2. Install
	  applet headers in gnome-2.0/panel/applet.

	* libpanelapplet-2.0.pc.in: update.

	* applet-object.c: s/IS_APPLET_OBJECT/APPLET_IS_OBJECT/.
	(applet_object_panel): return panel_client.
	(applet_object_panel_quit): impl.
	(impl_GNOME_Applet2_do_callback): kill unused variable.

	* applet-widget.c: 
	(marshal_signal_save), (marshal_signal_back):
	s/G_CLOSURE_SWAP_DATA/G_CCLOSURE_SWAP_DATA/
	(applet_widget_destroy): use gtk_main_quit ().
	(gnome_panel_client): kill.
	(applet_widget_get_rgb_background): rename from
	applet_widget_get_rgb_bg.
	(applet_widget_gtk_main, applet_widget_gtk_main_quit,
	 applet_widget_panel_quit): kill.

	* applet-object.h: kill applet_object_register and
	applet_object_get_rgb_background. Add applet_object_panel_quit.

	* applet-widget.h: kill HAVE_* defines.

	* applet-private.h: new header for libpanel-applet private
	functions.

	* doc/libpanel-applet-changes.txt: document applet API changes.

	* basep-widget.c: 
	(basep_widget_do_hiding), (basep_widget_do_showing): use g_usleep,
	not usleep.
	(basep_widget_explicit_hide), (basep_widget_explicit_show),
	(basep_widget_autoshow), (basep_widget_autohide): kill unused
	supinfo variables.

	* conditional.c: #ifdef FIXME updates.

	* extern.c: ditto and 
	(extern_ref, extern_unref, extern_clean): make static
	(s_panel_add_launcher_from_info): kill unused exec_argv.

	* foobar-widget.c: #ifdef FIXME updates and
	(get_default_image): kill unused variables.

	* launcher.c: (create_properties_dialog), (load_launcher_applet_full),
	(ask_about_launcher): kill unused variables.

	* main.c: (panel_get_shell): make static.

	* menu-properties.c: #ifdef FIXME updates

	* menu.c: (add_new_app_to_menu), (edit_dentry): kill unused
	variables.

	* nothing.cP: #ifdef FIXME updates

	* panel-util.c: ditto.

	* panel-marshal-main.c: include panel-marshal.h.

	* panel_config.c: (update_config_back): make text const.

	* session.c: (apply_global_config), (load_up_globals),
	(write_global_config), (convert_write_config),
	(convert_read_old_config): kill unused variables.

	* button-widget.c: (button_widget_draw): ditto.

2001-10-24  Glynn Foster  <glynn.foster@sun.com>

	* button-widget.c, button-widget.h, drawer.c,
	gnome-run.c, launcher.c, logout.c, menu.c,
	panel-types.h, panel_config_global.h, session.c,
	session.h: A first blast of getting rid of the panel
	tiling. Still probably lots of crufty code that can be
	removed.

2001-10-23  Mark McLoughlin  <mark@skynet.ie>

	* applet-widget.c, applet-widget.h: remove all
	corba related stuff.

	* applet-object.c, applet-object.h: implement GNOME:Applet2
	as a BonoboObject.

2001-10-23  Mark McLoughlin  <mark@skynet.ie>

	* applet-widget.c, applet-widget.h: some cosmetics.

2001-10-22  Mark McLoughlin  <mark@skynet.ie>

	Beginning of a proper port from GOAD to bonobo-activation.

	* applet-widget.c, applet-widget.h: start the port. Not
	finished yet, though.
	(custom_servant_destroy): renamed from applet_servant_destroy.
	(gnome_panel_client): impl.
	(custom_servant_activate): renamed from gnome_panel_applet_corba_init.
	(applet_widget_init): use gnome_program_init.
	Elsewhere do s/goad_id/iid/g and use bonobo-activation.

	* extern.c, extern.h: s/goad_id/iid/g
	(extern_activate): renamed from extern_start_new_goad_id.

	* main.c: (main): use GNOME_PARAM_NONE.

	* menu.c: (add_test_applet), (make_add_submenu): add temporary
	menuitem to load a test applet.

	* panel.c: (drag_data_recieved_cb):
	* session.c: (init_user_applets): #ifdef FIXME all other
	applet loading.

2001-10-22  Mark McLoughlin  <mark@skynet.ie>

	* extern.c: (extern_shutdown): release the panel object.

	* menu.c: (make_panel_submenu): add the tearoff to the submenu,
	not the menu itself.

2001-10-22  Mark McLoughlin  <mark@skynet.ie>

	* extern.c, extern.h: 
	(extern_save_applet): renamed from save_applet.
	(s_panelspot_done_session_save): upd.
	(extern_shutdown): renamed from panel_corba_clean_up.
	Unregister the GNOME::Panel object.

	* session.c: (send_applet_session_save),
	(panel_session_die): upd.

2001-10-22  Mark McLoughlin  <mark@skynet.ie>

	* main.c: (main): activate old panel object as well for the
	moment.

	* GNOME_Panel.server.in: kill PanelShell_Factory - there's no
	factory. Add GNOME_Panel.

	* extern.c: (extern_init): clean up. 

2001-10-19  jacob berkman  <jacob@ximian.com>

	* various: s/gnome-panel.h/GNOME_Panel.h/
	
	* GNOME_Panel.server.in: real .server file

	* panel-shell.[ch]: global corba object - will be used by applets
	to find the panel.  this might not get used - making GNOME_Panel a
	BonoboObject could do the trick as well, but i didn't want to
	touch that yet.

	* main.c (main): create a shell object and register with
	bonobo-activation. if there is already a panel or we couldn't
	register, abort.

2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* extern.c, extern.h: 
	(extern_load_applet): renamed from load_extern_applet.
	(extern_load_queued): renamed from load_queued_externs.
	(extern_init): renamed from panel_corba_gtk_init.
	(extern_start_new_goad_id), (reload_applet_callback),
	(extern_clean), (send_position_change),
	(panel_corba_clean_up), (s_panel_add_applet_full),
	(s_panel_add_status), (send_draw):
	(extern_activate_panelspot): cleaned up.

	* main.c: (main): 
	* menu.c: (add_applet):
	* panel.c: (drag_data_recieved_cb):
	* session.c: (try_evil_config_hacks), (init_user_applets):
	* status.c: (status_spot_remove): update.

2001-10-19  Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c, gnome-panel-properties.c,
	* panel_config_global.h, session.c: Remove
	'hide_panel_frame' which now defaults to FALSE. So whether
	buttons are flush with the panel depends on background type
	only. Another useless property best removed :)

2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* menu.c: (create_menu_at_fr), (create_desktop_menu),
	(create_root_menu): fix some silly bugs of mine.

2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* menu.c: (create_root_menu): fix dumb bug.

	* menu-properties.c: (create_properties_dialog):
	port gnome_file_entry_set_directory.

2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* panel_config.c: (update_config_back), (value_changed),
	(background_page): gnome_pixmap_entry_gtk_entry to
	gnome_file_entry_gtk_entry.

2001-10-19  Glynn Foster <glynn.foster@sun.com>

	* menu.c: added casts to GTK_MENU to remove some compile
	  warnings 

2001-10-19  Mark McLoughlin  <mark@skynet.ie>

	* bad-applet.c: (main): ported to new stcok icons.

	* foobar-widget.c: (append_gnome_menu): ditto.

	* gnome-run.c: (show_run_dialog), (load_run_applet): ditto.

2001-10-18  Mark McLoughlin  <mark@skynet.ie>

	* applet.c, basep-widget.c, button-widget.c,
	  conditional.c, drawer.c, extern.c, foobar-widget.c
	  gnome-panel-properties.c, gnome-panel-screenshot.c
	  gnome-run.c, launcher.c, logout.c, main.c
	  menu-properties.c, menu-rh.c, menu.c:
	ported gnome_.*_file -> gnome_program_locate_file
	       gnome_unconditional_.*_file -> gnome_program_locate_file
	       g_file_exists -> g_file_test
	       g_unix_error_string -> g_strerror

2001-10-18  jacob berkman  <jacob@ximian.com>

	* session.h (PANEL_CONFIG_PATH): set to panel2.d so you don't
	wreck your normal panel settings

	* main.c (main): 
	* launcher.c (launcher_file_name): 
	* session.c (get_correct_prefix): use PANEL_CONFIG_PATH rather
	than hard coding the path

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c, gnome-panel-properties.c,
	* panel_config_global.h, session.c: Remove 'simple_movement' and
	  opt for the slightly more complicated sin() algorithm as default.

2001-10-18  Mark McLoughlin <mark@skynet.ie>

	* main.h, main.c (panel_main_gconf_client): impl.

	* foobar-widget.c (pixmap_menu_item_new): port from 
	gnome_preferences_* to gconf.
	(add_tearoff): ditto.

	* tearoffitem.c (tearoff_item_new): ditto.

	* menu.c (menu_add_tearoff): impl to use gconf.
	(add_tearoff): kill.
	(submenu_to_display): use menu_add_tearoff.
	(start_favourites_menu): ditto.
	(create_menu_at_fr): ditto.
	(create_add_panel_submenu): ditto.
	(make_panel_submenu): ditto.
	(create_panel_submenu): ditto.
	(create_desktop_menu): ditto.
	(create_root_menu): ditto.

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* basep-widget.c, gnome-panel-properties.c, 
	* panel-widget.c, panel-widget.h, panel_config_global.h,
	* session.c, session.h: Remove 'auto_hide_step_size', 
	  'explicit_hide_step_size' and 'drawer_hide_step_size' and replace
	  for a single configuration 'hiding_step_size' for all 

2001-10-18  Glynn Foster  <glynn.foster@sun.com>

	* button-widget.c, gnome-panel-properties.c:
	* panel_config_global.h, session.c:  Remove fast_button_scaling
	  and use GDK_INTERP_HYPER as default instead.

2001-10-18  Glynn Foster <glynn.foster@sun.com> 

	* basep-widget.c, foobar-widget.c, gnome-panel-properties.c
	  menu.c, panel-widget.c, panel-widget.h, panel.c
	  panel_config_global.h,  session.c: Removed the applet_padding
          and applet_padding_border global properties and consequently
	  the no_padding_ends param on panel_widget_new

2001-10-12  Alex Larsson  <alexl@redhat.com>

	* panel_config.c (panel_config):
	un-ifdef out this function. Seems to work reasonably well
	already.

2001-10-12  Alex Larsson  <alexl@redhat.com>

	* main.c (kill_free_drawers):
	Queue up all the destroys until after we've gone through
	the panel_list, since the destroys can change the list.

2001-10-11  Alex Larsson  <alexl@redhat.com>

	* gnome-run.c (simple_contents_shown):
	Remove gtk_clist_columns_autosize() call. It crashed,
	and we only have one column anyway.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

        * foobar-widget.c (foobar_widget_update_winhints):
	Use the gtk hint calls.

	* basep-widget.c (basep_widget_update_winhints):
	Use the gtk hint calls.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* menu.c (menus_have_icons):
	New function that always returns TRUE. Should use GConf
	instead. Changed all gnome_preferences_get_menus_have_icons
	to menus_have_icons().
	(fake_pixmap_from_fake):
	Connect to the signals before showing the widget.
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* applet.c (applet_button_press):
	Don't return TRUE here, it makes the buttons not
	work. I'm not sure about the comment here in the old
	code. Returning TRUE never blocked anything in
	gtk 1.2....

	* panel-widget.c:
	Fix some code inside #ifdef PANEL_DEBUG
	
2001-10-11  Alex Larsson  <alexl@redhat.com>

	* menu-fentry.c (fr_fill_dir, fr_read_dir,
	fr_check_and_reread):
	Move to new GnomeDesktopItem api

	* menu-fentry.h (struct DirRect):
	renams dentry* to ditem*

	* menu.c (edit_direntry, add_applet):
	Warn when running commented function.
	(show_item_menu):
	Update to new GnomeDesktopItem API

	* panel.c (drop_urilist):
	Warn when running commented function.
	
	
2001-10-10  Alex Larsson  <alexl@redhat.com>

	* menu.c (add_drawers_from_dir):
	converted to use gnome-desktop-item, and removed
	#ifdef FIXME

2001-10-10  Mark McLoughlin <mark@skynet.ie>

	* extern.h, extern.c (extern_ref, extern_unref, 
	  extern_clean): privatise.
	  (extern_set_info, extern_(get|set)_orient, ): kill.
	  (extern_handle_*): impl. Privatise the handling of
	this stuff.
	  (socket_set_loading): remove ifdef FIXMEs and port
	usage of gdk_pixbuf_new_from_file.

	* applet.c (applet_callback_callback):
	  panel.c (freeze_changes, thaw_changes, size_change,
	  orientation_change, back_change):
	  session.c (send_tooltips_state):

2001-10-09  Mark McLoughlin <mark@skynet.ie>

	* panel-include.h: remove.

	* *.c, *.h: don't include panel-include.h. Include the
	actual required headers. Give automatic dependancy
	generation a chance.

	* aligned-widget.c (aligned_pos_class_init): use proper
	enum def instead of GTK_TYPE_ENUM.
	  basep-widget.c (basep_widget_class_init): ditto.
	  border-widget.c (border_pos_class_init): ditto.
	  panel-widget.c (panel_widget_class_init): ditto.
	  sliding-widget.c (sliding_pos_class_init): ditto.

	* Makefile.am: only generate the enums we actually
	want. Also don't include panel-include.h from
	panel-typebuiltins.c - include the required headers.

2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* extern.c: privatised the Extern struct. Implemented
	various set/get methods.

	* applet.c, panel.c, session.c: updated for above change.

2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* applet.c (show_applet_menu): get popup menu working.
	  panel.c (panel_event): ditto.
	  menu.c (menu_button_pressed): ditto.

	* menu.c (create_menu_at_fr): fix core dump.
	(make_add_submenu): ditto.

	* menu-util.h, menu-util.c (applet_menu_position): add
	new push_in param for gtk_menu_popup callbacks.
	(panel_menu_position): ditto.
	(get_default_menu_flags): make not const - it calls a
	non-const function.
	
2001-10-08  Mark McLoughlin <mark@skynet.ie>

	* menu.c (create_applets_menu): warn if we can't find applets
	menu directory.
	(create_root_menu): only setup an applets menuitem if we have
	managed to create an applets menu.

	* foobar-widget.c (foobar_widget_init): init foo->tasks.

 	* logout.c, main.c, menu-properties.c, menu-util.c, menu.c,
	  panel-util.c, panel.c, session.c, sliding-widget.c,
	  status.c, aligned-widget.c, applet.c, basep-widget.c,
	  drawer.c, extern.c, global-keys.c, gnome-run.c, swallow.c,
	  launcher.c: remove unused extern defs.

Thu Sep 27 01:03:48 2001  George Lebl <jirka@5z.com>

	* menu.c: port more things to ditem

	* main.c: fix segfault, change the warning dialog so that people
	  don't have to set evil env variables

	* *.c: fix includes, replace g_concat_dir_and_file with
	  g_build_filename, and g_basename with g_path_get_basename,
	  uncomment a couple more things that now compile.  Whack the
	  references to the hacks.  Use new help API for the help stuff.

2001-09-26  Christian Rose  <menthos@menthos.com>

	* panel.hints: Fix reported "medans" typo.

2001-09-24  Glynn Foster <glynn.foster@sun.com>

	* configure.in, Makefile.am, libpanelapplet-2.0.pc.in:
	  Add libpanelapplet-2.0 pkg-config file. It probably
	  isn't 100% correct yet.

Fri Sep 21 12:16:18 2001  George Lebl <jirka@5z.com>

	* applet.c, button-widget.c, foobar-widget.c, global-keys.c
	  gnome-run.c, launcher.[ch], main.c, menu.c, panel-util.c,
	  panel.c, session.c, swallow.c:  Make the beast compile.  Fix
	  uses of panel_error_dialog, fix usage of GnomeDesktopItem,
	  fix typos, fix includes, smoke some crack, and get rid of remaining
	  uses of panel_file_exists

Fri Sep 21 01:40:50 2001  George Lebl <jirka@5z.com>

	* *.[ch]: use GType for types

	* extern.c, gnome-run.c, launcher.[ch]: do more ditem porting

Thu Sep 20 15:17:33 2001  George Lebl <jirka@5z.com>

	* launcher.c, swallow.c: Do some DesktopItem porting, remove some
	  FIXMEs

	* *.[ch], panel-util.[ch]: whack panel_file_exists and
	  panel_is_program_in_path, since those are now nice and working
	  in the libs.

2001-09-10  Frank Belew  <frb@ximian.com>
	* panel/launcher.c: changed references to removed functions to use
		gnome_desktop_item_get_string instead

Fri Sep 07 14:09:51 2001  George Lebl <jirka@5z.com>

	* *.c: include libgnome/libgnome.h and libgnomeui/libgnomeui.h

Tue Sep 04 23:07:54 2001  George Lebl <jirka@5z.com>

	* Makefile.am, basep-widget.[ch], conditional.c, foobar-widget.c,
	  gnome-run.c, main.c, menu.c, panel-util.c, panel-widget.c,
	  panel_config.c, session.c, tasklist_icon.c:  Reenable some things
	  and ifdef out others.  Put gnome-run back.  Compiles with latest
	  libgnome/ui now.

2001-08-31  Kevin Vandersloot <kfv101@psu.edu>

	* panel_widget.c (panel_widget_get_free_space): fix 
	initializing of right, left ints. They were switched. This
	fixes the case where the tasklist wouldn't honor the
	"Only use empty space" option.

2001-09-01  Darin Adler  <darin@bentspoon.com>

	* conditional.c:
	* drawer.c:
	* main.c:
	* menu.c:
	* panel_config.c:
	* session.c:
	* session.h:
	Fix includes to start on the porting to GNOME 2.

2001-08-26  Seth Nickell  <snickell@stanford.edu>

	* foobar-widget.c:

	Include time.h since we use time_t structures.
	
	* gnome-panel-properties.c: (show_page):
	* nothing.cP:

	Call gtk_notebook_set_current_page as gtk_notebook_set_page
	is deprecated.

2001-08-18  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added rules to create panel-typebuiltins.[ch].

	* panel-typebuiltins.[ch]: Create these files from glib-mkenums.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Put gwmh back, less work this way.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* extern.c (panel_corba_gtk_init): Make this actually work.

	* Makefile.am: Renamed panel to panel-2, commented out the
	applet and status libraries, removed everything else.

	* panel.server.in: New file.

	* panel.gnorba, panel.soundlist: Removed.

2001-08-12  Martin Baulig  <baulig@suse.de>

	* main.c: Put in some protection so that panel won't start up
	unless explicitly told to - so it won't ruin your desktop if you
	accidentally start it.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Renamed the `panel-temp' target back to `panel'.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* scroll-menu.[ch]: Removed.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* extern.c: Ported to GTK+ 2.0, but `#ifdef FIXME' the CORBA
	stuff - will be fixed after dinner :-)

	* launcher.c Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* menu-properties.[ch]: #ifdef FIXME some stuff.

	* scroll-menu.[ch]: Ported to GTK+ 2.0.

	* swallow.[ch]: Ported to GTK+ 2.0, but `#ifdef FIXME'.

2001-08-11  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Disable the gwmh stuff for the moment and
	#ifdef FIXME it everywhere.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* panel-include.h: #include <libgnome/gnome-i18n.h> and
	<libgnome/gnome-util.h>.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added some more files to panel-temp.

	* launcher.[ch]: GnomeDesktopEntry -> GnomeDesktopItem, only
	half-way done, so FIXME.

	* applet.c: Ported to GTK+ 2.0, did some GnomeDesktopItem stuff,
	has `#ifdef FIXME' issues in the ditem code.

	* menu-fentry.[ch]: Ported to GTK+ 2.0, did some
	GnomeDesktopEntry -> GnomeDesktopItem stuff, has larger
	`#ifdef FIXME' issues.

	* menu-properties.c: Don't #include "icon-entry-hack.h".

	* menu-rh.c: `#ifdef FIMXE' some stuff.

	* menu-util.c: Ported to GTK+ 2.0.

	* menu.c: Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* panel-util.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* panel_config.c: Ported to GTK+ 2.0, but `#ifdef FIXME' large parts
	of this file.

	* nothing.cP: Ported to GTK+ 2.0, `#ifdef FIXME' the sound stuff.

	* swalloc.c: Some GnomeDesktopEntry -> GnomeDesktopItem stuff.

	* session.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* drawer.c: Ported to GTK+ 2.0, has `#ifdef FIXME' issues.

	* status.c: Ported to GTK+ 2.0.

	* logout.c: Ported to GTK+ 2.0.

	* basep-widget.c, button-widget.c, foobar-widget.c, main.c:
	Don't use gnome_program_locate_file().

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_temp_SOURCES): Added
	rgb-stuff.[ch],	tearoffitem.[ch], title-item.[ch],
	title-item-private.h, panel.[ch].

	* panel.c: Ported to GTK+ 2.0.
	[FIXME: There's gnome_uri_list #ifdef FIXME'ed].

	* main.c: Forgot a GnomeDialog -> GtkDialog.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_temp_SOURCES): Added
 	border-widget.[ch], edge-widget.[ch], aligned-widget.[ch],
	drawer-widget.[ch], sliding-widget.[ch], floating-widget.[ch].

2001-08-09  Martin Baulig  <baulig@suse.de>

	* Makefile.am (panel_SOURCES): Removed everything
	which is in panel-temp so that we know which files
	still need to be ported.

2001-08-09  Martin Baulig  <baulig@suse.de>

	* foobar-widget.[ch]: Ported to GTK+ 2.0.

	* Makefile.am: Added foobar-widget.[ch] and
	tasklist_icon.[ch] to panel-temp and fixed
	the marshaller creation.
	
2001-08-07  Martin Baulig  <baulig@suse.de>

	* main.c: Ported to GNOME 2.

	* panel-widget.c: Ported to GTK+ 2.0.

	* button-widget.[ch]: Ported to GTK+ 2.0.

	* basep-widget.[ch]: Ported to GTK+ 2.0.

2001-08-07  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Added `panel-temp' target with all files which are
	already ported to GNOME 2.

	* panel-marshal.list, panel-marshal-main.c: New files.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* aligned-widget.c, applet-widget.c, border-widget.c,
	button-widget.c, floating-widget.c, gnome-panel-screenshot.c,
	main.c, panel-widget.c, sliding-widget.c, status-docklet.c:
	Merged the basic GTK+ 2.0 port from the GNOME20.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* *.[ch]: #include <libgnomeui.h> instead of <gnome.h> and
	#include <bonobo-activation/bonobo-activation.h> instead
	of <libgnorba/gnorba.h>.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* *.h: Use G_BEGIN/END_DECLS everywhere.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Updated for the GNOME 2 platform.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* ChangeLog-20010806: Copied current ChangeLog to ChangeLog-20010806
	and started a new ChangeLog file for GNOME 2.0.

