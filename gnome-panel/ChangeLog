Thu May 14 03:28:25 1998  George Lebl  <jirka@5z.com>

	* main.c: use fork again to start applets so that we don't
	  swallow stdout from the applet, this makes the posibilities
	  of param stuff less viable, but we still support a single
	  applet cmdline parameter

	* gnome-panel.idl,main.c,panel.[ch],applet-widget.[ch],
	  mico-glue.(cc|h),applet-lib.(cc|h): dorestart varaible,
	  (stored in AppletInfo's ->data field (slightly hackish:))
	  which makes it possible for multiple type applets, all
	  kinds of weird queue stuff added to make this work, but
	  NO testing whatsoever, except that it doesn't seem to
	  break the older stuff

Tue May 12 01:29:19 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc:
	  removed the query call as multiple applets
	  will be handeled on the panel side

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc,main.c,
	  panel.[ch],menu.c: added support for parameters
	  to applets, seems pretty hackish mainly because
	  it tries not to break existing config file format,
	  which it doesn't as far as I can see

Mon May 11 00:44:25 1998  George Lebl  <jirka@5z.com>

	* main.c: start applets witha shell and get the pid
	  in a slightly round about way

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc: added
	  some framework of the multiple applet support, this
	  should be coming soon to an applet-widget.c near
	  you. (to reduce overhead of multiple processes)

Sun May 10 19:33:23 1998  George Lebl  <jirka@5z.com>

	* menu.c: add gui to swallow adding

Fri May 08 02:36:04 1998  George Lebl  <jirka@5z.com>

	* panel.c: remove BAD HACK(tm) (since it's after the release and
	  teh new gtk 1.0 is non-buggy), also general cleanup after -Wall

Fri May 08 01:18:43 1998  George Lebl  <jirka@5z.com>

	* drawer.c,main.c: move applet_move code over and use
	  size_allocate on drawer buttons

	* panel-widget.c: don't move_window for drwawers if we are
	  already at the rigth location

Fri May 08 01:13:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: cleanups and fixes after -Wall

	* swallow.c: fixes, might now actually work kind of,
	  still got a badwindow, but it will work (eventually)

Fri May 08 00:13:49 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for free movement handeling

	* panel.c: actually save free movement setting

Thu May 07 22:29:54 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.[ch], main.c, apnel-widget.[ch], panel.c:
	  disable animations option, for slow displays

Thu May 07 18:57:38 1998  George Lebl  <jirka@5z.com>

	* fish*: moved fish over to applets

Thu May  7 19:19:42 1998  Havoc Pennington  <hp@pobox.com>

	* fish.c: When you left-click on the fish, it tells your fortune.

Thu May 07 02:11:28 1998  George Lebl  <jirka@5z.com>

	* logout.[ch], main.c, menu.c: logout finally added as an internal
	  applet type, since we now have the fish testing applet which is
	  far cooler then logout

Thu May 07 01:59:18 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c, panel.c, panel_global_config.[ch]:
	  set drawer animation speed.

Thu May 07 00:18:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix to the forbidden handeling

	* panel.c, main.c, panel_config_global.[ch]: added a "really
	  log out" dialog and an option for it

Tue May 05 12:17:38 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: we set state BEFORE we connect the toggled
	  signal so that it doesn't get toggled on the set_state, but
	  it doesn't amtter too much in this dialog since we set the
	  propertybox later (I had to take it out into the main
	  function) was tehre any particular reason someone changed
	  the set_state to go after the toggled connect? the values
	  are set in teh function that inits the panel so we never
	  need to go to teh toggled unless the user himself toggles
	  the thing.

Mon May 04 22:31:06 1998  George Lebl  <jirka@5z.com>

	* menu.c: use some gnome-stock pixmaps

	* gnome_config.c,gnome_config_global.c: minor fixes

Mon May 04 22:04:32 1998  George Lebl  <jirka@5z.com>

	* menu.c: added an about box

Mon May 04 21:43:12 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed the properties dialog, so it now
	  closes, and there was a show missing for the pixmap
	  when applying changes

Mon May 04 21:13:53 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.[ch]: added main menu count
	  and added a way for the remove item to be grayed out, if
	  either you right click on the last main menu or if you
	  right clock on a full panel (you can only remove empty
	  ones)

1998-05-04  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* launcher.c (properties_apply_callback): Made launcher use the
	gnomepropertybox widget. 

Mon May 04 15:05:22 1998  George Lebl  <jirka@5z.com>

	* panelwidget.[ch],main.c,panel.c: maintain a list of
	  forbidden panels for drawers and make panels aware
	  of the drawer button widget, this way it's impossible
	  to "loop" drawers so they don't "run away" :)

Mon May 04 03:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed an ugly bug in make_empty_pos

Mon May 04 03:33:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: added the signal return stuff

Sun May 03 23:04:07 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],applet-lib.(cc|h): a bit of reshuffling
	  and cleanups and more also added most of teh corba
	  fucntionality to the applet-widget

	* applet-lib.c: fixed a leak, don't use hash table for callbacks

Sun May 03 16:55:57 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: new interface to the corba stuff
	  makes it all much nicer

	* Makefile.am: link the appletwidget into applet-lib
	  (now it's impossible to write an applet without it
	  due to the dumbass way I did the stuff before, but not
	  to worry, I've ported all the appelts to use it

Sun May 03 12:35:34 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a "BAD HACK(tm)" to work around the 
	  colormap problem as suggested by owen, should be
	  removed once gtk is fixed after the release

Sun May 03 03:35:05 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: minor fixes, remove blocking
	  as it is not needed

	* panel.c: minor fixes

Sun May 03 02:52:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: clean section before saving applet info

	* panel-widget.c: fix for adding applets

Sun May 03 02:16:53 1998  George Lebl  <jirka@5z.com>

	* launcher.[ch]: decorbaized

	* panel.[ch],main.c: integrated the launcher applet into the
	  main application. this makes things a hellovalot more stable
	  actually, also added a way for the panel to read old
	  config files so that all of you who have alreay some kind of
	  setup won't have to change it

	* panel.sh: removed for good

	* Makefile.am: don't build launcher_applet and don't
	  install panel.sh, plus ad dthe launcher sources to
	  panel app

	* gnome-panel.idl, mico-glue.(cc|h): removed the launcher
	  interface

Sat May 02 23:56:34 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: dearrayizification is now officially
	  complete and the code is out, everything seems stable ...

Sat May 02 23:39:07 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: finished dearrayification, the
	  array is still in, I'll remove it after the commit,
	  but I want to be able to back out of large removals:)

Sat May 02 17:58:02 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: slow de-arrayifying of the
	  widget begins, the list implementation is
	  smaller, leaner, meaner, cleaner :) it still
	  works ok, I am doing all this while keeping it
	  working (though it might not be working 100%
	  efficently now, but it never really did:)

Sat May 02 12:51:58 1998  George Lebl  <jirka@5z.com>

	* applet-lib.h: added necessary declarations to remove
	  the need for applets to see panel.h and panel-util.h

	* launcher.c, logout.c: removed unneccessary includes

Sat May 02 12:37:14 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanup, fix get_pos

Sat May 02 02:39:59 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix for reparent

Sat May 02 02:34:08 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: keep the list sorted by position, plus
	  various fixes

	* panel.c: fixes ... should now terminate ok with drawers

Fri May 01 23:01:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: implement a new simple movement
	  type (free movement, sort of like it was before I
	  wrote the panel-widget), the old one is still default

	* panel.c,main.c,panel_config.c,panel_config_global.[ch]:
	  added support for the new movement type, plus minor fixes

Fri May 01 19:33:05 1998  George Lebl  <jirka@5z.com>

	* panel_config.c,panel-widget.c: made it possible to
	  disable background pic once added

Fri May 01 16:44:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added the right sticking, if the panel
	  size increases, the applets that are all the way to the
	  right are pushed right again, this works pretty good for
	  me.

Fri May 01 15:58:33 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed launcher, now sets the right size
	  when applying properties, and now won't crash when you
	  apply/open properties the second time

Fri May 01 03:16:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: fixed the mess with currently_dragged
	  _applet and drag blocking. converting most stuff to use
	  AppletData instead of position and/or widget pointer

Fri May 01 02:59:06 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanups

Fri May 01 02:31:12 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: starting of general cleanup of the
	  widget, more corruption detection, and a corruption
	  fix.

Fri May 01 01:55:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed shaking of applets, applet_put
	  is now more heavy weight and is used by adjust_applet

Fri May 01 01:30:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: a whole bunch of fixes to the new
	  list storage, otehr small fixes, plus there now
	  is some corruption recovery code in, in case it
	  happens.

Thu Apr 30 19:08:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: use a linked list for the list of
	  with positions etc, should make it more robust and
	  faster

	* panel-widget.c: instead of re-reseting the size to
	  the minumum all the time, get the exact size and
	  use that

Thu Apr 30 14:43:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: if adjust applet detects corruption
	  it dumps the panel before the warning

	* panel-widget.c: restructured the way in_drag is set
	  to avoid a very small race

Thu Apr 30 14:22:36 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: add handle pixmaps to
	  drawers, right now using "panel-menu-main.xpm"

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel-widget.c (panel_widget_dnd_droped_filename): Add a busy
	cursor while we load the image.
	
	* panel-widget.c (panel_widget_dnd_droped_filename): Added support
	for dropping graphic images directly on the panel for quickly
	changing the background image. 

Thu Apr 30 01:37:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed size_allocate optimization
	  bug

Thu Apr 30 01:15:54 1998  George Lebl  <jirka@5z.com>

	* applet-lib.(cc|h): removed the grab functions and
	  the fleur cursor var, since they aren't needed any
	  more

	* ChangeLog: :%s/\<teh\>/the/g (it was time again:)

Thu Apr 30 01:11:24 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc: a new call for
	  checking if an applet is in drag

	* panel-widget.[ch]: global variable which specifies
	  if an applet is being dragged or not

	* panel.c: use grabing functions for drags of corba applets

	* applet-lib.cc: don't keep track of dragged applets,
	  and ask panel for that info, this makes corba applets
	  erspond to every button2 click

	* panel-widget.c: put eventbox behind the dropzone to
	  catch it's button press so we can get a menu

Wed Apr 29 23:07:38 1998  George Lebl  <jirka@5z.com>

	* drawer.c,panel-widget.[ch]: store position of drawers
	  in the panel structure

	* main.c: fixed the move sub-drawer bug.

	* panel-widget.c: drawer open/close should be a little bit
	  saner now

Wed Apr 29 00:32:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: some more weirdness fixed, hopefully,
	  this is the last panel corruption bug, and the rest seem
	  quite cosmetic bugs

Tue Apr 28 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added frame to the panel widget struct,
	  made drawer movement use window resize (this isn't completely
	  finished)

Tue Apr 28 01:24:11 1998  George Lebl  <jirka@5z.com>

	* launcher.c: gnome_pixmap doesn't enjoy null filenames, this
	  fixes the default pixmap problem with the launcher

Tue Apr 28 01:12:15 1998  George Lebl  <jirka@5z.com>

	* panel_widget.c: fixed some more weirdness, and I can't make
	  it mess up just now so maybe I fixed it all, ... but I
	  doubt that

Tue Apr 28 01:03:43 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed several bugs, especially with
	  size allocation of applets when moving, and applet
	  weirdness on the right side of the panel, there is
	  still some weirdness going on, but less of it and
	  I think I know where to look for trouble

Mon Apr 27 01:42:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor move fix

Mon Apr 27 00:48:57 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed the "move closed drawer" bug

Mon Apr 27 00:42:02 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed some lines to 80 columns

	* panel-widget.c: a few debugging messages and
	  a minor fix, all because push_left seems to be very
	  broke, but it may be seize_space that's messed up

Sun Apr 26 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: few fixes, now actually pushing
	  widgets apart when adding, feels more natural

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): Fixed typo.

	* panel.c (panel_session_save): Set discard command for session
	manager.
	* main.c (main): Set restart and clone commands for session
	manager.  Pass argv[0] as client data to panel_session_save.

Sun Apr 26 12:44:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: small fix on panel_widget_move

	* panel_config.c: fix a cast

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_LIBADD): Don't include -lcrypt;
	configure finds it if it is needed.
	(launcher_applet_LDADD): Likewise.

	* cookie.h: Only include <crypt.h> if HAVE_CRYPT_H defined.

Sat Apr 25 14:20:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the find_new pos and reparenting
	  to full panels, there are still problems with some of
	  this stuff which I will deal with later

Sat Apr 25 00:13:16 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: feeble attempts to make the
	  drawer not flash at 0,0 on startup

	* panel-util.c: move_window moved here since it's
	  being used in more files and doesn't really
	  belong anywhere else

Fri Apr 24 23:46:03 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a way to add main menu to a panel

	* panel.c: use destroy on panels instead of unref,
	  makes it not crash when removing drawers

Fri Apr 24 01:16:26 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc,mico-glue.cc,launcher-lib.cc,cookie.h:
	  use crypt call for cookies

	* cookie.c: slightly redo/fix cookie generaion

	* Makefile.am: added -lcrypt

Fri Apr 24 00:06:58 1998  George Lebl  <jirka@5z.com>

	* cookie.h: added, includes the CHECK_COOKIE macros
	  and create_cookie definition. the CHECK_COOKIES
	  now spitout a warning with file and line so we can
	  see if there are any bugs remaining (races)

	* main.c, applet-lib.cc, launcher-lib.cc, mico-glue.cc:
	  use cookie.h, read cookie on corba_reinit, allways
	  reread cookie on launcher calls to prevent races

Thu Apr 23 23:28:54 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: interpanel moving bugs fixed and
	  add/reparent flicker reduced

Thu Apr 23 22:23:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix several geometry problems, most
	  notably the "applet moves past the end and corrupts
	  the panel-widget" bug.

Thu Apr 23 21:24:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed warnings on exit when applets were removed

	* main.c: fixes to the SIGCHLD handler to fix warnings
	  and a small memory leak

Thu Apr 23 20:52:30 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed the socket bug workaround as that is
	  now in libgnomeui

Thu Apr 23 14:59:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a workaround around gtk_socket destroy bug

Thu Apr 23 02:35:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: configuration save fixes, cleanups

Thu Apr 23 02:25:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: geometry fixes

	* drawer.c: put drawer outside of it's parent

Thu Apr 23 00:32:49 1998  George Lebl  <jirka@5z.com>

	* drawer.c: raise on enter_notify on button, and
	  center drawers

	* panel-widget.[ch]:added a frame inside the table
	  to make the whole thing look more 3D-ish, also use
	  hidebutton widgets for drawers as it saves some
	  headaches and simplifies the code quite a lot

Wed Apr 22 19:49:36 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix reentrant bug in panel_clean,
	  removed unused code on shutdown.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Added support for a background pixmap.

	* main.c (init_user_panels): Simplified the use of gnome_config by
	using the gnome_config_push_prefix.

	* panel.c (save_panel_configuration): Simplified the use of
	gnome_config by using gnome_config_push_prefix.
	(panel_session_save): Likewise.

	* panel_config_global.c (panel_config_global): Made it use
	GnomePropertyBox as well.

	* panel_config.c (panel_config): Made it use GnomePropertyBox
	instead of hand-done property configurator.

Wed Apr 22 02:25:39 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added change_drop_zone_pos function

Wed Apr 22 02:24:50 1998  George Lebl  <jirka@5z.com>

	* drawer.c: proper orientations set

Wed Apr 22 02:12:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: checks for info!=NULL

	* panel.c: remove SIGCHLD handler before we kill panels,
	  so that we don't get into trouble cleaning cleaned applets
	  etc...etc.. also catch destroy event and clean applet

Wed Apr 22 01:46:49 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed popup menu segfault, few sanity
	  checks in menu_pos code

Wed Apr 22 00:20:04 1998  George Lebl  <jirka@5z.com>

	* drawer.c: actually set orientations of drawer's panel

Tue Apr 21 15:36:15 1998  Tristan Tarrant  <ttarrant@suntlc.etnoteam.it>

	* main.c: use <sys/wait.h> for portability

Mon Apr 20 00:37:22 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: use g_snprintf

	* panel-widget.[ch]: expose pop_up call, use drawers_open
	  to block autohide

	* main.c: track drawers, pop_up when adding a drawer

Sat Apr 18 23:31:03 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: added a couple of macros that
	  do the casting of integers to/from pointers
	  without warnings.

Sat Apr 18 23:16:22 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: made applets an array and make the
	  whole thing pass applet_id around instead of a pointer
	  this solves a bunch of braindamages, but also makes
	  the whole thing give a bunch of warnings since I'm
	  passing integers though pointers. This all should
	  make memory weirdness less likely.

Sat Apr 18 00:05:53 1998  George Lebl  <jirka@5z.com>

	* menu.c: launch appets with load_applet so that we can
	  trap the SIGCHLD and remove applet when it dies

Fri Apr 17 19:53:09 1998  George Lebl  <jirka@5z.com>

	* panel.c: minor fixes to the remove code, sanity checks

Fri Apr 17 19:42:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: remove applets that die (only
	  those started on startup)

Fri Apr 17 17:31:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: move from menu now works

Fri Apr 17 00:10:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed double g_free that was causing
	  some very weird stuff to happen.

	* panel.c: implemented the scheme for applets requesting
	  their stuff not to be saved by returning false on
	  session_save

Thu Apr 16 22:07:13 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc|h), applet-lib.(cc|h),
	  logout.c, launcher.c: save_session corba call now
	  returns TRUE/FALSE. not yet completely implemented
	  but applets should return TRUE

Thu Apr 16 21:19:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for size changes, performance
	  improvements

1998-04-16  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu.c (create_menu_applet): Removed memory leak.

	* panel.c (register_toy): Fixed compiler warning. 

Wed Apr 15 21:42:08 1998  George Lebl  <jirka@5z.com>

	* panel.[ch], main.c, mico-glue.cc: if addition to panel
	  fails, it is now handeled gracefully

Wed Apr 15 20:14:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc: no more shutdown_applet
	  mess. now it's handeled by the destroy signal on the plug.

	* panel.c: now only destroys the panel, doesn't send any
	  corba messages to shutdown

	* main.c: fixed a nasty bug on startup where I was using an
	  uninitialized value

Wed Apr 15 16:38:45 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: get current session_id when
	  saving, exit when save session is_shutdown,
	  some debugging info

Wed Apr 15 00:30:44 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: implemented session managment, seems
	  to work without a session manager, but I can't get
	  gnome-session to work so I can't test that ... but
	  the code is there ... waiting to be debugged

Tue Apr 14 21:43:55 1998  George Lebl  <jirka@5z.com>

	* launcher.c: use tooltips

	* main.c,panel.[ch],applet-lib.(cc|h),gnome-panel.idl,mico-glue.cc
	  de "id"ized to make future objc bindigs happy

	* panel.[ch], applet-lib.(cc|h), mico-glue.cc: added tooltips
	  support

Tue Apr 14 20:45:02 1998  George Lebl  <jirka@5z.com>

	* launcher.c: added properties callback

Tue Apr 14 20:43:46 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu.c: start up launcher_applet in main
	  and kill it on exit

	* panel.sh: removed starting of launcher

Tue Apr 14 19:17:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: made swallows and drawers compile time
	  selectable

Tue Apr 14 18:33:21 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: I must be dumb ... 1 is not the
	  same thing as -1 :) This fixes the panel segfault
	  thx dr mike ...

Tue Apr 14 12:09:43 1998  George Lebl  <jirka@5z.com>

	* main.c: queue loading of applets until everything
	  is done, but I still can't load up the clock
	  applet as default without segfaulting

Sun Apr 12 12:37:44 1998  George Lebl  <jirka@5z.com>

	* panel.c: now actually sends orientation changes
	  to new EXTERN applets (it has to wait until they
	  register their ior

Sat Apr 11 18:00:01 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made the swallow app stuff work better,
	  waits for the window (right now only through timeout)

Sat Apr 11 17:35:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c, panel.c: cleanups, fixed grab problem

Sat Apr 11 16:37:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], drawer.c: added smooth drawer animation

	* panel.c: deleted an unused function.

Sat Apr 11 12:00:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: made some parameters global since
	  they were used this way already. this cleans up
	  some ugliness and makes hide buttons behave nice
	  in autohide mode

	* main.c, panel.c, drawer.c, panel_config.c panel_config_global.c:
	  adapted to using the globals as globals

Sat Apr 11 02:26:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: make stepsizes work again, use log curve
	  for starts and stops.

1998-04-10  Russell Nelson  <nelson@crynwr.com>

	* panel-widget.c: make slide open and close animations
	smoother by adding acceleration and deceleration.

Wed Apr 08 23:50:44 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made swallowing to work!!! right now you
	  have to hand edit the config file to add these
	  critters though ...

Wed Apr 08 23:15:52 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made resizing panels work, thx owen

	* swallow.c: find the right window id according to
	  the title. (reparent doesn't seem to work yet though)

Tue Apr 07 23:14:37 1998  George Lebl  <jirka@5z.com>

	* main.c: fix menu geometry

Tue Apr 07 00:18:26 1998  George Lebl  <jirka@5z.com>

	* main.c: orientation actually works

	* panel-widget.c: more work on hunting down the resizing
	  bug when moving an applet from a drawer, it seems that
	  set_usize is ignored

Mon Apr 06 23:03:30 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed crashing  by doing orientation in
	  an idle handler after the move from panel to panel

Sat Apr 04 23:31:05 1998  George Lebl  <jirka@5z.com>

	* swallow.c: more swallow applet work

	* main.c: laoding of swallow applets in place

Sat Apr 04 19:17:01 1998  George Lebl  <jirka@5z.com>

	* swallow.[ch]: beginnings of a swallow applet.

Sat Apr 04 12:27:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: use gtk_widget_reparent to move
	  the applet on interpanel move, but it still doesn't
	  wanna move from a drawer without badwindowing

Sat Apr 04 01:45:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: drawers can't add themselves
	  to themselves, and interpanel movement now uses 20
	  pixel border to jump to panels, still doesn't work
	  right for drawers and external applets

Sat Apr 04 00:47:17 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: set size when packing, fix warning
	  in size_allocate

Sat Apr 04 00:29:11 1998  George Lebl  <jirka@5z.com>

	* mico-glue.cc: cleanup function to clean up the
	  gnome-config hack to spitting out the iior.

	* panel.c: call the cleanup and call has_section
	  before clean_section

Fri Apr  3 22:43:35 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (logout_applet_LINK): New macro.

Wed Apr 01 22:01:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added two new signals.

	* main.c: made interpanel moving work a bit better.

Wed Apr 01 01:01:05 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc: small fix to corect for temporaries
	  problems (never had this problem on my alpha:)

Wed Apr 01 00:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: now defines panels GList so that we
	  can do interpanel movement. interpanel movement is now
	  implemented

	* panel.c, main.c: removed all traces of dnd stuff (commented
	  out) only internal moving in panel-widget now in place.

	* main.c: sending orientation changes to extern applets
	  implemented.

	* panel-widget.c: fixed a warrning in set_position

Mon Mar 30 23:19:35 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: transfered drag to panel.c, now
	  works at least partially, only on windowless applets though
	  and it dies with badwindow when doing the drag.

Mon Mar 30 01:30:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: playing around with dnd, but can't get
          it to do anything useful

Sun Mar 29 15:25:19 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (AUTOMAKE_OPTIONS): New macro.

Sun Mar 29 01:16:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the annoying flicker of the
	  panel at pos 0,0, by using gtk_widget_set_uposition
	  instead of move_window routine

Sun Mar 29 00:46:07 1998  George Lebl  <jirka@5z.com>

	* panel-util.c: get rid of trailing '\n' in popen
	  implementation

1998-03-29  Raja R Harinath  <harinath@cs.umn.edu>

	* panel-util.c (get_full_path): Rewrite using `popen'.

Sat Mar 28 15:33:07 1998  George Lebl  <jirka@5z.com>

	* main.c: don't do get_full_path on params starting with
	  # which is not a path but an ident only

Sat Mar 28 15:23:33 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: riped out get_which_output from
	  applet-lib and put it in these new files while renaming
	  it to get_full_path.

	* Makefile.am: link in the new files

	* panel-widget.c: temporairly disable dnd code as it
	  doesn't work

	* main.c: call get_full_path from load applet

	* applet-lib.cc: add timeouts for contacting the panel
	  so that applets don't get "lost" due to a race

Fri Mar 27 01:48:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: dnd code in, but it doesn't work, needs
	  a bit of work I guess:)

Wed Mar 25 23:32:47 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: implemented drop support (no drag yet:)

Mon Mar 23 23:57:03 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed the bug of submenu's activating ... if
	  a dentry has nothing to execute it doesn't deserve an
	  "activate" callback.

Fri Mar 20 01:09:35 1998  George Lebl  <jirka@5z.com>

	* *.c: general cleanup after a -Wall compilation

Fri Mar 20 00:10:12 1998  George Lebl  <jirka@5z.com>

	* applet-lib.{cc,h}: implemented a way for applets
	  to find their absolute executable path

Thu Mar 19 18:21:45 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): Allocate two arguments for every
	argument in initial vector.

Wed Mar 18 23:10:27 1998  George Lebl  <jirka@5z.com>

	* launcher.c: redid the way applets are initially read in

	* panel.c: try contacting the launcher with a timeout and
	  then tell it to reread launchers

	* launcher.c: does not contact the panel, but waits until the
	  the panel contacts it

Wed Mar 18 18:13:35 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc: added unimplemented
	  tooltip calls.

	* panel.c: minor cleanups

Wed Mar 18 17:56:16 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, launcher-lib.cc,launcher.c:
	  impelmented restart all applets on the launcher side.

Wed Mar 18 01:03:52 1998  George Lebl  <jirka@5z.com>

	* menu.c: applets directory added to the Add to panel dir, read from
	  a directory applets (/usr/local/share/applets usually)

Wed Mar 18 01:02:34 1998  George Lebl  <jirka@5z.com>

	* menu.c, drawer.c, main.c: removed some old calls, no longer
	  passes window pointers around so it's a bit cleaner

Tue Mar 17 23:30:04 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: removed from panel, they
	  are in libgnomeui now

Tue Mar 17 23:22:50 1998  George Lebl  <jirka@5z.com>

	* clock.c: removed, clock is now in ../applets/clock/

Mon Mar 16 23:23:26 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: added the plug-socket
	  colde v0.1 (that's the newest I found:)

	* applet-widget.[ch]: removed in favor of plugsocket code

	* gnome-panel.idl,panel.c,mico-glue.cc,applet-lib.cc:
	  adapted to plugsocket code, slightly different calls
	  and the registration of applets acts slightly differently

	* clock.c, logout.c, launcher.c: ported to plugsocket

Mon Mar 16 17:56:08 1998  George Lebl  <jirka@5z.com>

	* panel.c,mico-glue.cc: implemented abort_applet_id
	  corba call.

Mon Mar 16 17:26:03 1998  George Lebl  <jirka@5z.com>

	* launcher.c: a few fixes, dumped the params field

	* panel.c: need to pause a second to make mtimes
	  different for gnome-config to work with two
	  programs writing to the same section at the same
	  time .. bad bad bad ... gnome-config is broke

Sun Mar 15 23:53:47 1998  George Lebl  <jirka@5z.com>

	* launcher.c: port to corba, acts like mc should,
	  needs to be started after panel starts manually
	  and killed after panel stops manually.

	* gnome-panel.idl: added unimplemented applet_abort_id
	  call and implemented applet_request_glob_cfg

	* mico-glue.cc: synced with gnome-panel.idl

	* applet-lib.cc: fixes, new methods above

	* launcher-lib.(cc|h): implemented what needs to be
	  done corba-wise with the launcher

Sun Mar 15 17:49:33 1998  George Lebl  <jirka@5z.com>

	* mico-glue.(cc|h): added a way to call new Launchers

	* launcher.c: more CORBA stuff

Sat Mar 14 01:38:34 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added menu positioning to popup menus
	  so they appear beside the widgets not on them

	* logout.c: now quits properly, I have to make this a
	  core applet instead of a corba applet, but it provides
	  soem corba testing now

	* gnome-panel.idl, mico-glue.cc,applet-lib.cc, panel.c ...:
	  implemented a global cfg path for applets to load/save
	  some general stuff (will be needed for multi applet applets)

1998-03-13  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel_config.c: Removed the definition of the '_' macro. Uses
 	definition in 'gnome-i18n.h' instead. To make this work I changed
 	the order, in which 'config.h' and 'gnome.h' are included.

	* panel_config_global.c: Likewise.

Fri Mar 13 02:42:56 1998  George Lebl  <jirka@5z.com>

        * panel.[ch]: fixed a race when starting applets, by
          having two states for applets (PENDING and RESERVED),
          this fixes the panel "loosing" applets in invocation

        * all files: commented out most debugging output, since it
          was getting difficult to use puts/printf since the new
          debugging was lost in the old etc ...

        * clock.c: once again I use an idle handler for killing
          myself. this solves the mico exception which wasn't
          all that nice really.

1998-03-13  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Include $(srcdir) too.

Thu Mar 12 02:29:18 1998  George Lebl  <jirka@5z.com>

	* panel.c, applet-lib.cc: made the menu work on the panel
	  side, and removed the menu from applet-lib. (funny how
	  you get ideas during writing the changelog)

Thu Mar 12 02:01:30 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: implemented the callbacks, right now
	  menu is built on the applet side and code is there to do a
	  unified applet menu stuff on the panel side, but I'd have to
	  find a sane way of sending the button press event so that the
	  menu would work, probably some hacking on the grabs could make
	  it work (release grab on the applet side, add grab on the panel
	  side...)

	* panel.c: a bunch of fixes

Wed Mar 11 22:42:39 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed a cpl of warnings

	* panel.c: for some reason not unreffing internal applets makes
	  shutdown not segfault.

	* panel.c: fixed a bug with multple applets

	* clock.c: shutdown now kills the applet (this causes
	  an exception)

	* mico-glue.cc: catch exceptions on shutdown

	* ChangeLog: :%s/\<teh\>/the/g

Wed Mar 11 18:15:41 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc,h), panel.c: session save is
	  now passed a cfg path to allow elaborate session saving

	* gnome-panel.idl, applet-lib.(cc,h), clock.c: callback
	  framework revised.

	* panel.c: removed some old stuff

Wed Mar 11 12:33:56 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXXFLAGS): New macro.

Wed Mar 11 00:00:49 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, and just about every file: external applets
	  now get restarted nicely. the session saving stuff slightly
	  revamped ... just as the starting stuff ... makes more sense
	  now. it still segfaults but oh well ...

	* clock.c: ported it to the new gnome-panel.idl interface

Tue Mar 10 01:31:25 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXX): Define.

	* Makefile.am (panel_SOURCES): Added mico-parse.h.
	* clock.c: Include "mico-parse.h".
	* cdplayer/cdplayer.c: Include "mico-parse.h".
	* logout.c: Include "mico-parse.h".
	* applet-lib.cc (gnome_panel_applet_init_corba): Removed argc,
	argv arguments.
	Include "mico-parse.h".
	* main.c: Include "mico-parse.h".
	* mico-glue.cc (panel_corba_gtk_main): Removed argc, argv
	arguments.
	Include "mico-parse.h".
	* mico-glue.h: Don't declare panel_initialize_corba,
	panel_corba_register_arguments.
	* mico-parse.cc (orb_ptr): Don't declare.
	(panel_initialize_corba): Use (*orb), not orb_ptr, as ORB.
	Include "mico-parse.h".
	* mico-parse.h: New file.

Sun Mar  8 18:55:09 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): MICO now takes "--" arguments.

	* Makefile.am (INCLUDES): Include GNOME_INCLUDEDIR.

Sat Mar  7 13:39:41 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_SOURCES): Added mico-parse.cc.
	(panel_SOURCES): Likewise.
	* cdplayer/cdplayer.c (main): Use new gnome_init.
	* logout.c (main): Use new gnome_init.
	* clock.c (main): Use new gnome_init.
	* applet-lib.cc (gnome_panel_applet_init_corba): Use
	panel_initialize_corba.
	* mico-parse.cc: New file.
	* mico-glue.cc (panel_corba_gtk_main): Use
	panel_initialize_corba.
	* main.c (init_session_management): Removed.
	(main): Use new session and argument parsing code.
	* mico-glue.h (corba_gtk_main): Removed.
	(panel_corba_register_arguments): Declare.

Fri Mar 06 20:57:04 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: external applets are now started

Thu Mar 05 22:22:53 1998  George Lebl  <jirka@5z.com>

	* main.c,panel-widget.c,drawer.c: new panel-widget signal
	  "applet_move" and got rid of restore_state signal. this
	  makes it possible for the drawers to move themselves
	  appropriately. initialization cleaned up and should work
	  fine for orientation other then bottom

Wed Mar 04 23:28:44 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: made signals work better, drawers
	  hide when their parent hides

Wed Mar 04 01:09:53 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c,panel.[ch]: few cleanups, made
	  orientation change work for menus

1998-03-04  Raja R Harinath  <harinath@cs.umn.edu>

	Move gnome-panel.idl and applet-{lib,widget}.* to libapplet.
	* clock/Makefile.am (clock_applet_LDADD): Link in `libapplet.a'.
	* cdplayer/Makefile.am (cdplayer_applet_LDADD): Likewise.

	* Makefile.am (SUBDIRS): Add `libapplet'.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/cdplayer.c (main): Get it to compile.

	* panel.c (add_main_menu): Use /* */ comment.

Sun Mar  1 00:58:11 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (gnome-panel.cc): Pass explicit --name to idl.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (set_orientation): Icons are now PNG files.
	(create_panel_menu): Likewise.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (create_menu_at): pixmap_name is now item_info->icon, as
	the format for desktop_entries has changed.
	(create_menu_at): Icon is scaled to the proper size.

Thu Feb 26 00:29:52 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc: added the id
	  parameter to panel->applet calls so one program could
	  maintain more applet easily.

Tue Feb 24 23:32:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added signals. it compiles, but
	  I can't really test it right now. isn't blind coding
	  fun :)

1998-02-24  Mark Galassi  <rosalia@cygnus.com>

	* mailcheck/mailcheck.c (mailcheck_load_animation): typo: the type
	here should have been GdkImlibImage * instead of GdkImlib *.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* batmon/batmon.c (init_module): ref and sink the tooltips.
	(destroy_module): Unref the tooltips properly.

	* mailcheck/mailcheck.c (mailcheck_load_animation): Whoops, it's
	not GdkImlib, it's GdkImlibImage.

Tue Feb 24 00:05:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc (others): changed the way
	  applets are destroyed a bit. cannot test anything as
	  the pixmaps seem to be very broken ....

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): Make it use gdk_imlib.

	* menu/main.c: 
	* logout/logout.c: 
	* launcher/launcher.c: 
	* panel-widget.c: 
	* menu.c:
	* drawer.c:
	* batmon/batmon.c: Modified to use GnomePixmap widget.

Sun Feb 22 23:04:54 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (BUILT_SOURCES): New macro.
	(gnome-panel.cc): Find gnome-panel.idl in srcdir.

Sun Feb 22 19:12:25 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc, panel.c:
	  add support for statesaving of applets though this
	  does not yet work.

	* panel.[ch]: remove some unused code

Sun Feb 22 02:58:00 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: reparenting mess hopefully cleaned
	  up. (there are two separate calls for setting up an
	  applet now)

Sat Feb 21 22:26:26 1998  George Lebl  <jirka@5z.com>

	* clock.c: took out the debugging button

Sat Feb 21 22:10:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made default panel width 48, and added a
	  second frame to the droptarget of drawers

	* applet-lib.cc: added applet menu

Sat Feb 21 17:08:23 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, panel.c mico-glue.cc,applet-lib.cc
	  panel-widget.c: external (corba) applets will move now

Sat Feb 21 16:48:35 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel.c: Simple stub routine that demostrates calling a CORBA
	function in the client code.   

	* gnome-panel.idl: New applet interface, right now it only serves
	for demostration purposes;

	* clock.c (main): It now uses applet_corba_gtk_main for its main
	loop.  Note that all of this glue that I am putting in the panel
	is to avoid putting C++ code in our nice Panel for now at least. 

	* applet-lib.cc (Applet_impl): Class that implements the
	Applet-server, this is the one that receives messages from the
	CORBA panel.

	All of this was so much easier than I though, all of this CORBA
	stuff just fits so nicely together once you figure it out :-). 

Sat Feb 21 01:21:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented corba events, but it now dies
	  with an error ... I'll see why it does that tommorrow

Sat Feb 21 00:24:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: simple applet widget with a window
	  and an event box so that events get trapped by the applet
	  and not partly by the panel.

	* gnome-panel.idl: added a callback for button presses, and
	  
	* panel.c, mico-glue.cc, applet-lib.cc, clock.c: implemented
	  (mostly) applet IDs for communication

Wed Feb 18 17:40:39 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mico-glue.cc, mico-glue.h: New files that include all of the
	server side C++ glue code.  This is in preparation for the
	upcoming C-only bindings that Elliot is writing. 

	* main.c: use the mico-glue code for the server support

	* Makefile.am: Rename panel -> corba_panel, this is the corbaized
	panel.

	* panel.in: New file, this one takes care of starting up the
	corba_panel with the proper arguments (to register corba_panel as
	a persistent corba server). 

Wed Feb 18 17:40:18 1998  Federico Mena   <federico@nuclecu.unam.mx>

	* menu.c (menu_button_press): Use event->time for right menu popup behaviour

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.c (main): Added app_id "panel-widget".

	* main.c (main): Added app_id "panel".

	* clock.c (main): Added app_id "clock_applet".

Wed Feb 18 23:01:11 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,drawer.c,panel.c,main.c: drawers kind of
	  work now (well you have to edit the config file to add
	  applets to them and they are ugly and don't work too
	  well)

Wed Feb 18 01:19:58 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch]: new files, for drawers (not finished yet)

	* panel.c, panel-widget.c, menu.c: changes mostly related
	  to drawers.

Tue Feb 17 21:12:45 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,panel.c,main.c: now saves drop zone
	  position, plus a couple of FIXME's addressed

Tue Feb 17 20:01:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: drawerlike panels are starting to work

Tue Feb 17 01:22:10 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more drawer code

Sun Feb 15 23:45:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c:  started work on drawer panels

Mon Feb 16 11:27:58 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* main.c (main): Added bindtextdomain().

	* Makefile.am (INCLUDES): Define GNOMELOCALEDIR.

Sun Feb 15 17:08:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: state preservation, identified 3
	  different hidden states

Sun Feb 15 15:16:44 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, panel-widget.h, main.c: fixed
	  a few bugs with panel-widget, added more support for
	  free floating panels

Sun Feb 15 00:34:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed a with applet placement.
	  debugging info left in for thy panel-widget shall
	  be tortured yet again, for thy panel has got an
	  ugly bug (still)

Sat Feb 14 17:55:48 1998  George Lebl  <jirka@5z.com>

	* menu.c, panel.h: menubutton is now an eventbox and works
	  liek a popup menu, adding menu applets works

Sat Feb 14 15:54:45 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c, panel_config.[ch], panel_config_global.[ch]:
	  split up configuration, integrated menu more closely with
	  panel

1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_quit): Changed to use new SM support.
	(panel_session_save): Changed to use new SM support.

	* main.c (init_session_management): Changed to use new SM
	support.

Sat Feb 14 02:11:12 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,menu.[ch]: internal menu somewhat integrated

Sat Feb 14 01:44:06 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (panel_LDADD): Don't include DL_LIB.  Do include
	INTLLIBS.
	(clock_applet_LDADD): Include INTLLIBS.

Sat Feb 14 00:50:44 1998  George Lebl  <jirka@5z.com>

	* Makefile.am, panel.c main.c, panel.h: ripped out all the
          stuff that was for the shared lib type applets, now it should
          be just adding of corba applets. note that it now doesn't work

1998-02-14  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Add $(X_CFLAGS).

Thu Feb 12 00:04:39 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c: more work towards menu/panel integration

Wed Feb 11 22:39:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: some preparations for menu integration, and internal
	  vs. external applets, preparation for drawer framework inside
	  panel.c instead of panel-widget

Wed Feb 11 20:59:04 1998  George Lebl  <jirka@5z.com>

	* menu.c, menu.h: added, but not yet fully pruned yet from the
	  applet code

Wed Feb 11 20:58:28 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, main.c: some refcounting fixes

Sun Feb 08 17:32:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more geometry work, orientation changes
	  work better, can push widgets left to gain space

Sun Feb 08 16:34:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: popup menu now properly disappears

	* panel-widget.c,panel.c,main.c: fixed several mistakes,
	  added panel_widget_move

	* panel-widget.c: orientation changes kind of work

Sun Feb 08 14:52:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], panel.c: move applet menuitem fixed

Sun Feb 08 12:19:55 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c, panel.h, panel-widget.c: fixed applet menu
	  to mostly work (no moving yet)

Sun Feb 08 00:58:33 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.c: added session saving,
	  fixed moving, fixed a couple of warnings.

Fri Feb 06 23:29:08 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added panel menu, fixed some "the_panel"
	  stuff.

Fri Feb 06 22:56:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c, ... : worked a bit on config saving,
	  and multiple panel support, compiles and mostly works
	  due to a hack which will disappear soon :)

Thu Feb 05 23:45:06 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c,applet_cmds.h,panel_cmds.h,ALL APPLETS:
	  switched to using panel-widget. it kind of works, and should
	  work with the newest gtk from cvs. session saving does not
	  work yet!

1998-02-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/Makefile.am (EXTRA_DIST): But still distribute
	cdrom-{linux,solaris}.c.

Wed Feb  4 00:39:32 EST 1998 Nathan Bryant <bryant@cs.usm.maine.edu>
	
	* cdplayer/Makefile.am: remove EXTRA_libpanel_cdplayer_la_SOURCES
	line, it caused things to fail while generating dependencies

1998-02-02  Raja R Harinath  <harinath@cs.umn.edu>

	Quick and dirty port of `panel/cdplayer' to Solaris.
	* Makefile.am (SUBDIRS): Conditionally build `cdplayer'. 
	* cdplayer/Makefile.am (libpanel_cdplayer_la_SOURCES): Build host
	specific cdrom backend.
	* cdplayer/cdrom-solaris.c: New backend for solaris.  Just a copy
	of cdrom-linux.c, replacing include of <linux/cdrom.h> with
	<sys/cdio.h>.
	
	* cdplayer/Makefile.am (dist-hook): Replace spaces with tab.

Wed Jan 28 11:39:16 1998  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* main.c (load_default_drawers): Added stub.

Thu Jan 29 04:31:23 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel.c, batmon/batmon.c, launcher/launcher.c,
	mailcheck/mailcheck.c, menu/main.c: Include <config.h>.  And
	remove any `#ifdef HAVE_LIBINTL ... #endif', which is done by
	gnome.h.

	* main.c: Include <config.h>.
	(main): Added textdomain().

Tue Jan 27 09:17:08 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (create_menu_at): Now directories are named
	according to the Name field in the .directory desktop entry.

	* menu/main.c (create_menu_at): Now menu items are named according
	to the Name file in their respective desktop entries.

Mon Jan 26 23:25:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a bunch of orientation bugs, make applet resize
	only do set_panel_position if it needs to (this is still not
	OOized)

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Removed #include "gnome-dl.h".

	* launcher.c: Modified the launcher applet to use the new
	name/comment fields in dentries instead of the old info field and
	filename.

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Changed void *dl_handle to GnomeLibHandle
	*dl_handle.

Sun Jan 25 23:33:07 1998  George Lebl  <jirka@5z.com>

	* panel.{c,h},applet_cmds.h: added orientation property to Panel

Sun Jan 25 20:51:23 1998  George Lebl  <jirka@5z.com>

	* main.c: can load drawers now

Sun Jan 25 18:58:07 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: fixed orientation changes affecting only one menu

	* panel.c: added "add main menu" to panel menu, switched "remove
	  applet" with "move applet" to avoid removing the applet by
	  mistake

	* applet_cmds.h: orientation is passed though params for greater
	  flexibility and tolerance of older modules

	* panel.[ch]: OOized the panel/drawer distinction, to help with
	  doing drawers

Sat Jan 24 19:31:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu/main.c: even more drawer code added. drawers aren't
	  fully implemented yet though!

Sat Jan 24 17:58:52 1998  George Lebl  <jirka@5z.com>

	* panel.c: eliminated jerky movement by using an idle function for
	  movement, merged move_applet functions into one.

	* panel.c: a few cleanups, some more drawer code in.

Fri Jan 23 14:36:42 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): The properties 
	dialog is now destroyed if the applet is removed from the panel
	while the dialog is active.
	(mailcheck_properties): We only allow one instance of the
	properties dialog to be active.
	(load_new_pixmap_callback): Removed unused variable cmd.
	(mailcheck_notification_frame): Beautified the dialog a bit.
	(mailcheck_destroy): If you removed the mailcheck applet from the
	panel and later tried to re-add it from the panel menu, it didn't
	work.  Fixed.

Fri Jan 23 16:22:27 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel.h,panel_cmds.h: more "drawers" framework done,
	  removed traces of visibility notify, removed applet size change
	  notify since it is handled by allocate_size signal

	* mailcheck/mailcheck.c: fixed a few bugs related to text only
	  reporting

Thu Jan 22 23:24:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed some unused code, fixed a bug when removing
	  applets, made cells with applets not expand which improves the
	  look and makes geometry seem more consistent

Thu Jan 22 20:34:53 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: made the property dialog an apply/close
	  type

Thu Jan 22 20:23:21 1998  George Lebl  <jirka@5z.com>

	* panel.c: improved move performace, saner move position
	  calculation.

	* menu/main.c,launcher/launcher.c,logout/logout.c: the button is
	  now set to the size of the pixmap

Thu Jan 22 03:16:18 1998  George Lebl  <jirka@5z.com>

	* panel.c: disabled raising when obscured sinceit was messing up
	  with screensavers. need to find a better solution to this

Thu Jan 22 01:20:15 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: panel is now a table instead of a fixed. This gives
	  us far greater flexibility, and better applet geometry managment
	  (though a bit odd sometimes)

	* main.c,applet_cmds.h,panel_cmds.h,all applet files:
	  changed to a one variable position system

Wed Jan 21 01:18:34 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c (pop_down): return FALSE for timeout callback.

	* mailcheck/mailcheck.c (mailcheck_properties): cast
	property_window to GTK_WINDOW.

Wed Jan 21 00:41:27 1998  Federico Mena <federico@bananoid.nuclecu.unam.mx>

	Based on patch from Raja R. Harinath <harinath@cs.umn.edu>
	* batmon/batmon.c (batmon_timeout_callback): Use non-surprising
	values for non-Linux m/cs.

Tue Jan 20 17:39:25 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu/main.c: for now set the absolute size of the menu button.

	* mailcheck/mailcheck.c: Provide a propery configurator that
	allows setting the animation file.
	(mailcheck_load_animation): use this to load new animations.
	(create_mail_widgets): create both the drawing area and the label
	always, and put them inside an hbox.
	(mailcheck_get_animation_menu): create a menu filled with the
	possible animation file names.
	(load_new_pixmap_callback): configure the user settings and save
	the configuration for this applet. 
	(mailcheck_notification_frame): create the notification
	configuration menu. 

	* mailcheck/email-e.xpm: Put back this animation. 

Tue Jan 20 01:13:34 1998  George Lebl  <jirka@5z.com>

	* mailcheck/email.xpm: replaced the old xpm with a newer one from
	  tigert which looks better

Sun Jan 18 11:17:27 1998  Tom Tromey  <tromey@cygnus.com>

	* applet_files.c (init_applet_file): Made `error' const.
	(get_dl_func): Likewise.

Sun Jan 18 18:46:28 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: now actually captures the expose event
	  and redraws itself

	* panel_cmds.h,panel.c: added a change size notify command, the
	  applets should send this when they change their size so the
	  panel can correct their geometry

	* panel.c: made a panel menu pop up when the right button is
	  pressed on the panel

	* applet_files.c: hopefully fixed a warning

Sun Jan 18 05:07:42 1998  George Lebl  <jirka@5z.com>

	* panel.c: cursor is now an arrow (it was a bug that it was not)
	  and when window is compeltely obscured it now raises itself

Sun Jan 18 01:59:25 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: gettexted ...

	* launcher/launcher.c: made the config and apply/close type fo
	  dialog, instead of ok/cancel

	* menu/main.c: added configuration, done some restructuring, small
	  icons can now be turn on or off

Sat Jan 17 03:11:40 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: now uses a single button instead the old vbox bit,
	  and uses the above xpms

	* panel_config.c: fixed a mistake I caused earier

Sat Jan 17 02:15:08 1998  George Lebl  <jirka@5z.com>

	* launcher/launcher.c: a bit of restructuring, now properties can
	  be changed, stuff will be updated in real time and the dialog
	  isn't modal

Fri Jan 16 22:07:24 1998  George Lebl  <jirka@5z.com>

	* panel.c: made "stays put" as the default mode as it's less
	  confusing for new users and old users can just set the
	  preferences

	* panel.c,panel.h,panel_config.c: Tooltips now configurable

Fri Jan 16 20:36:39 1998  George Lebl  <jirka@5z.com>

	* programs/panel/menu/main.c: menu now takes screen size
	  into account. took out the tooltip on this thing since
	  interfered with the menu

Fri Jan 16 19:05:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: reworked the geometry stuff once more

	* main.c: now again default right justifying of the mail applet
	  works again. (though setting the x to 9999)

	* panel.c,panel_cmds.h: set up applet tooltips, added one more
	  command for this

	* launcher/launcher.c,menu/main.c,logout/logout.c: added the
	  tooltips for these

Fri Jan 16 16:48:22 EST 1998  Nathan Bryant <nbryan71@maine.edu>

	* panel.c: added exit() to panel_quit(). Fixes SEGV when we try to
	  return into a nonexistent code page from an applet that has been
	  dlclose()'d.

Fri Jan 16 03:57:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: slightly optimized the geometry routines though I don't
	  get why it does slightly improve performance, but hey it works
	  ....

Fri Jan 16 03:17:15 1998  George Lebl  <jirka@5z.com>

	* logout/logout.c: using term-night xpm for this button

	* launcher/launcher.c: using the opaque icons and
	  gnome-unknown.xpm instead of the wheel

Fri Jan 16 01:45:30 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: there will allways be one menu,
	  (last one can't get deleted) and moving from the menu now works

Thu Jan 15 21:54:31 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet_cmds.h,menu/main.c,... applet .c files: added
	  orientation change notify command.  fixed several bugs in
	  panel_reconfigure, and menu now takes the orientation into
	  account, so it's uasable in all orientations
	  
Thu Jan 15 01:49:50 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: the config file stuff revised, can now load
	  launcher applets

Wed Jan 14 21:46:59 1998  George Lebl  <jirka@5z.com>

	* panel.c: changed the way free spots are found yet once more,
	  this should be a faster and better way

Wed Jan 14 17:11:16 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: default applets loaded all from,
	  left. Configuration now saved. Lot of geometry fixes

Wed Jan 14 14:53:56 1998  George Lebl  <jirka@5z.com>

	* panel.c: better geometry when swicthing from to horizontal and
	  back. width of bar is now dynamicly allocated during positioning

Wed Jan 14 13:58:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: added pixmaps to the hide buttons

Mon Jan 12 21:37:26 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (mail_destroy): Two bug fixes (proper
	destruction of the mail widget and proper use of the mailcheck
	code).

Tue Jan 13 19:17:28 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the fixed is now inside a table widget, this makes
	  it easy to "reconfigure" it on the fly, and such a function
	  exists, though untested

Tue Jan 13 16:14:13 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: reversed x and y loading for vertical panel. the
	  initial loading is done through a "stack" so applets are added
	  in the right order it seems.

Tue Jan 13 15:41:01 1998  George Lebl  <jirka@5z.com>

	* panel.c: will now handle all four positions for the geometry
	  stuff, and the panel will have no hide button if in "autohide"
	  mode

Tue Jan 13 01:21:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: put the free place finding in one routine and now it
	  will handle the geometry at strtup correctly (more or less),
	  also I added an "autoraise" which helps it keep it on top

Mon Jan 12 22:28:40 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the "colision avoidance" of applets now works, even
	  when adding new applets to the panel. There is now a hide button
	  just like on other such panels in other desktops, and the
	  default behaviour changed from autohide to this

Mon Jan 12 19:43:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed the code to check for widgets in the way

Mon Jan 12 18:54:07 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented applet positioning so they don't
	  overlap. doesn't use the existing code for that and doesn't work
	  too great (yet) :)

Mon Jan 12 20:20:42 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* netwatch/netwatch.c (get_interface_path): Do not access
	new_devpath if nothing was added.

Fri Jan  9 11:32:48 1998  Micah Stetson  <cnm@tco.net>

	* batmon/*.xpm: Changed the pixmaps for the battery monitor.

Fri Jan  2 14:53:14 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* netwatch/netwatch.c (create_netwatch): Added parentheses around
	assignment used as truth value.

	* batmon/batmon.c (destroy_module): Replaced
	gtk_tooltips_destroy() by gtk_tooltips_unref().

	* mailcheck/mailcheck.c (next_frame): Make the timeout handler
	return TRUE.
	
Wed Dec 17 22:22:27 1997  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): New function.
	(panel_quit): Use session management commands when appropriate.

	* applet_files.c (get_dl_func): Print function name in error message.
	* main.c (init_session_management): New function.
	(main): Call it.
	* Makefile.am (SUBDIRS): Include logout directory.
	* logout/Makefile.am: New file.
	* logout/logout.c: New file.

Wed Dec 10 17:46:07 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (MYLIBS): Added x_libs.

Mon Dec  1 11:36:30 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (EXTRA_DIST): Include panelrc.in.

	* Makefile.am (data_DATA): Renamed.
	(panelrc): New target.
	(MOSTLYCLEANFILES): New macro.
	(EXTRA_DIST): Removed.
	(install-data-local): Removed.

Mon Nov 10 15:52:37 1997  Tom Tromey  <tromey@cygnus.com>

	* mailcheck/mailcheck.c (mail_check_timeout): Use gettext to look
	up messages.

Tue Oct 28 17:02:57 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* clock/clock.c: Fixed creation of instances.  Made clock creation
	more generic.  It should now be easy to create new clock styles.

	* panel.c (save_applet_configuration): The panel was not
	incrementing the unique numeric key correctly.

Mon Oct 27 18:55:46 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (add_applet_to_panel): Now the menu can add applets
	to the panel.

Thu Oct  9 20:54:55 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c: Lots of bug fixes and new features.  Can now save
	configuration properly, add new applets to the panel, etc.

