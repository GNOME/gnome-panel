Tue Aug 31 22:41:48 1999  George Lebl  <jirka@5z.com>

	* menu.c,tearoffitem.c: add some new logic for making a tearoff menu,
	  it's still disabled by default however.

Tue Aug 31 15:19:46 1999  George Lebl  <jirka@5z.com>

	* menu.c,tearoff.[ch],Makefile: start work on a custom menu tearoff
	  item for the panel menus.

Sat Aug 28 19:43:10 1999  George Lebl  <jirka@5z.com>

	* menu.c: a bit of support for tearoff menus, but it seems it will
	  need more work then this though, it's disabled by default as
	  it has "issues"

Sat Aug 28 00:41:17 1999  George Lebl  <jirka@5z.com>

	* hintsdata.c: add a hint about right click menus on the main
	  menu

Fri Aug 27 18:31:17 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel.c,applet.c: add the applet correctly
	  at the front if dropped before the first applet

Fri Aug 27 18:06:12 1999  George Lebl  <jirka@5z.com>

	* panel.c: accept drops over the basep widget so that we can drop
	  over the hidebuttons

Fri Aug 27 14:26:46 1999  George Lebl  <jirka@5z.com>

	* launcher.c: add DND a sorta hack, it will accept file drops
	  over launchers and launch the app with the files as arguments,
	  this will work 90% of the time

1999-08-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* floating-widget.c (floating_pos_set_pos): fixed 
	moving-while-right-hidden

	* Makefile.am (base_panel_SOURCES): added
	floating-widget.[ch]

	* floating-widget.[ch]: new files which implement a 
	floating panel.  Not complete, but works except for
	moving right-hidden panels.  Will fix after sleep/class.

	* menu.c (create_new_panel): create floating panels
	here

	* panel.c (panel_setup): support the floating panel
	(panel_event): ditto
	
	* session.c (init_user_panels): load a floating panel...
	(save_panel_configuration): save a floating panel

	* border-widget.c (border_pos_class_init): removed stale 
	code
	(border_pos_realize): removed snice the hints are setup
	in basep-widget.c

	* drawer-widget.c (drawer_pos_realize): removed since the
	hints are set up elsewhere now
	(drawer_pos_class_init): removed some stale code

1999-08-26  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet.c (submenu_destroy_cb): cleanup when the menu is
	destroyed (esdpecially by the age cleanup thing)
	(setup_an_item): connect the destroy signal of the menu 
	here to the above function
	(create_applet_menu): remove some #if 0 code from the branch
	(add_to_submenus): if we don't have a submenu, create one
	(setup_an_item): notify ourselves when the menuitem gets
	destroyed
	(menuitem_destroy_cb): cleanup when the menuitem is destroyed

1999-08-25  Kjartan Maraas  <kmaraas@online.no>

	* panel_config.c,main.c,hintsdata.c : Typo fix and improved
	  strings a bit.
	
1999-08-24  Anders Carlsson  <anders.carlsson@tordata.se>

	* menu.c: Replaced pixmap functions to make pixmaps for the new
	 menu alternatives look smoother.

Tue Aug 24 10:54:33 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: changed the library version to 0:1:0 since we are
	  actually binary compatible with the 0:0:0 that came out with
	  gnome-core 1.0. this means you need to remove
	  <prefix>/lib/libpanel_applet.so.1* !!!

Sat Aug 21 18:51:42 1999  George Lebl  <jirka@5z.com>

	* panel.c: don't send the orientation, size and back changes from an
          idle on addition to avoid races when the applet dies too quick

Sat Aug 21 17:01:54 1999  George Lebl  <jirka@5z.com>

	* session.c: completely new default setup, now the default launchers
	  are flushed left, and only loaded if the screen is wider then 800
	  we also add a tasklist and a mailcheck to the panel. Also we
	  load up a new vertical aligned panel in the top right corner
	  with the pager

1999-08-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (load_menu_applet): check before passing a NULL
	params to strcmp
	(make_properties_submenu): hide the types and modes menu 
	if the panel is a drawer
	(show_x_on_panels): modified to now hide the types/modes
	menus

	* hints.c (show_hint): I believe gnome_dialog_new () takes
	a NULL terminated list... at least this gives me a dialog
	and no seg fault

Fri Aug 20 17:37:59 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],applet.[ch],extern.c: add set_sensitive
	  call to the callbacks interface for the applet menus

	* menu.c,applet.c: add an "Edit menus.." callback for main menus

Fri Aug 20 16:37:05 1999  George Lebl  <jirka@5z.com>

	* hints.[ch],hintsdata.c,main.c,panel_config_global.[ch],session.c:
	  show hints on startup

Fri Aug 20 15:31:35 1999  George Lebl  <jirka@5z.com>

	* session.c: add a default menu applet for programs

Fri Aug 20 14:54:36 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: use imlib_copy instead of imlib_move to get
	  around weird imlib stuff

1999-08-20  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: s/GNOME menus/Programs/ s/User menus/Favorites/

	* session.c (load_default_applets): added gnome-terminal.desktop

	* menu.c (create_root_menu): use KDE_ICONDIR to get the exec.xpm
	(create_kde_menu): ditto

	* button-widget.c (button_widget_draw): don't draw the tile if
	we are not in the button and we only draw when we are

	* panel_config_global.h: added 'tile_when_over' variable

	* panel_config_global.c (misc_notebook_page): added checkbox
	for showing tiles only when the cursor is over

	* session.c: save/load tile_when_over

	* menu.c (update_hidebutton_menu): one stupid mistake...
	(update_back_menu): two stupid mistakes...

	changing properties from the menu now works :)

1999-08-19  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c (make_properties_submenu): added properties for the hide
	mode, hidebuttons, size, background type  (these are broken though)
	(change_background): 
	(change_hidebuttons): 
	(change_size): 
	(change_hiding_mode): 
	(update_back_menu): 
	(update_size_menu): 
	(update_hidebutton_menu): 
	(update_hiding_menu): functions to support this
	(add_radio_menu): convienence function

	* basep-widget.c (basep_widget_autohide): fixed a bug wrt changing
	modes

	* aligned-widget.c (aligned_pos_show_hide_right): 
	(aligned_pos_show_hide_left): 
	(aligned_pos_class_init): Facilitate jumping to other side of
	screen like the standard panel does

	* panel-widget.c (push_applet_left): initialize variables to NULL so
	gcc leaves us alone
	(push_applet_right): same deal here

	(now that I have the Blackbox GNOME winhint patch working...
	
	* basep-widget.c (basep_widget_update_winhints): set the gnome WM hints if
	available
	(basep_widget_realize): 
	(basep_widget_explicit_hide): 
	(basep_widget_explicit_show): 
	(basep_widget_autohide): 
	(basep_widget_autohide): update the hints in the functions 

	* main.c (main): init win hints here

	* panel-types.h: removed unused types

1999-08-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* *.c: store config in ~/.gnome/panel.d/default/ instead of
	~/.gnome/panel.d/Session-asd09n09sda/  (don't know if this is
	done right though)
	
	* *-widget.c: general fixes to clean up resizing when hidden

Wed Aug 18 10:54:31 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: don't allow closing the window with a window
	  manager

1999-08-18  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel_config.c (update_config_back): fix stupid typo by me

	* panel-widget.c (panel_widget_new): g_strdup (NULL) == NULL

	* session.c (apply_global_config): call the new function

	* basep-widget.c (basep_update_frame): added function so that
	we can update the frame when we change preferences
	(basep_back_change): call this function from here

	* panel_config_global.c (misc_notebook_page): add a check box
	for keeping buttons flush with the edge

	* panel_config_global.h: added hide_panel_frame variable for
	keeping buttons flush with the edge

	* basep-widget.c (basep_back_change): only draw the frame if we are
	no-color and not hide-frame

>>>>>>> 1.602.2.10
1999-08-10  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.c (applet_widget_register_stock_callback_dir): 
	(applet_widget_register_stock_callback_dir): 
	(applet_widget_register_stock_callback): 
	(applet_widget_register_callback): sync with gnome-core-1-0

Fri Aug 06 04:23:39 1999  George Lebl  <jirka@5z.com>

	* *.c: removed unused functions and variables

1999-08-01  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet.c (create_applet_menu): use the stock remove icon
	in the remove menu

Fri Jul 23 00:07:38 1999  Tim Janik  <timj@gtk.org>

	* extern.c (socket_size_allocate): only queue a resize in case our
	allocation is bigger than the requisition, *if* we actually requested
	a size >0.

1999-07-10  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* applet-widget.c (applet_widget_init): pass 'app_version' to
	gnome_CORBA_init_with_popt_table(), not VERSION

	* swallow.c (ask_about_swallowing): more reasonable maxes

	* appletsConf.sh.in (MODULE_VERSION): 
	* Makefile.am (appletsConf.sh): added support for modversion

Wed Jul 07 02:06:10 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: fix reentrancy problem with get_orient and
	  get_size, by just caching the value on the applet side

	* Makefile.am: raise version of the libpanel_applet to 1.0.0 to
	  avoid binary incompatibility (it has been 0.0.0 forever)

Fri Jul 02 06:47:47 1999  George Lebl  <jirka@5z.com>

	* applet.c: fix problems with applet submenus

1999-06-27  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel-widget.c (push_applet_right): 
	(push_applet_left): This should fix movement a little; under certain
	circumstances one couldn't move an applet to the left in a hori. panel

	* panel.c (panel_setup): check for a NULL panelw just to make sure
	we don't crash here

	* session.c (init_user_panels): get rid of gtk warnings when the
	panel config file gets messed up

Mon Jun 21 05:26:28 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],extern.[ch]: added position hint sending
	  if selected

Fri Jun 18 05:18:39 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel_config_global.c: implement a push mode and
	  switching of applet movement modes using modifiers

1999-06-14  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* panel.soundlist: Added Portuguese translations.

Sun Jun 06 12:30:12 1999  George Lebl  <jirka@5z.com>

	* menu.c: if we can't create menu, complain and make it a main menu

	* session.c: sync the configuration correctly

1999-06-03  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* panel.c (panel_applet_removed): check to see if drawer->drawer is NULL,
	to avoid crash when removing a drawer by 'remove panel' on the panel 
	and not 'remove applet' on the applet

1999-06-02  Nat Friedman  <nat@gnome-support.com>

	* applet-widget.c (pg_return_val_if_fail): Do not use glib
 	g_return_val_if_fail, since that will compile to a NOP with
 	debugging turned off.
	
	(pg_return_if_fail): Do not use g_return_if_fail.

1999-06-02  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* session.c (panel_session_save): check for a NULL pd->menu,
	this gets rid of GTK warnings

Wed Jun 02 00:55:27 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],extern.c: implement a free_space attribute
	  on the panel spot, so that applets may set their maximum size
	  more sanely

Tue Jun 01 18:03:39 1999  George Lebl  <jirka@5z.com>

	* main.c,session.c: only select events on the root if we actually
	  will need them

Tue Jun 01 10:30:18 1999  George Lebl  <jirka@5z.com>

	* main.c,swallow.c: implement the waiting for window to swallow
	  correctly by selecting on the root window, instead of XQueryTree
	  in a timeout

Mon May 31 20:34:49 1999  George Lebl  <jirka@5z.com>

	* session.c: took out debugging printf's and make extern applet
	  be empty at first so that we don't get unknowns if an applet
	  timed out in a previous session

Mon May 31 20:29:30 1999  George Lebl  <jirka@5z.com>

	* session.c,extern.c: on exit, we timeout after 1.5 sec, and then
	  put up a dialog indefinately but allow the user to cancel wating
	  for an applet to save

Mon May 31 18:43:09 1999  George Lebl  <jirka@5z.com>

	* session.[ch],extern.c,applet-widget.c: revamp the applet saving
	  stuff, gets rid of races and other uglies, and is much nicer
	  conceptually

Sun May 30 23:17:01 1999  George Lebl  <jirka@5z.com>

	* extern.c,applet-widget.c,session.c: deal with hanging applets,
	  by implementing a callback like interface for getting the return
	  from session_save. However the configuration can get seriously
	  messed up due to reentrancy issues, needs to be revamped.

Sun May 30 21:58:42 1999  George Lebl  <jirka@5z.com>

	* panel.c: minor fix to send initial size_change's

	* panel-widget.c: check ->sz not ->size, so that we don't
	  send size changes all the time

Sun May 30 14:04:54 1999  George Lebl  <jirka@5z.com>

	* APPLET_WRITING: update for the current applet interface state

Sun May 30 11:59:02 1999  George Lebl  <jirka@5z.com>

	* panel.c: forgot to delete stuff when cut-and-pasting from
	  change_orient to change_size

Sun May 30 11:10:35 1999  George Lebl  <jirka@5z.com>

	* extern.c: forgot to implement a get_parent_size call, this fixes
	  segfault with extern applets

	* applet-widget.[ch]: implement the get_panel_size method

Sun May 30 00:53:21 1999  George Lebl  <jirka@5z.com>

	* menu.c: WRT remove item patch: check for the item_loc as the
	  mf structure is only allocated for folders, also don't complain
	  if there is no .order file, as that is a normal situation

Sun May 30 00:13:47 1999  George Lebl  <jirka@5z.com>

	* panel_config.c: fix the initial setting of the size buttons

1999-05-30  Jacob Berkman  <jberkman@andrew.cmu.edu>

	* menu.c: updated version of my menu patch.  Adds "remove
	item" and fixes a bug when you change the contents of a
	menu dir of a menu applet (first click after change doesn't
	display the menu)

Sat May 29 17:15:05 1999  George Lebl  <jirka@5z.com>

	* button-widget.c,session.c,drawer-widget.c,drawer.c,menu.c,
	  launcher.c,logout.c,panel_config.c: enabled the size setting

Thu May 27 19:25:00 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: implement the size hints and correct the bind
	  events function name in the header, as well as reformat the file
	  with the correct indenting style.

	* {panel,basep,snapped,corner,drawer}-widget.[ch],menu.c,drawer.c,
	  session.c,button-widget.c,panel.c: start of implementing the
	  panel sizes, currently doesn't work and so the property dialog
	  is disabled.

Wed May 26 23:27:11 1999  George Lebl  <jirka@5z.com>

	* menu.c: applied patch from Jacob Berkman <jberk+@cmu.edu>, to
	  allow adding of items to a menu from the right click menu of
	  a menu title, made it check for write access to the directory
	  instead of the location and fixed the mouse grab thing

	* menu.c,logout.h: small cleanups

Wed May 26 20:39:20 1999  George Lebl  <jirka@5z.com>

	* panel-types.h,panel_config_global.c,logout.c: modified the
	  lock to use the same tile as logout, and make the name of that
	  tile "Miscellaneous" in the global properties

Mon May 17 15:22:28 1999  Robert Brady  <rwb197@ecs.soton.ac.uk>

        * applet.h, logout.c, menu.c, menu.h, panel-types.h, panel.c,
	  session.c : Added a menu option to create a "Lock Screen"
	  button on the panel, similar to the "Logout" button.

Sun May 02 21:04:53 1999  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: added two new functions,
	  applet_widget_add_full and applet_widget_bind_events for
	  more control over which widgets be sensitive to the
	  right click menu and the middle click move

Sat Apr 24 20:23:57 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix problem with right clicking on a user-writable menu
	  title

Fri Apr 09 19:01:06 1999  George Lebl  <jirka@5z.com>

	* launcher.c: load desktops as unconditional to skip tryexec
	  and empty exec tests, and set name to "???" if the user didn't
	  set it to some string. This takes care of disappearing launchers
	  upon realoading of the panel

	* menu.c: the properties should never be set sensitive for
	  kde menus

Thu Apr  8 14:30:02 1999  Owen Taylor  <otaylor@redhat.com>

	* menu.c panel.c session.c: Add a KDE menus directory
	 to parallel the AnotherLevel and Debian menus,
	 and appropriate options for the the menu properties
	 dialog.

Mon Apr 05 17:13:39 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c: bind drag_motion on the
	  panel to make an autohidden panel pop up when something is
	  dragged over us

Fri Apr 02 02:44:02 1999  George Lebl  <jirka@5z.com>

	* applet-widget.c: check for if we actually did get the
	  panel_client and put an assert in there

Wed Mar 31 02:07:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: allow middle button to start drags as well

Tue Mar 30 20:55:13 1999  George Lebl  <jirka@5z.com>

	* menu.c: applied menu reorganization patch from Ettore Perazzoli
	  <ettore@comm2000.it>

Mon Mar 29 14:47:35 1999  George Lebl  <jirka@5z.com>

	* session.c,menu.c: add #include <limits.h>

Sun Mar 28 14:41:53 1999  George Lebl  <jirka@5z.com>

	* swallow.c: hardcode 48 instead of PANEL_MINIMUM_WIDTH since we
	  want a large default

Sat Mar 27 03:26:13 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c: for the previous change not to look funky with
	  drawers, I made drawers be 48x48 minimum

Sat Mar 27 03:18:19 1999  George Lebl  <jirka@5z.com>

	* menu.c,button-widget.c,panel-widget.h: after extensive pestering
	  by Jens Lautenbacher <jens@tellux.de>, I've changed the minimum
	  panel size to 24 (not reducing icons of course), I don't extremely
	  like this solution and this behaviour will go away when we have
	  proper sizing

Fri Mar 26 19:58:45 1999  George Lebl  <jirka@5z.com>

	* session.c,panel_config_global.[ch]: remove the prompt for logout
	  option as it no longer worked

1999-03-24  Felix Bellaby <felix@pooh.u-net.com>

	* session.c (panel_quit): gnome-libs will now confirm before logout.

Sat Mar 20 01:44:57 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c,button-widget.[ch]: fixed the "incredible
	  disappearing launcher" bug, and further optimized drawing of
	  icons when not drawing the whole panel

Tue Mar 16 17:45:37 1999  George Lebl  <jirka@5z.com>

	* session.c: default launchers were screwed up and didn't load
	  with the new setup

Mon Mar 15 17:38:36 1999  George Lebl  <jirka@5z.com>

	* Makefile.am: add libpanel_applet.la to LDADD for the panel, so
	  that shared lib applets work again, DOH! ... (Thanks to the avid
	  gnome fish fan: David Miller <davem@twiddle.net>)

Mon Mar 15 13:42:31 1999  George Lebl  <jirka@5z.com>

	* panel.c: when an applet is removed don't recount all drawers,
	  just subtract from open, and queue saving of panels when applet
	  was a drawer, to prevent bad restarts from a crash

Mon Mar 15 13:32:41 1999  George Lebl  <jirka@5z.com>

	* session.c,*.c: removed incremental applet saving stuff, now
	  saves them all at once, this wasn't used under SM anyway and
	  it's savings were dubious

Mon Mar 15 12:46:00 1999  George Lebl  <jirka@5z.com>

	* launcher.c,menu.c: add \r\n at the end of a uri_list line

Mon Mar 15 04:37:41 1999  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: remove another possible crash when panel is
	  removed while scaling it's pixmap background

Mon Mar 15 03:10:55 1999  George Lebl  <jirka@5z.com>

	* launcher.c: add dragging capability to launchers, now you can
	  drag launchers to say gmc. requires a sort of a hack for
	  gtk_drag_source_set to work (we temporarily unset NO_WINDOW)

Mon Mar 15 02:12:17 1999  George Lebl  <jirka@5z.com>

	* corner-widget.c,snapped-widget.c: fixed a bug where a autohide
	  panel didn't stay side hidden after a restart

Sun Mar 14 23:03:01 1999  George Lebl  <jirka@5z.com>

	* menu.c,session.c,panel_config.c,corner-widget.[ch],drawer.c,panel.c,
	  extern.c,launcher.c,logout.c,snapped-widget.[ch]: applied patch from 
	  Jacob Berkman <jberkman@andrew.cmu.edu> to add autohiding of corner
	  panels and cleaned it up a bit

	* {snapped,corner}-widget.c: fixed a crash when converting
	  edge/corner when one is autohidden

Sat Mar 13 01:16:01 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: optimize applet moving, now moving an applet
	  only affects the applets that actually move, instead of resizing
	  the entire panel

Fri Mar 12 18:10:18 1999  George Lebl  <jirka@5z.com>

	* extern.c: implelemented getting the tooltip text back

	* panel-util.c,drawer.c: create_text_entry now uses gnome_entry

Fri Mar 12 17:57:32 1999  George Lebl  <jirka@5z.com>

	* gdkextra.[ch],*-widget.c,panel-include.h,Makefile.am: remove
	  gdkextra two files from compilation

Fri Mar 12 17:41:43 1999  George Lebl  <jirka@5z.com>

	* panel.[ch]: remove old code

	* menu.[ch],session.c: applied and refined patch from Vincent
	  Renardias <vincent@ldsol.com>, to get debian menu support

	* cookie.[ch]: remove these two extremely obscolete files

	* Makefile.am: add APPLET_WRITING to EXTRA_DIST

Mon Mar 08 18:11:54 1999  George Lebl  <jirka@5z.com>

	* menu.c: stole menu positioning function from gtk as
	  gtk_menu_reposition doesn't work on non-drawable menus, and that
	  is just what we need to do, this fixes the jumping menus on first
	  display

Mon Mar 08 16:12:47 1999  George Lebl  <jirka@5z.com>

	* menu.[ch]: export show_x_on_panels and use it directly, avoid
	  warning when destroying menus that were not used

	* panel_config(_global|).c: account for dialog being destroyed

	* *.c: put all debugging info behind PANEL_DEBUG ifdefs

	* Makefile.am: don't link the panel with the applet library

Sat Mar 06 17:50:35 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: use set_rc_style instead of restore_default_style
	  this should fix the problems with hidebuttons and setting themes

Sat Mar 06 17:41:03 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: don't store the background pixmap, just make it
	  for drawing, to save X server memory

	* session.c,button-widget.c: a couple of typos fixed

Sat Mar 06 16:37:32 1999  George Lebl  <jirka@5z.com>

	* button-widget.c: changed double-click-ignore timeout to 400ms

Sat Mar 06 16:18:33 1999  George Lebl  <jirka@5z.com>

	* {drawer,corner,snapped}-widget.c: fix flicker with hidden panels,
	  by getting size_request of the proper hidden size and 1x1 for
	  hidden drawers

Sat Mar 06 14:56:17 1999  George Lebl  <jirka@5z.com>

	* buttton-widget.[ch]: add a timeout to prevent double clicks from
	  pressing the button twice

1999-03-06  Michael Fulbright <drmike@redhat.com>
	* panel_config.c, panel_config_global.c: made the help button on
	the panel and global config dialogs actually load the help from the 
	users guide.
	
1999-03-01  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel.soundlist: Added Korean translations.

Sat Feb 27 13:11:57 1999  George Lebl  <jirka@5z.com>

	* session.c: add "Only terminate panel" button to the logout
	  dialog

Tue Feb 23 22:08:20 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: added a small usleep in the animation loop to help
	  with smoothness

Tue Feb 23 21:28:17 1999  George Lebl  <jirka@5z.com>

	* panel-widget.c: use set_rc_style widget method. This should fix the
	  errors with changing themes

Tue Feb 23 16:57:21 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c: ahhh ... correct the location of drawers so
	  that they are not offset

Tue Feb 23 01:03:25 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: remove some dead code

	* panel-widget.c: resize pixmap in two level of timeouts, not
	  resizing for half a second after change and resizing maximally
	  once in 2 seconds, this should get rid of slow startups when
	  the panel width changes a lot. also draw after resizing the
	  pixmap to update the panel. Also fix moving code for races

	* drawer-widget.c: seems like gtk table allocation got fixed
	  (if it was broken) so I removed a hack for drawer positioning

Mon Feb 22 21:47:15 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c,panel_config_global.[ch],session.c: add a non
	  constant movement option that is closer to what the movement was
	  before, now it's a sin function.

Mon Feb 22 01:30:25 1999  George Lebl  <jirka@5z.com>

	* {corner,snapped,drawer,panel}-widget.c,drawer.c,menu.c: fixes for
	  the new size_request handeling

1999-02-21  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel_config_global.c (panel_config_global): Do the real
	gettext translations from the N_() marked strings.

1999-02-19  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (appletsConf.sh): Sed in @GNOMEGNORBA_LIBS@.
	From, among others, Ian Campbell <ijc25@cam.ac.uk>.

Fri Feb 19 15:07:12 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix hiding when animations are disabled

Thu Feb 18 17:31:11 1999  George Lebl  <jirka@5z.com>

	* launcher.c,logout.c: fix auto_close drawer vs. autohide snapped
	  bug

	* menu.c: deal semi-cleanly with missing system menus

	* basep-widget.c: no need to _draw the widget if we are hiding

Thu Feb 18 00:08:35 1999  George Lebl  <jirka@5z.com>

	* menu.c,drawer.c,panel_config.c,panel_config_global.c,swallow.c,
	  panel-util.c: use GNOME_PAD* defines for padding

Wed Feb 17 18:11:08 1999  Owen Taylor  <otaylor@redhat.com>

	* menu.c: Look for system menus in $datadir/gnome/apps
	 instead of $datadir/apps.

Sun Feb 14 23:52:34 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: set the background style in a correct fashion
	  hopefully

Sun Feb 14 22:00:42 1999  George Lebl  <jirka@5z.com>

	* menu.c: fix bugs with extraneous menu separators, when a menu
	  is empty, append "(empty)" to the menu title

Sun Feb 14 20:49:25 1999  George Lebl  <jirka@5z.com>

	* extern.c: when the allocation on the socket is larger then it's
	  requisition, queue_resize the event_box.

Sun Feb 14 00:43:20 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch]: finally fixed the annoying "badwindow when
	  changing background" bug, the socket did not like to be removed
	  from a container and then added to another one, it had to be
	  reparented in one quick swoop (this however showed a weakness
	  of the gtk table, there is no way to reparent to a specific
	  location on the table)

Sat Feb 13 23:02:39 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fixed "hyperactive beeping autohide panel"
	  bug

Sat Feb 13 Felix Bellaby <felix@pooh.u-net.com>

	* extern.c, main.c: revised libgnorba test for whether an existing 
	panel is running.

Sat Feb 13 Felix Bellaby <felix@pooh.u-net.com>

	* extern.[ch],main.c,session.c: protect against running multiple
	panels by asking user to confirm.

Sat Feb 13 01:20:41 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch],corner-widget.c,snapped-widget.c: cleanup of
	  code

Fri Feb 12 01:54:06 1999  George Lebl  <jirka@5z.com>

	* panel_config_global.[ch],session.c,launcher.c,logout.c: add "auto
	  close" to drawers, when a launcher or a logout button is pressed,
	  it's optional and off by default

Fri Feb 12 00:02:10 1999  George Lebl  <jirka@5z.com>

	* session.c: remove our own dentry save routine

	* drawer-widget.c,snapped-widget.c,corner-widget.c: set the new not
	  cover hints to be set and unset when needed, not just set for all
	  panels as that is not very nice, you should be able to maximize
	  over all ABOVE_DOCK/ONTOP windows, but not over DOCK/BELOW windows

1999-02-11 The Rasterman <raster@redhat.com>

	* corner-widget.c, drawer-widget.c, snapped-widget.c: added 
	  WIN_HINTS_DO_NOT_COVER to hint mask.
	* panel.c: fixed exec initialiser to be ANSI compliant
	* panel_config_global.c: fixed internationalisation to be ANSI 
	  compliant
	* menu.c: fixed ANSI compliance
	* button-widget.c: fixed ANSI compliance

Thu Feb 11 17:02:56 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fix state restoration for side hidden panels

	* drawer.c: warning fix

Wed Feb 10 16:55:17 1999  George Lebl  <jirka@5z.com>

	* main.c,session.c: applied patch from
	  Felix Bellaby <felix@pooh.u-net.com>, and added request for
	  session save during the panel_config_sync call if anything
	  changed

Wed Feb 10 01:05:32 1999  George Lebl  <jirka@5z.com>

	* panel_config(_global|).c: only apply on page == -1 to avoid
	  multiple property applying

Wed Feb 10 00:08:55 1999  George Lebl  <jirka@5z.com>

	* session.c,panel_config_global.[ch],{corner,snapped,drawer}-widtet.c:
	  added "keep on bottom" option for the weird raster type layer hints

Tue Feb 09 17:25:16 1999  George Lebl  <jirka@5z.com>

	* main.c: don't do the corba init (which registers the goad server)
	  until after we check that this wasn't just a discard command

Mon Feb 08 18:18:34 1999  George Lebl  <jirka@5z.com>

	* croner-widget.c,snapped-widget.c: fix allocation problems with
	  hidden panels

Mon Feb 08 14:19:25 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,snapped-widget.c,corner-widget.c: revert raster's
	  changes to layers, DOCK layers are for things like the panel and
	  without them icewm maximizes over the panel

Mon Feb 08 11:26:59 1999  George Lebl  <jirka@5z.com>

	* main.c: set up the session manager to restart the panel when
	  it dies

1999-02-08  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am: Reverted Timur's changes until they are actually
	tested and work.

Mon Feb  8 20:03:53 1999  Timur Bakeyev <mc@bat.ru>

	* Makefile.am, appletsConf.sh.in: Strangly, libgnorba.a wasn't in de-
	pendences and $(APPLETS_LIBS). Fixed, by changing occurences of GNOMEUI_
	LIBS and ORB_LIBS with GNOMEGNORBA_LIBS. Suggested by Owen Taylor.

Mon Feb  8 10:00:03 1999 The Rasterman <raster@redhat.com>
	* corner-widget.c, drawer-widget.c, snapped-widget.c: changed layering
	  to be below normal app window layer unless autohide is on.

Mon Feb 08 03:14:41 1999  George Lebl  <jirka@5z.com>

	* main.c: set client priority to 40 so that the panel gets started
	  before any app that wants to add an applet

Mon Feb 08 01:08:46 1999  George Lebl  <jirka@5z.com>

	* drawer.c,panel.c,drawer-widget.c: remove redundant queue_resizes,
	  fix initial drawer flashing, by not showing them until the
	  master_widget has been size_allocated

Sun Feb 07 15:45:39 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch],drawer-widget.c,snapped-widget.c,corner-widget.c:
	  remove dead code, really change allocation, remove reparent hack,
	  save the world as we know it, and general cleanup

Sun Feb 07 14:53:00 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,corner-widget.c,snapped-widget.c: set
	  allocation to the size of window that we request, put
	  sounds on all the animations, and do animations as
	  ABOVE_DOCK and make the hidden panels ABOVE_DOCK
	  (I wish I could have my own personal Owen to ask
	  gtk/X questions:)

Sun Feb 07 14:06:52 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: disable the reparenting fake window hack

	* drawer-widget.c: make drawers ABOVE_DOCK for icewm geometry
	  sanity

Sun Feb 07 06:37:29 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix disappearing drawer bug

Sun Feb 07 06:06:08 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c, panel.c: fix drawer positioning under compliant
	  WM's, reduce the number of X calls necessary for drawer allocation
	  as well

	* basep-widget.c,session.h: optimizations, do animations using time
	  instead of position, which makes the animations smoother

Sun Feb 07 03:41:47 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c,drawer-widget.c: optimizations and some display bugs
	  fixed

Sun Feb 07 02:02:13 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c,basep-widget.[ch],corner-widget.c,drawer-widget.c:
	  cleanup of the fake window stuff for animations, should fix some
	  problems as well, still we have a problem with drawer repositioning
	  but that's an older unrelated problem

Sat Feb 06 18:40:04 1999  George Lebl  <jirka@5z.com>

	* drawer-widget.c,snapped-widget.c,corner-widget.c,basep-widget.c:
	  fix compliant WM's by a bunch of hacks, the animation code now
	  needs another cleanup, the fake window stuff is a bad bad hack

Sat Feb 06 01:21:53 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: partially fix the problems with compliant
	  WMs, seems like it's not extremely friendly to reparenting,
	  will fix the rest tomorrow

Fri Feb 05 17:18:43 1999  George Lebl  <jirka@5z.com>

	* drawer.c,drawer-widget.[ch],panel.c: keep drawers mapped but
	  offscreen, never hide them, just move em off screen, this fixes
	  initial drawer showing and also fixes some problems with swallows
	  in drawers ... etc ...

Fri Feb 05 16:00:56 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: destroy the fake when the main window is
	  destroyed

	* drawer-widget.h,panel_config.c: remove the obscolete items
	  from drawer object and fix related segfault

	* drawer-widget.c: fix hidebuttons disabeling

Thu Feb 04 23:00:06 1999  George Lebl  <jirka@5z.com>

	* panel-util.c: use set_icon for icon entries

Thu Feb 04 02:58:27 1999  George Lebl  <jirka@5z.com>

	* basep-widget.c: fix drawer flash

	* basep-widget.c,corner-widget.c,snapped-widget.c,drawer-widget.c:
	  remove redundant gdk_flush()es

Wed Feb 03 23:47:06 1999  George Lebl  <jirka@5z.com>

	* *.c: on all dialogs, when just trying to "redisplay" an existing
	  dialog, do a gdk_window_raise and gtk_widget_show on it

	* button-widget.[ch],launcher.c,drawer.c,logout.c,menu.c: added
	  ability to display the name of the icon to button-widget,
	  it's ugly now so it's only used if no icon can be found

	* basep-widget.[ch],drawer-widget.c,corner-widget.c,snapped-widget.c:
	  use another window (fake) as a override redirect parent, and use
	  gravity to get animations right and make it work ok with the
	  compliant windowmanagers

	* panel.c: don't move the panel when dragging and the cursor is in
	  the middle 1/3 of the screen to avoid flickery movement

Fri Jan 29 00:50:57 1999  George Lebl  <jirka@5z.com>

	* *.c: for all toplevel windows set the correct wmclass

Wed Jan 27 15:46:27 1999  George Lebl  <jirka@5z.com>

	* launcher.c,logout.c,drawer.c,button-widget.c: ok changed
	  behaviour slightly to avoid crashes when a pixmap is not
	  found, I'll add more things to this as now nothing is displayed,
	  I'll make it display text as well if pixmap isn't found ...
	  but not today ....

Fri Jan 22 17:44:51 1999  George Lebl  <jirka@5z.com>

	* panel.c: handle more url drops and fix a minor memleak

Thu Jan 21 18:28:36 1999  George Lebl  <jirka@5z.com>

	* panel.c,launcher.[ch]: accept netscape URL drags and add them
	  as gnome-moz-remote launchers, and add a hack that extracts the
	  URL from the exec and uses gnome-url to display it

Thu Jan 21 14:03:37 1999  George Lebl  <jirka@5z.com>

	* menu.c,panel.c: add DND for internal applets as well

1999-01-20  Nat Friedman  <nat@nat.org>

	* panel_config.c (panel_config): Connect the help signal of the
 	GnomePropertyBox to gnome_help_pbox_display.

	* panel_config_global.c (panel_config_global): Likewise.

Tue Jan 19 03:58:22 1999  George Lebl  <jirka@5z.com>

	* basep-widget.[ch]: new files, combining some of the functionality
	  of all the widgets, into a single base widget to reduce code
	  size and ease maintanance (not to mention it reduces redundancy)

	* {corner,snapped,drawer}-widget.[ch]: derive them all from
	  basep-widget

	* session.c,menu.c,panel_config.[ch],drawer.c,applet.c,extern.c:
	  make changes to accomodate the above changes

	* Makefile.am: build the new basep-widget

Tue Jan 19 01:24:59 1999  Jeff Garzik  <jgarzik@pobox.com>

	* launcher.c, menu.c, panel_config.c, panel_config_global.c,
	  session.c, swallow.c:
	Renamed deprecated Gtk+ functions.
	
Mon Jan 18 20:14:58 1999  George Lebl  <jirka@5z.com>

	* {snapped,corner,drawer}-widget.c: don't show the frame when
	  using a background pixmap

Mon Jan 18 03:34:35 1999  George Lebl  <jirka@5z.com>

	* menu.c: don't show the entry if the entry load failed, and
	  do more sanity checking all around on entry loads

	* menu.c: save the time of the last file, and only stat files once
	  per second, this reduces the amount of stats if going though menus
	  fast and if loading more then two of the same menuitems on startup

	* menu.[ch],main.c: since now the directories can be read in fairly
	  efficently, we do this on startup for up to two levels on the main
	  directories.

	* menu.c: redhat menus can now be read in a separate process that
	  quits right after reading them, this saves some memory, and
	  probably makes the startup more snappier as the menu conversion is
	  done in parallel. (this is only done on the init)

Sat Jan 16 20:54:55 1999  George Lebl  <jirka@5z.com>

	* menu.c: cleaned up the submenu_to_display thing, now doesn't
	  destroy the menu and create a new one, but uses the same
	  menu shell but destroyes just the contents, also now it's
	  not done on select of the item, but on show of menu, this means
	  if you only pass above the item it won't try to create the menu
	  even if you don't actually show it. (not to mention the hackishness
	  factor decreased in this part:)

Sat Jan 16 01:23:50 1999  George Lebl  <jirka@5z.com>

	* menu.c: make a better guess for the name of the app based on
	  the filename if the dentry wasn't helpful

	* panel.c: allow dragging of drawer applets by dragging on the
	  drawer panels

Sat Jan 16 00:48:07 1999  George Lebl  <jirka@5z.com>

	* menu.c: allow adding of whole directories to the personal
	  menu from the other menus, and disallow adding from personal to
	  personal (it wouldn't work anyhow)

Fri Jan 15 22:53:46 1999  George Lebl  <jirka@5z.com>

	* {corner,snapped,drawer}-widget.c,session.[ch],
	  panel_config_global.[ch]: Made autoraise optional

	* menu.c: remove debugging puts's and minor initial load
	  cleanup

Fri Jan 15 21:53:24 1999  George Lebl  <jirka@5z.com>

	* menu.c: fixed edit bug where canceling the dialog would remove
	  the .desktop entry completely

	* menu.c: redid the reading code, I sperated data from widgets, which
	  has several advantages, mostly less disk access and a little bit
	  of saved memory if we look at the same menu from different
	  places, this is a slightly bug prone and a tiny bit ugly code
	  at times so test well

Thu Jan 14 04:49:03 1999  George Lebl  <jirka@5z.com>

	* menu.c: fixes for the strconcat stuff

Thu Jan 14 04:20:44 1999  George Lebl  <jirka@5z.com>

	* menu.c: implemented "Add to personal menu" for launchers

Thu Jan 14 03:53:25 1999  George Lebl  <jirka@5z.com>

	* menu.c,main.c,session.c,panel_config_global.[ch]: add
	  "Keep menus in memory option" for systems with slow disks
	  and enough ram

Tue Jan 12 20:25:14 EST 1999 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* menu.c: No clue how the redhat code ever worked, lucky I guess.
	It works now though.
	
1999-01-12  Christopher Blizzard  <blizzard@appliedtheory.com>

	* menu.c: remove alloca() type functions since they aren't in glib
 	anymore.

Fri Jan 08 05:49:03 1999  George Lebl  <jirka@5z.com>

	* swallow.c: hmmm figured out why the swallow is quirky, it hate's
	  being a detachable handlebox, so I disabled the detaching,
	  (not to mention that I can't figure out why someone wanted
	  to swallow something into the panel for the sole purpose
	  of detaching it again and making it, once again a separate
	  window)

Thu Jan 07 22:00:46 1999  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: some cleanup, and queue the applets on
	  startup to avoid some races.

1999-01-07  Jonathan Blandford  <jrb@redhat.com>

	* menu.c (panel_lock): Grr.  My last fix was even more broken then
	the first one.  Now it does the right (TM) thing.  Hmm, it'd be
	nice to be able to copy this down to the panel as a launcher...

1999-01-06  bertrand  <Bertrand.Guiheneuf@inria.fr>

	* menu.c (add_redhat_entry): test if the read line is not empty
	some non-standard wmconfig entrues made the panel crash with emty lines.

Tue Jan 05 23:03:59 1999  George Lebl  <jirka@5z.com>

	* button-widget.c: fix possible segfault

Tue Jan 05 23:02:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: very minor mem leak caught, use alloca macros,
	  cleanup create_menu_at a bit.

Tue Jan 05 21:47:17 1999  George Lebl  <jirka@5z.com>

	* menu.c: some memory savings, and some cleanup

Tue Jan 05 17:46:54 1999  George Lebl  <jirka@5z.com>

	* menu.c: merge check_and_reread into submenu_to_display to make
	  it all simpler, split of the applet aprt of check_and_reread,
	  and destroy the menu before creating a newone, so that memory
	  can be reclaimed better. Plus added a minor hack that saves
	  an extra 8k on full menu read!:)

Tue Jan 05 16:52:05 1999  George Lebl  <jirka@5z.com>

	* menu.c: some possible leak fixes (I don't think they were real),
	  and removed the all_fake hack as it messed up positioning and
	  I doubt it helped much

Tue Jan 05 15:58:31 1999  George Lebl  <jirka@5z.com>

	* menu.c,panel.c: show/hide the convert items when creating the menu
	  when they are done on show it will be too late for positioning

Tue Jan 05 01:22:33 1999  George Lebl  <jirka@5z.com>

	* logout.c,panel_config_global.c,panel-types.h,session.c: add a
	  tooltip and use button-widget and a tile for logout

	* button-widget.c: scale large icons while preserving aspect

	* drawer-widget.c: get the toplevel panel and place drawers next to
	  panels in the correct(tm) way

	* extern.c,applet.c,panel.c,session.c,panel_config_global.[ch]:
	  made the popup menu placement be optionally not placed outside
	  of the panel

Mon Jan 04 01:33:53 1999  George Lebl  <jirka@5z.com>

	* menu.c: reverse redhat check for menu properties, fix properties
	  segfault and don't allow editting of redhat menu directories
	  (they're autogenerated:)

Sun Jan 03 03:38:00 1999  George Lebl  <jirka@5z.com>

	* snapped-widget.c: set layer to AboveDock for autohide snapped
	  panel

Thu Dec 31 18:21:17 1998  George Lebl  <jirka@5z.com>

	* applet.c,menu.c,panel-util.[ch]: got rid of the pop_first routines

	* panel-widget.c: clean up the send_move list

Wed Dec 30 17:16:41 1998  George Lebl  <jirka@5z.com>

	* session.c,menu.c,main.c: cleaned up some weird stuff, and use
	  g_string where possible to avoid problems

	* panel-util.[ch]: remove get_full_path

Wed Dec 30 01:16:06 1998  George Lebl  <jirka@5z.com>

	* menu.c: close opened files!

1998-12-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* button-widget.c (button_widget_draw): Only draw if the tile is
	non NULL.

Tue Dec 29 02:22:36 1998  George Lebl  <jirka@5z.com>

	* menu.c: couple of minor fixes

Mon Dec 28 20:57:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: remove problematic string breaking routine and use the
	  gnome-config one, and fix a small memory leak

Mon Dec 28 00:26:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,panel.c: cosmetic code changes

1998-12-26  Martin Baulig  <martin@home-of-linux.org>

	* session.c (panel_config_sync): Set `applets_to_sync' back to
	NULL before calling do_session_save (), to make it work when
	called recursively.

Sat Dec 26 01:16:45 1998  George Lebl  <jirka@5z.com>

	* *.c: destroy signal is a void function, I always thought it
	  returned int, so I fixed that

Thu Dec 24 12:21:20 1998  George Lebl  <jirka@5z.com>

	* menu.c: don't load menu on startup for menu applets

	* menu.[ch],session,panel.[ch],main.c,applet.[ch]: implement menu
	  aging, old menus are destroyed if not used for over a minute to
	  save memory

Thu Dec 24 04:05:25 1998  George Lebl  <jirka@5z.com>

	* menu.c: save a couple of extra bytes by not allocating a
	  string since we have a usable string that lasts long enough

Thu Dec 24 03:48:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: create top level submenus as fakes, this saves even more
	  ram if the user never uses a menu

Thu Dec 24 03:37:05 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],session.c,menu.c: cleaned up params argument to be
	  an int, this is some old old cruft from about a year ago

	* *.[ch]: minor cleanups, changed a bunch of GList's to GSList's

	* panel.c: don't load the panel menu by default, load it when needed

	* menu.[ch],session.c: got rid of the dot buttons and icons list,
	  now we just mark all menus as dirty, ready for rereading, this
	  saves us tuns of memory when the user doesn't use pixmaps or
	  dot_buttons .. and we also don't load all menus at startup

Wed Dec 23 22:53:40 1998  George Lebl  <jirka@5z.com>

	* menu.c: completely change how redhat menus are read, now they
	  are converted to normal gnome menus. also they are not fully
	  checked for additions, only the directories are checked so it
	  won't catch modified files, just added/removed files

	* menu.c: converted all GList's to GSList's, plus I don't anymore
	  store the desktop entry structures to save memory, plus I do a
	  fake menu read on startup so that submenus aren't read until a
	  user actually goes to them. Plus I fixed a race with gtk, my hack
	  for replacing menus during the select signal didn't all work so
	  that caused some menus to "hang", I solved it with a bigger hack
	  that removes and re-selects the entry if the menu has already been
	  shown.

	* menu.c: changed logic for getting top directory icons

	* launcher.[ch]: got rid of the load_launcher_applet_dentry func

	* panel-util.[ch]: added a remove_directory call for recursively
	  cleaning a directory, and made string_in_list func be a GSList
	  function

1998-12-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed the error, that preventend the panel from
 	restoring a saved session, if it's used with gnome-session.  Due
 	to some changes of Felix, the 'gnome_cloned_client' call does
 	nothing anymore, so the panel always thought, it has to restore
 	the default session.

Tue Dec 22 14:38:00 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel-widget.c: with timeouts finally working on my box
	  I realized that 100ms for timeouts on moving is too much so
	  changed it back to 30ms

Tue Dec 22 02:10:51 1998  George Lebl  <jirka@5z.com>

	* menu.c: ok ok the redhat menu code now officially sucks and
	  will get changed, I fixed the weird menu bug by not doing a
	  check and reread of the menu. I think I'm gonna go a completely
	  different route on this redhat menu thing

	* launcher.[ch]: added a way to make menu out of a desktop entry
	  by itself for added speed

Mon Dec 21 13:54:42 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c,drawer-widget.c,panel-util.[ch]:
	  now set color on the buttons as well if panel color is set, and
	  I stole some color stuff from gtk to make the colors be set
	  properly (instead of just multiplying rgb values)

Mon Dec 21 00:08:09 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: implemented minimum size of 48 pixels so
	  that adding to an empty drawer is easier

Sun Dec 20 22:13:36 1998  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: took out synchronious applet startup code as
	  it didn't work anyhow and was taking up space

	* menu.c,session.c,panel.c: changed menu properties to allow other
	  menu types then user/system (such as now redhat) ... plus I enabled
	  redhat menus as they seem stable and well behaved (dnd doesn't work
	  from them though)

Sun Dec 20 14:14:37 1998  George Lebl  <jirka@5z.com>

	* menu.c: replace connect_iterp with connect_full

Sun Dec 20 02:02:10 1998  George Lebl  <jirka@5z.com>

	* drawer.c: use icon entry

	* panel.c: use motion notify events for moving insted of just a
	  timer, the logic here is the same as used for applet moving and
	  it should avoid crowding of more motion events together using
	  a timeout

Sun Dec 20 01:37:54 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: add a call to back_change when changing panels
	  so that we actually change the back on applets that can (printer
	  can)

	* panel-widget.c: take out the old timeout based move as it's now
	  (and actually been for a while) possible to again use motion_notify
	  ... though I use a timeout to avoid too many motions at once and
	  move at most every 100ms

Sat Dec 19 21:10:02 1998  George Lebl  <jirka@5z.com>

	* menu.c: when adding new panel try to find a spot that is empty,
	  add conversion or edge<->corner panel and move add drawer to
	  the main panel menu from the add panel submenu

	* panel.c: don't put up panel menu on the left click, just on the
	  right click

	* panel_config.c,panel_config_global.c,menu.c: capitalize only the
	  first letter in strings for consistency

Sat Dec 19 03:30:07 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: install gnome-panel.h

Sat Dec 19 02:38:09 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: cosmetic thingie fixed ...

Sat Dec 19 02:12:32 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.c: changed disable animations to enable
	  animations

	* session.c: made the "..." buttons off by default, happy now????

Sat Dec 19 01:55:10 1998  George Lebl  <jirka@5z.com>

	* menu.c: experimental Redhat menu reading code, #if 0'ed
	  out now until proven stable and functionally complete

	* panel_config.c,drawer.c: changed negative checkboxes to positive
	  and made only AutoHide checkbox (not two radio boxes)

	* applet-widget.c: fixed a bug with right click menus, now the
	  menus come up the same way all over (if you click they will stay).
	  this took some X hackery which is probably not 100% the
	  RightWay(tm) but it works (it bypasses corba and emulates a
	  button press on the socket with XSendEvent)

Wed Dec 16 14:54:09 1998  Owen Taylor  <otaylor@redhat.com>

	* applet.c button-widget.c button-widget.h panel-widget.c:

	widget->window cannot be INPUT_ONLY. So, do the same
	trick as we do for CheckButtons or Scales. Make
	ButtonWidget NO_WINDOW, with an additional event_window
	field.

Wed Dec 30 17:16:41 1998  George Lebl  <jirka@5z.com>

        * session.c,menu.c,main.c: cleaned up some weird stuff, and use
          g_string where possible to avoid problems

        * panel-util.[ch]: remove get_full_path

Wed Dec 30 01:16:06 1998  George Lebl  <jirka@5z.com>

        * menu.c: close opened files!

1998-12-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* button-widget.c (button_widget_draw): Only draw if the tile is
	non NULL.

Tue Dec 29 02:22:36 1998  George Lebl  <jirka@5z.com>

	* menu.c: couple of minor fixes

Mon Dec 28 20:57:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: remove problematic string breaking routine and use the
	  gnome-config one, and fix a small memory leak

Mon Dec 28 00:26:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,panel.c: cosmetic code changes

1998-12-26  Martin Baulig  <martin@home-of-linux.org>

	* session.c (panel_config_sync): Set `applets_to_sync' back to
	NULL before calling do_session_save (), to make it work when
	called recursively.

Sat Dec 26 01:16:45 1998  George Lebl  <jirka@5z.com>

	* *.c: destroy signal is a void function, I always thought it
	  returned int, so I fixed that

Thu Dec 24 12:21:20 1998  George Lebl  <jirka@5z.com>

	* menu.c: don't load menu on startup for menu applets

	* menu.[ch],session,panel.[ch],main.c,applet.[ch]: implement menu
	  aging, old menus are destroyed if not used for over a minute to
	  save memory

Thu Dec 24 04:05:25 1998  George Lebl  <jirka@5z.com>

	* menu.c: save a couple of extra bytes by not allocating a
	  string since we have a usable string that lasts long enough

Thu Dec 24 03:48:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: create top level submenus as fakes, this saves even more
	  ram if the user never uses a menu

Thu Dec 24 03:37:05 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],session.c,menu.c: cleaned up params argument to be
	  an int, this is some old old cruft from about a year ago

	* *.[ch]: minor cleanups, changed a bunch of GList's to GSList's

	* panel.c: don't load the panel menu by default, load it when needed

	* menu.[ch],session.c: got rid of the dot buttons and icons list,
	  now we just mark all menus as dirty, ready for rereading, this
	  saves us tuns of memory when the user doesn't use pixmaps or
	  dot_buttons .. and we also don't load all menus at startup

Wed Dec 23 22:53:40 1998  George Lebl  <jirka@5z.com>

	* menu.c: completely change how redhat menus are read, now they
	  are converted to normal gnome menus. also they are not fully
	  checked for additions, only the directories are checked so it
	  won't catch modified files, just added/removed files

	* menu.c: converted all GList's to GSList's, plus I don't anymore
	  store the desktop entry structures to save memory, plus I do a
	  fake menu read on startup so that submenus aren't read until a
	  user actually goes to them. Plus I fixed a race with gtk, my hack
	  for replacing menus during the select signal didn't all work so
	  that caused some menus to "hang", I solved it with a bigger hack
	  that removes and re-selects the entry if the menu has already been
	  shown.

	* menu.c: changed logic for getting top directory icons

	* launcher.[ch]: got rid of the load_launcher_applet_dentry func

	* panel-util.[ch]: added a remove_directory call for recursively
	  cleaning a directory, and made string_in_list func be a GSList
	  function

1998-12-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed the error, that preventend the panel from
 	restoring a saved session, if it's used with gnome-session.  Due
 	to some changes of Felix, the 'gnome_cloned_client' call does
 	nothing anymore, so the panel always thought, it has to restore
 	the default session.

Tue Dec 22 14:38:00 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel-widget.c: with timeouts finally working on my box
	  I realized that 100ms for timeouts on moving is too much so
	  changed it back to 30ms

Tue Dec 22 02:10:51 1998  George Lebl  <jirka@5z.com>

	* menu.c: ok ok the redhat menu code now officially sucks and
	  will get changed, I fixed the weird menu bug by not doing a
	  check and reread of the menu. I think I'm gonna go a completely
	  different route on this redhat menu thing

	* launcher.[ch]: added a way to make menu out of a desktop entry
	  by itself for added speed

Mon Dec 21 13:54:42 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,corner-widget.c,drawer-widget.c,panel-util.[ch]:
	  now set color on the buttons as well if panel color is set, and
	  I stole some color stuff from gtk to make the colors be set
	  properly (instead of just multiplying rgb values)

Mon Dec 21 00:08:09 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: implemented minimum size of 48 pixels so
	  that adding to an empty drawer is easier

Sun Dec 20 22:13:36 1998  George Lebl  <jirka@5z.com>

	* extern.[ch],main.c: took out synchronious applet startup code as
	  it didn't work anyhow and was taking up space

	* menu.c,session.c,panel.c: changed menu properties to allow other
	  menu types then user/system (such as now redhat) ... plus I enabled
	  redhat menus as they seem stable and well behaved (dnd doesn't work
	  from them though)

Sun Dec 20 14:14:37 1998  George Lebl  <jirka@5z.com>

	* menu.c: replace connect_iterp with connect_full

Sun Dec 20 02:02:10 1998  George Lebl  <jirka@5z.com>

	* drawer.c: use icon entry

	* panel.c: use motion notify events for moving insted of just a
	  timer, the logic here is the same as used for applet moving and
	  it should avoid crowding of more motion events together using
	  a timeout

Sun Dec 20 01:37:54 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: add a call to back_change when changing panels
	  so that we actually change the back on applets that can (printer
	  can)

	* panel-widget.c: take out the old timeout based move as it's now
	  (and actually been for a while) possible to again use motion_notify
	  ... though I use a timeout to avoid too many motions at once and
	  move at most every 100ms

Sat Dec 19 21:10:02 1998  George Lebl  <jirka@5z.com>

	* menu.c: when adding new panel try to find a spot that is empty,
	  add conversion or edge<->corner panel and move add drawer to
	  the main panel menu from the add panel submenu

	* panel.c: don't put up panel menu on the left click, just on the
	  right click

	* panel_config.c,panel_config_global.c,menu.c: capitalize only the
	  first letter in strings for consistency

Sat Dec 19 03:30:07 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: install gnome-panel.h

Sat Dec 19 02:38:09 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: cosmetic thingie fixed ...

Sat Dec 19 02:12:32 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.c: changed disable animations to enable
	  animations

	* session.c: made the "..." buttons off by default, happy now????

Sat Dec 19 01:55:10 1998  George Lebl  <jirka@5z.com>

	* menu.c: experimental Redhat menu reading code, #if 0'ed
	  out now until proven stable and functionally complete

	* panel_config.c,drawer.c: changed negative checkboxes to positive
	  and made only AutoHide checkbox (not two radio boxes)

	* applet-widget.c: fixed a bug with right click menus, now the
	  menus come up the same way all over (if you click they will stay).
	  this took some X hackery which is probably not 100% the
	  RightWay(tm) but it works (it bypasses corba and emulates a
	  button press on the socket with XSendEvent)

Wed Dec 16 14:54:09 1998  Owen Taylor  <otaylor@redhat.com>

	* applet.c button-widget.c button-widget.h panel-widget.c:

	widget->window cannot be INPUT_ONLY. So, do the same
	trick as we do for CheckButtons or Scales. Make
	ButtonWidget NO_WINDOW, with an additional event_window
	field.

1998-12-16  Jonathan Blandford  <jrb@aware-of-vacuity.labs.redhat.com>

	* menu.c (panel_lock): let's do the correct xscreensaver command

Tue Dec 15 16:54:34 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: changed the event setup a bit to be less
	  expensive and smaller and should work better.

1998-12-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Added panel.soundlist.

Tue Dec 15 15:38:57 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: fixed some problems with events so that clicks
	  work again on all applets. Though I still have a problem with
	  the mixer if you drag it by the handle and it actually gets
	  the middle click for dragging

Mon Dec 14 21:46:56 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: minor sanity checks added

Mon Dec 14 22:15:31 EST 1998  Matt Wilson  <msw@redhat.com>

	* extern.c: no c++ comments

Mon Dec 14 14:26:51 1998  George Lebl  <jirka@5z.com>

	* session.c: start up clock and three launchers (help,control
	  center and netscape) by default in the middle of the panel

Mon Dec 14 00:32:09 1998  George Lebl  <jirka@5z.com>

	* everything: last week or so was a week of hectic change of elliot and
	  me getting everything working with the new goad stuff ... as such there were
	  huge changes and writing precise log files would have proven difficult (plus
	  elliot doesn't write changelogs) ... so I postponed any changelogs until
	  it's all working ... form now on I'll be writing changelogs again ...

1998-12-13  Martin Baulig  <martin@home-of-linux.org>

	* applet-widget.c (applet_widget_add): Don't free the data of the
	goad_ids_list to avoid a core dump with multi applets.

1998-12-08  Michael Lausch  <mla@gams.at>

	* applet-widget.c (gnome_panel_applet_reinit_corba): change the
	goad_server_activate_with_repo_id to comply with the new version.
	* extern.c (extern_start_new_goad_id): ditto and add a
	CORBA_Environment parameter to the Object_release call

Mon Dec 07 01:09:02 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: added an abort_load call to abort loading of
	  the applet if it was not yet added

	* extern.c: fixed the multiapplets to be actually recognized

Sun Dec 06 13:42:27 1998  George Lebl  <jirka@5z.com>

	* extern.c,main.c: launch applets so that always a new instance comes
	  up, also make the execing of applets to be done after everything
	  is initializedand done, so that we get no corba problems

	* orbit-glue.c: removed request_globcfg because it was not used

	* applet-widget.[ch]: moved in all the stuff from orbit-applet-lib
	  and removed a lot of redunduncy, forgot to check the resulting
	  binary size change but it shouldn't be drastic anyhow

	* orbit-applet-lib.c,applet-lib.h: removed

Fri Dec 04 03:01:53 1998  George Lebl  <jirka@5z.com>

	* extern.c,orbit-applet-lib.c: do grabs on the panel side again
	  and fix the grab problems with a simple gdk_flush

Thu Dec 03 03:54:17 1998  George Lebl  <jirka@5z.com>

	* extern.c: fixed a small problem of a clist not initialized

Thu Dec 03 02:39:56 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],session.c,extern.[ch],panel.c,menu.c: removed
	  the params stiff from extern applets and use goad_id's exclusively
	  for everything

	* orbit-glue.c,orbit-applet-lib.c,applet-lib.h: changed the corba
	  interface a bit to pass only goad_id's

	* applet-widget.[ch]: removed _new_with_params, and changed the
	  multiapplet argument to _init is not a list of the goad_id's
	  that can be passed to the new applet callback

	* extern.c: created a new launch multiapplet framework and dumped
	  the old mulapp/exec-queue approach

	* exec-queue.[ch],mulapp.[ch]: removed now done in a simpler manner
	  in extern.c

1998-12-01  Raja R Harinath  <harinath@cs.umn.edu>

	* appletsConf.sh.in (APPLETS_LIBS): Also list `-lpanel_applet'.

Thu Nov 26 17:30:10 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,orbit-applet-lib.c: got rid of some ugliness

	* orbit-applet-lib.c: now grabs pointer correctly (kind of) for
	  moving however menus still work weird

	* extern.c: moving is done without grabs, as if it's with, it
	  doesn't work right for some reason, grabs are then kept on
	  the applet side

Thu Nov 26 02:57:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: only get an existing filename for menu path, and use
	  directory entry mode of file entry here

Thu Nov 26 01:57:44 1998  George Lebl  <jirka@5z.com>

	* menu.c,panel_config_global.c,panel_config.c,panel-util.c: got
	  rid of ugly entry changed disconnect by using while_alive

Thu Nov 26 01:26:13 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: function to create icon entry

	* panel_config_global.c: use icon entry for tiles

Thu Nov 26 01:00:05 1998  George Lebl  <jirka@5z.com>

	* menu.c,launcher.c: use the new dentry-edit new function

Wed Nov 25 00:01:33 1998  Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* main.c: Actually exit when --discard-session arg is passed, 
	instead of just hanging around.

Fri Nov 20 02:14:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed the apps directory creation, now rereads when a
	  file/dir goes missing, and create_directory doesn't need to
	  check the file again, just uses the force parameter

Thu Nov 19 22:28:30 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed some bugs with user menus and non-both configuration
	  of the main menu, should now better deal with empty user menu
	  and will actually create the directory

Mon Nov 16 23:07:56 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: just cosmetic touch up

Mon Nov 16 22:18:45 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: setup the config structure properly for corner
	  hidebutton options

	* panel-widget.c: default width is 48 not 0 in size_request

	* panel-widget.c: fixed the set_default style so that it works with
	  themes properly

	* snapped-widget.[ch],corner-widget.[ch],drawer-widget.[ch]:
	  when setting a background color, set the frame colors as well
	  for a nicer look

Thu Nov 12 00:28:04 1998  George Lebl  <jirka@5z.com>

	* corner-widget.[ch],panel_config.[ch],session.c: add the hidebutton
	  options to corner widget so that it is consistent with the other
	  types

	* drawer-widget.c: minor cleanup

	* snapped-widget.c: if we just disable hidebuttons, show the panel
	  if it was hidden or it would be lost forever :)

	* panel_config.[ch]: minor cleanup

1998-11-12  Jens Lautenbacher  <jens@tellux.de>

	* panel_config_global.c: tile_enabled toggle for each button type.
	* panel_config_global.h: use it.
	* button-widget.c: use it here
	* button-widget.h: ditto
	* session.c: ditto

1998-11-08  Jens Lautenbacher  <jens@tellux.de>

	* swallow.c (swallow_detached): a bit of cleanup
	(swallow_attached): ditto
	(set_swallow_applet_orient): ditto

	* applet.c (applet_button_press): some special casing for floating
 	swallows

1998-11-07  Jens Lautenbacher  <jens@tellux.de>

	* swallow.c (set_swallow_applet_orient): Changed for below.
	(swallow_attached): new function.
	(swallow_detached): ditto.

	* swallow.h: struct Swallow: changed for below.

	* swallow.c (create_swallow_applet): Rewrote to use
 	handleboxes. This is cute.

1998-11-02  Jens Lautenbacher  <jens@tellux.de>

	* panel_config_global.c (make_int_scale_frame): add a step parameter
	(animation_notebook_page): use it.
	(icon_notebook_page): use it.
	(misc_notebook_page): use it.

Wed Oct 28 21:09:52 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: add warning if old siugnal is used

1998-10-26  Jens Lautenbacher  <jens@tellux.de>

	* drawer-widget.c: cleanup my own brain damage.

	* drawer.c (add_drawer_properties_page): use CONFIG_PADDING_SIZE
 	for padding size

1998-10-25  Jens Lautenbacher  <jens@tellux.de>

	* drawer-widget.[hc], drawer.[ch], panel.c, panel_config.[ch],
 	session.c: Added configurable hidebuttons for drawers much like
 	those for snapped panels.

Wed Oct 21 11:41:44 1998  Owen Taylor  <otaylor@redhat.com>

	* panel.c menu.c: Added the ability to drag launchers applets
	and directories from the menu onto the panel.

1998-10-20  Andrew Veliath  <andrewtv@usa.net>

	* Makefile.am: Update IDL compiler rule to depend on ORBIT_IDL.
	
Sun Oct 18 19:19:25 1998  Owen Taylor  <otaylor@gtk.org>

	* panel.c: Use the new DND API.

1998-10-13    <jrb@aware-of-vacuity.labs.redhat.com>

	* menu.c (panel_lock): changed the command to use xscreensaver now.

Tue Oct 13 02:28:55 1998  George Lebl  <jirka@5z.com>

	* main.c,applet.c,drawer-widget.c: fix minor warnings

	* swallow.c: fix a bug with removing swallows still waiting for windows

Sun Oct 04 02:41:01 1998  George Lebl  <jirka@5z.com>

	* launcher.c: applied patch from Michael O'Reilly
	  <michael@metal.iinet.net.au> that fixes the launcher property
	  crashes

1998-09-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Makefile.ama: Use '?' to separate the sed
	commands as ',' is used when people pass -Wl,something.

Wed Sep 30 14:45:30 1998  John Ellis  <johne@bellatlantic.net>

	* menu.c, panel_config.c, session.c, snapped-widget.[ch]: Added option
	to disable hidebutton pixmaps.
	* snapped-widget.c(show_hidebutton_pixmap)
	(snapped_widget_show_hidebutton_pixmaps): New functions for above.
	* panel_config.c(snapped_set_hidebutton_pixmaps): Same.

Sat Sep 26 00:56:14 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* menu.c (create_menu_at): replaced gnome_pixmap_new_from_file_at_size
	with gnome_stock_pixmap_widget_at_size to get (IMHO) nicer icons in
	menus.

1998-09-22  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Removed gnome-panel.idl, since it now
	lives in another directory.
	(libpanel_appletinclude_HEADERS): Add panel-types.h to the list of
	headers for libpanel_applet.

Tue Sep 22 10:59:19 1998  George Lebl  <jirka@5z.com>

	* menu.c: follow the show_dot_buttons on creation, so that they
	  don't reappear after they've been disabled

Tue Sep 22 00:53:10 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: fix drawer open/close code when animations are
	  disabled

	* session.c: global_config is not initialized, those values were
	  bogus anyway

	* session.c: fix segfault when quiting with a swallow applet that
	  didn't ever swallow anything

Thu Sep 17 01:51:47 1998  John Ellis  <johne@bellatlantic.net>

	* corner-widget.c, snapped-widget.c: changed xpm references to png.

Sat Sep 12 17:15:57 1998  George Lebl  <jirka@5z.com>

	* exec-queue.c: fix zombies

Wed Sep 09 01:47:44 1998  George Lebl  <jirka@5z.com>

	* orbit-applet-lib.c: fixed brandamage with the request_id, it
	  used to sleep one second on every call, and increase the timeouts
	  to 30 secs

Wed Sep 09 01:07:43 1998  George Lebl  <jirka@5z.com>

	* extern.c: very minor fixup

	* panel-widget.c: fixes to forbidden lists and some minor fixups

Tue Sep 08 01:15:57 1998  George Lebl  <jirka@5z.com>

	* session.c: actually destroy sockets on exit, don't just
	  remove them from their container

	* *.c: minor cleanups

Tue Sep 08 00:14:37 1998  George Lebl  <jirka@5z.com>

	* extern.[ch]: correctly trap the destroy signal and correctly
	  destroy the event_box

Tue Sep 08 00:13:23 1998  George Lebl  <jirka@5z.com>

	* main.c,session.c,exec-queue.[ch],extern.c: got rid of the
	  children list and we are no longer trapping sigchld, trapping
	  destroy on the socket is much saner and nicer

	* gnome-panel.idl,orbit-applet-lib.c,applet-lib.h,orbit-glue.[ch],
	  session.c: tooltip state is now sent to each applet even in case
	  of multi applets ... doesn't change a thing in the actual applet
	  API anyhow

Mon Sep 07 00:29:12 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed some dead code

Sun Sep 06 23:56:03 1998  George Lebl  <jirka@5z.com>

	* extern.c: bunch of minor fixes

	* main.c: fix catching of sigchld's

1998-09-06  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (xpanel): Comment out unused rule.

Sun Sep 06 13:26:54 1998  George Lebl  <jirka@5z.com>

	* swallow.c: fixup socket destruction

	* applet.c: instead of removing applet, destroy it on clean

Sat Sep 05 14:24:43 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel_config_global.[ch],session.c: added a way to
	  make ... buttons optional

	* menu.c: use right click anywhere on the menu item as another
	  way to get the item menu

Sat Sep 05 00:20:03 1998  George Lebl  <jirka@5z.com>

	* session.c: fixed a possible cause of the applet multiplication
	  bug, but I doubt this was it

Fri Sep 04 22:54:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix drawing after color/pixmap drop

	* panel-widget.[ch],panel.[ch],menu.c,launcher.[ch]:
	  added ability to drop directories desktop files and
	  executables onto the panel

	* launcher.c: when adding dentry, default to application

Fri Sep 04 18:05:35 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: use color_picker

	* applet-widget.c: added some argument checking

Fri Sep 04 16:46:30 1998  George Lebl  <jirka@5z.com>

	* menu.c: added properties to menus

	* launcher.[ch]: cleanups

Fri Sep 04 01:45:02 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added argument checking to functions, fixed a bug
	  or two, and disabled DEBUG

Fri Sep 04 00:37:45 1998  George Lebl  <jirka@5z.com>

	* *.c: fix a whole bunch of warnings

Fri Sep 04 00:08:28 1998  George Lebl  <jirka@5z.com>

	* mico-*.(h|cc),applet-lib.cc: removed

	* orbit-glue.h: replaces mico-glue.h

	* Makefile.am: removed support for mico

Thu Sep 03 23:24:20 1998  George Lebl  <jirka@5z.com>

	* session.c: typos fixed, now correctly loads tiles

Thu Sep  3 13:26:41 1998  Owen Taylor  <otaylor@redhat.com>

	* panel-widget.c ([add/remove]_panel_[from/to]_forbidden):
	Check for NULL _before_ cast to avoid warnings.

Wed Sep 02 23:53:23 1998  George Lebl  <jirka@5z.com>

	* session.c: clear the list of applets after do_session_save
	  default tiles are now in pixmaps/tiles

Wed Sep  2 01:30:32 PDT 1998 Manish Singh <yosh@gimp.org>

	* main.c
	* applet.c: fixes for changed GArray interface (untested)

Wed Sep 02 00:15:41 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c,applet-lib.cc: fixed include file typos

Tue Sep  1 15:32:54 1998  Owen Taylor  <otaylor@redhat.com>

	* Some ref-counting fixups. Ref the widgets we are
	going to later unref, and always unref our menus
	instead of destroying them, since the latter might
	leak.

	* Destroy all panels on exit, so that GTK_DEBUG=objects
	can give meaningful results.

	* orbit-applet-lib.c (applet_corba_gtk_main_quit): Release
	the panel reference when quitting so that the connection
	is shut down nicely.

Tue Sep 01 10:28:05 1998  George Lebl  <jirka@5z.com>

	* launcher.c: got rid of an obscolete argument

1998-09-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel-util.c (my_g_list_pop_first): Fix warning.

Mon Aug 31 20:22:04 1998  Owen Taylor  <otaylor@redhat.com>

	* session.c (do_session_save): Pass the sync_applets list by
	reference so that the list can be properly modified.

Mon Aug 31 01:30:50 1998  George Lebl  <jirka@5z.com>

	* session.c: commented out debug info

	* menu.c: fix gnome_pixmap stuff (it's button_widget now)

	* panel.c: mark an applet for saving on add as well

Mon Aug 31 00:48:56 1998  George Lebl  <jirka@5z.com>

	* panel-util.c: fix a minor memory leak

Sun Aug 30 22:35:16 1998  George Lebl  <jirka@5z.com>

	* *.c: fixed a bunch of list/memory related problems

Sun Aug 30 13:33:48 1998  George Lebl  <jirka@5z.com>

	* applet.[ch],session.c,extern.c: Cleaned up widget/applet_widget
	  division

	* applet.c: always "bind lower events" on panel_widget_add

	* panel_config.c: removed unused variable

Sat Aug 29 22:52:46 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel-util.[ch]: fixed undefined deps with applets
	  by putting the menu position code into menu.c

Sat Aug 29 22:36:18 1998  George Lebl  <jirka@5z.com>

	* session.c,main.c,panel_config_global.c: made icon settings
	  configurable

	* panel_config.c,session.c,menu.c,snapped-widget.[ch]: added
	  a setting to disable hidebuttons on the snapped panel

Sat Aug 29 16:04:37 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c: fix initial position

Sat Aug 29 15:37:50 1998  George Lebl  <jirka@5z.com>

	* swallow.c: accept and properly launch .desktop files

Sat Aug 29 14:58:38 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch],menu.c,applet.c,panel.c: clean up menu
	  positioning code, so that there is only one function

Sat Aug 29 02:13:50 1998  George Lebl  <jirka@5z.com>

	* menu.c: cleanup of orient stuff

	* *.c: general cleanup after -Wall

1998-08-29  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Fixed a bug, that occured, when the panel
	connects the session manager the first time every (i.e. the panel had
	no previous client id before).

Fri Aug 28 12:17:56 1998  George Lebl  <jirka@5z.com>

	* menu.c: use the new transparent gnome icon image

Fri Aug 28 10:32:51 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: don't resize the pixmap when we don't need to

Fri Aug 28 02:19:18 1998  George Lebl  <jirka@5z.com>

	* menu.c: uset the logo-icon image for the main menu, this
	  however doesn't look too good since the background is white

	* panel_config_global.[ch],session.c,main.c: tiles are now
	  optional (can be set from global configuration), all other
	  icon stuff will become settable as well soon

Fri Aug 28 01:32:36 1998  George Lebl  <jirka@5z.com>

	* button-widget.c: fixed up the position calculation

Fri Aug 28 01:10:47 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: removed support for no_window clicking since
	  it's not needed

	* button-widget.[ch]: added support for "depth" pressing, added an
	  inputonly xwindow, and other minor improvements, including a button
	  like behaviour

	* menu.c: adapt to the new pressed semantics for button-widget

Thu Aug 27 02:33:44 1998  George Lebl  <jirka@5z.com>

	* button-widget.c: fixes, made pressed return bool

	* panel-widget.c: don't consider it a beginning of a clicked
	  if true is returned from pressed

	* drawer.c,menu.c: converted to button-widget

	* main.c: loads up the default tiles and enables them, this will
	  be configurable in the future, but for now it's hardcoded

Wed Aug 26 02:14:11 1998  George Lebl  <jirka@5z.com>

	* button-widget.[ch],panel-widget.[ch]: redid the icon stuff, now
	  icons are windowless widgets which don't even draw themselves,
	  the panel is aware of them and draws them itself, this will in
	  the very near future have support for tiles.

	* launcher.c: using the new button-widget as the widget instead of
	  gnome-pixmap

	* panel-types.h: new file for global types

	* panel.c: support rightclick menus for no_window applets

	* applet.[ch]: export the show_applet_menu function

1998-08-20  Martin Baulig  <martin@home-of-linux.org>

	* orbit-applet-lib.c (gnome_panel_applet_register): Don't
	CORBA_free () the ior since it is needed when a new instance
	of a multiapplet is started.

1998-08-19  Martin Baulig  <martin@home-of-linux.org>

	* Makefile.am: Added some explicit dependencies to make it work
	for people building out of the tarballs.

Wed Aug 19 01:44:12 1998  George Lebl  <jirka@5z.com>

	* drawer-widget.c: added slightly ugly optimisation to the drawer
	  placement code

	* applet-widget.h: fix typo in comment

Tue Aug 18 20:18:41 1998  George Lebl  <jirka@5z.com>

	* applet.c,menu.c,panel.c: fix menu positioning to use requisition
	  allocation was Bad(tm) and didn't work with the latest gtk

Thu Aug 13 01:28:30 1998  George Lebl  <jirka@5z.com>

	* session.c: show even closed drawers, they flicker during startup
	  anyway, just this way they don't segfault when there is an
	  external applet on them

Wed Aug 12 20:30:22 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],drawer-widget.[ch],session.c,panel.c: offload some
	  drawer functionality from drawer.c to drawer-widget, and make the
	  size allocation stuff work right

Wed Aug 12 01:00:40 1998  George Lebl  <jirka@5z.com>

	* drawer.c,panel.c: fix autohide panel/drawer interaction

Tue Aug 11 03:01:27 1998  George Lebl  <jirka@5z.com>

	* drawer.c,menu.c: minor -Wall induced cleanups

Tue Aug 11 02:45:55 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch],panel_config.[ch],applet.c: merged panel configuration
	  with the applet configuration in drawers

	* panel_config.c, panel.c: remove panel config dialog when the panel
	  is destroyed

	* *.c: minor cleanups

Mon Aug 10 02:32:19 1998  George Lebl  <jirka@5z.com>

	* launcher.c: removed a leak when launchers were destroyed
	  and made config dialog disappear when it's launcher is
	  destroyed

	* menu.c: made config dialog disappear when it's menu is
	  destroyed

	* drawer.c: made config dialog disappear when it's drawer is
	  destroyed

	* panel.c,applet.c: put in hacks to deal with tooltips owning
	  a reference count for applets

Sun Aug 09 19:59:18 1998  George Lebl  <jirka@5z.com>

	* menu.c: implemented properties of menu buttons

Sat Aug 08 23:42:14 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed interaction of applet_padding and
	  insertion of applets

Sat Aug 08 14:46:16 1998  George Lebl  <jirka@5z.com>

	* *.c: minor cleanups in function params

Sat Aug 08 01:29:31 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a few warnings

	* main.c: reordered some startup items

	* panel_config_global.[ch],panel-widget.[ch],session.c: support
	  applet padding, the minimum distance between applets

Mon Aug 03 03:04:44 1998  George Lebl  <jirka@5z.com>

	* *.(c|cc): fixed memory leaks concerning remove_link

	* panel-util.[ch]: added a glist pop routine

	* menu.c: restore the grab on the parent menu after the popup
	  was "deactivated"

Sat Aug 01 20:55:12 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed main menu addition segfault

Sat Aug 01 19:36:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: a bunch of cleanups in _remove _add, to be
	  more gtkish

	* drawer-widget.c: minor interim hack to make drawers position
	  themselves 100% correctly

1998-08-01  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (PANEL_ORB_SRCLIST): Move mico-glue.h ...
	(panel_SOURCES): ... here.
	(EXTRA_libpanel_applet_la_SOURCES): Add all files which depend on
	the configure process.
	(EXTRA_panel_SOURCES): Likewise.

Sat Aug 01 16:23:31 1998  George Lebl  <jirka@5z.com>

	* menu.c: instead of a button for each menu item action there is
	  now a button with three dots which has a menu with the add
	  options (there will also be properties in the future)

Sat Aug 01 01:20:56 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added support for no_window widgets, not fully
	  but it's something, I don't currently use it however

	* drawer.c,launcher.c,menu.c,panel.c,applet.c: got rid of a lot
	  of redundant eventboxing and the internal applets (except for
	  logout which shall follow) are now just gnome pixmaps, and the
	  click event is simulated. this adds good basis for the backing tile
	  support, plus it greatly increases performance especially when
	  dealing with very large drawer structures (there is 1/3rd the
	  windows to worry about)

	* session.c: tweaked the session saving/loading to maximize performance
	  ... however there now isn't backward compatibility so everyone needs
	  to delete his panel.d dir

	* panel-widget.c: minor fix for adding applets

Fri Jul 31 18:58:12 1998  George Lebl  <jirka@5z.com>

	* *.c: minor cleanups after -Wall compilation

Fri Jul 31 15:06:49 1998  George Lebl  <jirka@5z.com>

	* drawer.c,drawer-widget.c: minor fixes and added the new drawer
	  icons from John Ellis

Fri Jul 31 01:17:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more cleanups, no need to the pushing functions,
	  we get that for free during size_alloc

	* panel_config.[ch]: fixed the update_back function

	* panel_config*.c: uset gtk_notebook functions for appending pages

Fri Jul 31 00:34:06 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c: fixed up the size_alloc and size_request,
	  it's now using a slight hack which seems to work nicely, we
	  do a size_request during size_alloc which fixes a race condition
	  and we sometimes do a cube size request in case we are changing
	  orientation to prevent flicker

	* corner-widget.c: fixed up in style of snapped-widget

Thu Jul 30 13:17:15 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed size_allocate to allow applets all the
	  way to the right side

Thu Jul 30 12:43:15 1998  George Lebl  <jirka@5z.com>

	* panel-widget[ch],snapped-widget.c,drawer-widget.c,corner-widget.c,
	  drawer.c,panel.c: very large cleanups in panel-widget, effectively
	  getting rid of the old broken geometry managment

1998-07-30  Christopher Blizzard  <blizzard@odin.appliedtheory.com>

	* .cvsignore: Add ORBit generated files

1998-07-28  Christopher Blizzard  <blizzard@odin.appliedtheory.com>

	* Makefile.am (MAINTAINERCLEANFILES): Add CORBA_SRCLIST to be
	cleaned in a maintainer-clean

Tue Jul 28 03:46:58 1998  George Lebl  <jirka@5z.com>

	* menu.c: add .directory files to the checked file list as well

	* menu.c: "add" button added to menuitems, no longer is there
	  an "add app to panel" menu since it can all be done from the
	  main menu, this makes it much nicer to add launchers to
	  the panel

	* panel.c,menu.c: put the panel menu creation routine into menu.c

	* *.c: don't center dialogs, they now act nicely without it

	* launcher.c,menu.c: add a way to create a new launcher

	* orbit-applet-lib.c,applet-lib.cc,main.c: cookies are now
	  per display which should allow two panels to run ...

	* panel-widget.c: very unsuccessful attempt at fixing the geometry
	  bugs in the widget, I will have to spend more time on this

Mon Jul 27 03:38:22 1998  George Lebl  <jirka@5z.com>

	* menu.[ch],panel.c: unified the "Panel" submenu in root
	  menu and the right click submenu for panels

Fri Jul 24 02:15:03 1998  George Lebl  <jirka@5z.com>

	* applet.[ch],panel.[ch]: moved panel menu creation to panel.c

	* applet.c,panel.c: allow removing of panel with some applets
	  in it (this was there because desctruction was not handeled
	  properly before, but it is ok now, it will remove all applets
	  inside a panel/drawer)

	* menu.c: changes to the "add to panel" code, a bit of cleanup,
	  ability to add a clean root menu, ability to add drawers instead
	  of just a menu

Thu Jul 23 00:59:03 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet.c: added better support for case by case session
	  saving, if an applet is removed or added, the panel will only
	  save that applet, not everything as it did in the past, this
	  should make the automatic saves almost unvisible, applets are
	  should now send applet_widget_sync_config to request a save

	* applet-widget.h: minor fixes

1998-07-23  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* menu.c (about_cb): Use _() for strings in about dialog. 

Wed Jul 22 02:05:49 1998  George Lebl  <jirka@5z.com>

	* *.(cc|c|h): major moving of code from one file to another, no
	  bugs fixed or anything like that, it's purely moving of stuff
	  around, all session stuff from main.c and panel.c is now in
	  session.c, all applet stuff from panel.c is now in applet.c,
	  all extern stuff from main.c and panel.c is now in extern.c,
	  all panel stuff from main.c is now in panel.c, and and the
	  exec-queue stuff from main.c is now in exec-queue.c. essentially
	  panel.c is COMPLETELY different :)

Tue Jul 21 03:47:55 1998  George Lebl  <jirka@5z.com>

	* *.[ch]: cleanups in panel core,  plus a whole bunch of fixes

Sun Jul 19 23:41:08 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: got rid of destrocy_callback which wasn't
	  usefull any more

	* swallow.c: fixed adding of swallows

Sun Jul 19 18:57:19 1998  George Lebl  <jirka@5z.com>

	* main.c: cleaned up the load_applet function mess a bit,
	  having one function that does it all is not the right choice,
	  also took  out the applet load queue, I can't remember why it
	  was there but it was just making things more complicated

	* menu.c: cleaned things up and added a menu parameter for different
	  usermenu/system menu configurations for the main menu, but no
	  config fialog yet

Sun Jul 19 15:20:22 1998  George Lebl  <jirka@5z.com>

	* menu.c: cleanups, better multiple dir menu support, more
	  autoreread fixes, etc ...

	* panel-widget.[ch],snapped-widget.c: cleanups relating to size
	  and pathetic attempts to fix flashes

Sun Jul 19 02:35:27 1998  George Lebl  <jirka@5z.com>

	* orbit-applet-lib.c: add #include <string.h> to make gcc happy

Sun Jul 19 02:34:00 1998  George Lebl  <jirka@5z.com>

	* menu.c,main.c,panel.c: got rid of the ugly root_menu
	  thingie since it would make per menu options impossible
	  plus some cleanup and more fixups to the menu stuff

1998-07-19  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (panel_LDADD): s/MICO_LIBS/ORB_LIBS/g.
	(panel_LINK): Define to $(LINK) or $(CXXLINK) depending on if
	ORBit or MICO is used.

	* appletsConf.sh.in (APPLETS_LIBS): s/MICO_LIBS/ORB_LIBS/g.

Sat Jul 18 16:17:18 1998  George Lebl  <jirka@5z.com>

	* launcher.[ch]: make use of gnome-dentry-edit, plus some
	  cleanup

	* panel.c: changed the way the launcher dentries are saved, in
	  preparation of making a user defined apps menu

	* menu.c: allow multiple menudirs in a single menu,
	  main menu now has the system and the user menu in one
	  large menu (this will become configurable in the future)

Fri Jul 17 02:45:41 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,applet-{lib,widget}.*,menu.c, panel_config_global.c:
	  made configuration syncing do partial saves instead of always
	  dumping everything, everything is dumped only on end or during
	  applet add/remove

	* panel-widget.c,panel.c: made button 1 events work more sanely

1998-07-16  Raja R Harinath  <harinath@cs.umn.edu>

	* panel.h (GPOINTER_TO_INT,GINT_TO_POINTER): 
	Backward compatibility defines for people using gtk+ 1.0.

1998-07-15  Raja R Harinath  <harinath@cs.umn.edu>

	* panel.h (ITOP,PTOI): Remove defines.  `glib' provides the same
	thing as GINT_TO_POINTER, GPOINTER_TO_INT.
	* main.c: s/PTOI/GPOINTER_TO_INT/, s/ITOP/GINT_TO_POINTER/.
	* menu.c: Likewise.
	* panel.c: Likewise.
	* panel_config.c: Likewise.
	* applet-lib.cc: Likewise.

	* mico-glue.cc (panel_corba_gtk_main_quit): Give a parameter to
	orb->shutdown(). 
	* applet-lib.cc (applet_corba_gtk_main_quit): Likewise.
	
Wed Jul 15 03:51:52 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a segfault, there needs to be an entry in
	  the applets array before the applet is added to a panel

	* panel.c,swallow.c,panel_config.c,panel_config_global.c:
	  made all dialogs pop up at center of screen ... is this
	  the right berhaviour? it is much less annoting in almost
	  any fvwm placement mode

Tue Jul 14 03:03:30 1998  George Lebl  <jirka@5z.com>

	* swallow.[ch],main.c,panel.c: extend swallows to make them far
	  more usable then they were until now, now has the ability to
	  launch the app ... and to set the size of the swallow applet

Mon Jul 13 00:34:09 1998  George Lebl  <jirka@5z.com>

	* panel.c: remove applets from their eventboxes thus destroying
	  the sockets, and thus shutting them down cleanly, without warrning

Mon Jul 13 00:20:57 1998  George Lebl  <jirka@5z.com>

	* mico-glue.(cc|h),applet-lib.(cc|h),applet-widget.c,panel.c:
	  make the exit though mico calls, not with gtk_exit

Mon Jul 13 00:18:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: make it possible to have _add which
	  only binds the eents of the widget which is added and
	  not it's children

	* menu.c: make menus buttons, and add code for sending
	  the right events to the toplevel eventbox

	* panel.c: don't bind events recursively for menus

Sun Jul 12 18:52:55 1998  George Lebl  <jirka@5z.com>

	* menu.c: much smarter menu rereading, will only reread the
	  current menu, not it's submenus, same thing for statting,
	  this should make menus much faster

	* main.c: a coumple of bugs fixed, related to applet removal
	  the iterating has to be there, but we should check if the applet
	  was already destroyed as then we'd get a segfault, so it's
	  properly fixed now.

Sun Jul 12 21:31:39 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* main.c: fixed the sigchld handler I think.  Someone who knows
	the panel should check this out.
	
Sun Jul 12 02:53:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: got rid of the ugly inhibit allocates
	  hack.

	* panel.c: we can just do gtk_main_quit in _die and we don't
	  need the slow destruction of everything.

	* panel.c: MICO BUG! well the gtk bindings one anyhow, basically
	  gtk_main_quit() won't work here since ->run goes in an infinite
	  loop as it seems and doesn't care about return value as it
	  it should ... so what I do is to put gtk_exit in an idle handler
	  so that I  don't quit right away but soon ....

Sun Jul 12 02:07:52 1998  George Lebl  <jirka@5z.com>

	* main.[ch],panel.[ch],menu.c: cleanups, plus we no longer
	  refer to panels by their count as that is not clean any more
	  (although this is done during startup and depends on the fact
	  that all paneltypes init all their PanelWidgets in their _new
	  functions which might not be the case in the future, so this
	  will also need cleaning) ... plus now adding something to a panel
	  adds it to the one on which the menu resides instead of the
	  first one loaded

Sat Jul 11 04:01:38 1998  George Lebl  <jirka@5z.com>

	* main.c,mulapp.c,panel.c: general cleanup, I thought that
	  after adding code, I need to also delete code :)

Sat Jul 11 03:05:20 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made below changes compile ... still does not work
	  for me though

Fri Jul 10 18:35:20 1998  Michael Lausch  <mla@loki.gams.co.at>

	* swallow.c (ignore_x_error): just ignores X Errors
	(get_window_id): set error handler temporarily to ignore_x_error
	during traversion of the window tree. Some windows won't exist
	anymore, causing the panel to bail out with a gtk error.
	(create_swallow_applet): Don't call gtk_container_add for the
	swallow->socket widget. It's already part of the table.

Thu Jul 09 16:49:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed reparenting, for some reason the applet
	  still "feels" for it's old parent gtkfixed and if that's removed,
	  it craps out ... doing ref,remove,put,unref works ok though

Thu Jul 09 01:45:38 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,snapped-widget.c,main.c: fixed drawer
	  oddities and cleanup some code

Wed Jul 08 03:44:42 1998  George Lebl  <jirka@5z.com>

	* main.c,panel-widget.[ch]: fix the broken way the drawer monitoring
	  worked

Wed Jul 08 02:36:41 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,main.c,panel_config.c: full support for
	  the corner widget, plus a lot of bugfixes, it now pretends
	  to work so well it fooled me into thinking it does work

Wed Jul 08 01:08:19 1998  George Lebl  <jirka@5z.com>

	* corner-widget.c,main.c: fix the most glaring bugs with corner
	  widgets

Tue Jul 07 03:17:12 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c,menu.c: add support for corner widget, so it
	  kind of works, though there are no options for the corner
	  widget yet .. that will soon change though, also there's some
	  weird flicker as well ... should get fixed

Tue Jul 07 02:33:05 1998  George Lebl  <jirka@5z.com>

	* corner-widget.[ch]: initial coding of corner-widget, it seemed
	  way too easy to do ... we'll see how it will integrate, this
	  just builds it, it's not used yet

Tue Jul 07 01:52:31 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed removing of applets if the process dies

Sun Jul 05 18:45:50 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.[ch]: fixed the segfaults on exit when drawers
	  were present

Sun Jul 05 18:18:03 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: removing panels now possible, fixed autohide
	  and drawer interaction, removed some dead code

Sun Jul 05 15:21:47 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c,main.c: make hidebuttons behave a little
	  bit more sanely, you can for example now get a menu or
	  drag over a hidebutton and they also don't get the focus
	  border which was ugly and useless

Sat Jul 04 12:33:00 1998  George Lebl  <jirka@5z.com>

	* snapped-widget.c: prevent flashes during moving

	* main.c: prevent the bug where a panel drag became
	  persistent

Sat Jul 04 01:41:42 1998  George Lebl  <jirka@5z.com>

	* menu.c: add a way to add edge (snapped) panels

Sat Jul 04 00:00:25 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: optimize sending of the applet_move signal
	  and of the applet adjusting

Fri Jul 03 12:29:25 1998  George Lebl  <jirka@5z.com>

	* main.c: handle NULLs correctly for all built-in
	  types, and fix the launcher breeding like rabbits
	  bug.

Fri Jul 03 02:33:48 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],snapped-widget.[ch],drawer-widget.[ch]: the former
	  panel-widget has been split up into three different widgets, also
	  this changed the way the panel works inside a lot. Also here are
	  a lot of cleanups (more still to come)

	* panel.[ch],main.[ch],drawer.[ch],menu.[ch],panel-util.[ch]: changes
	  to accomodate the widget split, it's a bit more hackish then I'd like
	  right now, but it will get gradually cleaned up

	* panel.c,main.c,applet-widget.[ch]: changed the config file structure,
	  now it is split up into directories and panel and applets have separate
	  files. this will enable more speedups on saving in the future, plus it
	  gives more room for applets to do  their session saving, they now can
	  have sections in their files

1998-06-30  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (appletsConf.sh): Don't sed in INTLLIBS.
	* appletsConf.sh.in (APPLETS_LIBS): Remove @INTLLIBS@.

1998-06-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* main.c (load_applet): Check the return value from
	create_launcher 

Sun Jun 21 01:29:49 1998  George Lebl  <jirka@5z.com>

	* main.[ch],panel.c: made the children list a list of all registered
	  external executables, sot hat we can use it if we need to send
	  something to all external applets

	* panel-widget.c,drawer.c: some desparate attempts to make closed
	  drawers start up correctly

Wed Jun 17 02:20:43 1998  George Lebl  <jirka@5z.com>

	* launcher.c,panel-util.[ch]: fixed a crash on closing properties,
	  took out the functions to create label/entry property entries,
	  and put those into panel-util.c

	* drawer.[ch],main.[ch],panel.c,menu.c: added drawer name/icon
	  configuration

Sat Jun 13 16:47:08 1998  Tom Tromey  <tromey@cygnus.com>

	* main.c (parse_an_arg): Disable master connection if --discard
	given.

Sat Jun 13 01:06:33 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: add string_is_in_list function from
	  panel.c

	* menu.c: read an .order file in the menu directory that
	  the order of the .desktop files inside it. the remaining
	  ones are read in as usual.

Thu Jun 11 01:07:58 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: include math.h ...

Wed Jun 10 22:26:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],panel.c: rightstick now works between sessions
	  as well, and minor fixups (fixes bug #124)

Wed Jun 10 11:42:16 1998  Owen Taylor  <otaylor@gtk.org>

	* Makefile.am: Use MICO_LIBS variable from 
	  toplevel configure.in. 

	* applet-lib.cc launcher-lib.cc mico-lib.cc. Call
	  orb->run() at appropriate times when HAVE_MICO_ORB_RUN
	  is defined.

Wed Jun 10 02:54:12 1998  George Lebl  <jirka@5z.com>

	* menu.c: store ctime info about menu's entries and stat
	  when showing the menu, if it's different re-read ...
	  it's very fast on my machine ... but I would like to know
	  if it runs too slow on other machines

1998-06-08  Chris Lahey  <clahey@umich.edu>

	* main.c (panel_move): changed it so that when dragging the panel
	around, as long as you don't drag outside the current panel area,
	it doesn't change edges.

Sun Jun 07 19:02:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu.h: user setup_menuitem function for applet menus
	  to be consistent with the rest of the panel

Sun Jun 07 18:33:56 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc,applet-lib.(cc|h),applet-widget.c[ch],
	  panel.c: Permit stock menu items on the applet menus

Sun Jun 07 00:23:16 1998  George Lebl  <jirka@5z.com>

	* *.[ch]: cleaned up compilation with -Wall

	* gnome-panel.idl,mico-glue.(cc|h),applet-lib.(cc|h),
	  panel-widget.[ch],applet-widget.[ch],main.c,panel.c:
	  implemented and applet signal for the changing backgrounds

	* panel_config.[ch],main.c: modify the config dialog
	  on the fly if it is display and the user changes the
	  config by dnd (panel position and background)

	* gnome-panel.idl,mico-glue.(cc|h),applet-widget.[ch],
	  main.c,panel.c: implemented tooltips inside applets,
	  by implementing applet side tooltips, but which enable
	  and disable tooltips just like the panel side ones

	* panel_config.c: allowing more then one config box for
	  per-panel config (one per panel)

1998-06-06  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_session_die): Replaced 'gtk_exit' with
 	'gtk_main_quit' call.

	* main.c (main): Changed to use changed session management stuff.

	* applet-widget.c (applet_widget_init): Added call to
 	'gnome_client_disable_master_connection'.

Fri Jun 05 02:11:11 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: the pixmap resizing now doesn't read the file
	  over and over again :) should be faster

1998-06-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (panel_SOURCES): cookie.h was missing.

1998-06-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am (EXTRA_DIST): Added gnome-panel.idl here.

Thu Jun 04 01:47:32 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix session saving, so that it now works correctly
	  this fixes session managment which fixes several bugs on the
	  bugracker whoose numbers I can't remember now

Thu Jun 04 00:32:50 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: fixed some braindamages, switch between,
	  color, pixmap and standard backgrounds, added a color selector

	* panel-widget.[ch]: added a background type variable and support
	  the above changes, fix some some braindamages , scale the back
	  pixmap when needed (needs to be optimized but it works for now)

	* main.c,panel.[ch]: support for the above

	* gnome-panel.idl (and all corba files): added a sync corba call
	  so that applets can force a save of the session

	* panel_config.c, panel_config_global.c: sync the configuration after
	  apply

	* panel.c, main.c: add a timeout to sync every 10 seconds if something
	  has changed

	* ChangeLog: :%s/\<teh\>/the/g (again:)

1998-06-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.c (panel_try_to_set_back_color): Destroy the pixmap
	in the widget style before setting the new style.  This fixes the
	bug where dragging a color onto the panel after a pixmap was set
	did not update the panel.

	* panel.c (show_applet_menu): Use the event's time to make the
	menu popup work correctly.

Wed Jun 03 20:57:00 1998  Arturo Espinosa <arturo@nuclecu.unam.mx>

	* panel_config.c: (position_notebook_page) Now the
	top/bottom/left/right radio buttons are inside a table, forming a
	cross. Better layout for the position_notebook page.


Wed Jun 03 03:34:18 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc: fix for multi-applets

Wed Jun 03 03:13:44 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix #9

	* panel.c,mico-glue.cc,gnome-panel.idl,applet-lib.(cc|h),
	  applet-widget.[ch]: more flexible menu handeling, but
	  it doesn't break backwards compatibility, it allows for
	  submenus, and menu destruction.

Tue Jun 02 01:39:30 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: fixed up the fit to panel selection

	* panel-widget.c: fixed background image loading bugs

Mon Jun 01 04:48:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: pack applets in drawer on shrinkwrap,
	  there is still an error though somewhere.

	* main.c: clean up all the moving stuff get it to play
	  nice.

	* panel-widget.c: reduced flicker when changing positions

1998-05-31  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_session_save): Removed the 'if
 	(is_shutdown)'-clause.  The is_shutdown parameter is only a hint,
 	that this save_yourself signal is called in the context of a
 	shutdown.  It does not mean, that the client has to shut down
 	immediatly.  On the contrary the client must not exit, because it
 	may happen, that the shutdown is cancelled by another client.
	(panel_session_die): New function.  This is the shutdown stuff,
 	that has been in the panel_session_save function.
	(panel_really_logout): Added a call to 'panel_session_die', if we
 	are not connected to a session manager.

	* main.c (main): Connect 'panel_session_die' to the client's die
 	signal.

	* panel.h: Added declaration for 'panel_session_die'.

	* panel_config.c (panel_config): Changed "Panel Configuration"
 	text into "panel properties" to be consistent with menu.

1998-05-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel_config.c (pixmap_page): Provide better sensitizing of
	background image controls.

1998-05-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.h (struct _PanelWidget): Added fit_pixmap_bg field.

	* panel-widget.c (panel_try_to_set_pixmap): Added optional pixmap
	scaling for the background of the panel.

	* main.c (init_user_panels): Load the panel fit pixmap flag.

	* panel.c (save_panel_configuration): Save the panel fit pixmap flag.

	* panel_config.c (pixmap_page): Added configuration option for
	fit_pixmap_bg.

Tue May 26 02:56:50 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix to exit for the times when we aren't connected
	  to a session manager

Mon May 25 23:28:06 1998  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): Use gtk_main_quit, not gtk_exit.

Sun May 24 16:45:37 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added que_pop_down and a way to inhibit
	  the pop_down.

	* main.c, menu.c: use the above to make the panel menu and
	  "Menu" menus act sanely with autohide

	* panel.c: made applet menus also play nice with autohide

Sun May 24 01:19:50 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c: if there is no config file, pass a dummy
	  path to the applet so that the applets can use it just as if
	  it was real

	* panel-widget.c: fix a problem with hiding and unhiding,
	  autohidden panels, and another minor fix

Sun May 24 00:20:56 1998  George Lebl  <jirka@5z.com>

	* main.c,menu.[ch],drawer.[ch]: clean up the ORIENT_ mess and
	  use only PanelOrientType instead of one for menu and one
	  for drawer and one for everything else. Also now orientation
	  of nested applets in drawers works much better when the Panel
	  is on top or on the right

	* applet-lib.(cc|h),applet-widget.[ch],gnome-panel.idl,mico-glue.cc,
	  main.[ch],panel.[ch]: make it possible to get the orient through
	  corba

Sat May 23 22:57:50 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c, panel.c: fixed some segfaults, by inhibiting
	  positioning and geometry stuff on exit

Sat May 23 21:55:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,main.c,drawer.c: fixed a lot of drawer geometry
	  weirdness, drawers should now allways follow their buttons
	  everywhere those buttons go

Sat May 23 17:33:32 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c, panel-widget.c: make move applet menu
	  behave saner, but it still has the "launch on end drag"
	  bug

Sat May 23 16:34:17 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c attempt to fix move applet menu

	* mico-glue.cc: catch all exceptions so that the
	  panel doesn't crash when an applet does

	* mulapp.c: bugfix to start new applet code

Fri May 22 03:05:15 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: bugfix for multiple applets

	* mulapp.[ch]: ripped this out from panel.c, for
	  cleanup purposes

	* main.h: created to store the prototypes of functions
	  from main.c instead of theim loitering in panel.h

Fri May 22 00:46:25 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: rearranged soem stuff to make more
	  sense, global type stuff gets passed through an _init
	  function, etc etc ... the multiple applet stuff has
	  a different interface, and applet writing has been
	  simplified once again

Thu May 21 03:44:21 1998  George Lebl  <jirka@5z.com>

	* applet-lib.(cc|h),applet-widghet.[ch],main.c,panel.[ch],menu.c:
	  fixed up a lot of the old mess with applets, and fixed hopefully
	  all the dorestart hacks since we do sequential starting of
	  applets and that has nice properties in terms of multiple
	  applet support and makes the code cleaner

Thu May 21 01:19:51 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: better new function names and using
	  defines now

Thu May 21 00:23:13 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c,menu.c: fixed some stupidity induced
	  by the older way of starting applets, removed the
	  "multi_applet" ugly hack and generally cleaned up the
	  mulapp code a bit, but still it is not tested, it only
	  compiles now:)

Mon May 18 23:35:13 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: implement run queue, this will start up
	  applets in a row, reducing load on the machine, flicker,
	  though it doesn't do much for speed as I thought it would,
	  maybe when we use ORBit and the applets will start up faster
	  it will be noticable as they are not fighting over X

Mon May 18 21:31:53 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix segfault

Mon May 18 10:41:46 1998  George Lebl  <jirka@5z.com>

	* menu.c: handle path==NULL etc from the exec vector
	  gracefully, still it's weird I get an empty vector

Sat May 16 23:23:02 1998  George Lebl  <jirka@5z.com>

	* launcher.c: show only one properties box

Sat May 16 01:40:14 1998  Tom Tromey  <tromey@cygnus.com>

	* menu.c (get_path_param): Removed.
	(add_applet): Treat `exec' item as a vector, not a string.
	* launcher.c (properties_apply_callback): Treat `exec' item as a
	vector, not a string.
	(create_properties_dialog): Likewise.

Sat May 16 11:47:43 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: no position page for drawers

Fri May 15 23:47:35 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: killed the "panel likes the top position"
	  bug, it was not the order of the binding of the signal
	  (which just hid the real problem) ... it was the fact
	  that radio buttons got toggled off, but the set routine
	  still worked as if we said "on"

1998-05-15  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-panel.idl: Use a more correct comment notation (/**/
	instead of #).

Thu May 14 04:24:01 1998  George Lebl  <jirka@5z.com>

	* panel.c: the mulapp queue will now deal properly with
	  removed applets

Thu May 14 03:46:36 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc,applet-widget.[ch]: create the start_new_applet
	  signal, so that it is now most likely possible to actually
	  write multi applet applets

Thu May 14 03:28:25 1998  George Lebl  <jirka@5z.com>

	* main.c: use fork again to start applets so that we don't
	  swallow stdout from the applet, this makes the posibilities
	  of param stuff less viable, but we still support a single
	  applet cmdline parameter

	* gnome-panel.idl,main.c,panel.[ch],applet-widget.[ch],
	  mico-glue.(cc|h),applet-lib.(cc|h): dorestart varaible,
	  (stored in AppletInfo's ->data field (slightly hackish:))
	  which makes it possible for multiple type applets, all
	  kinds of weird queue stuff added to make this work, but
	  NO testing whatsoever, except that it doesn't seem to
	  break the older stuff

Tue May 12 01:29:19 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc:
	  removed the query call as multiple applets
	  will be handeled on the panel side

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc,main.c,
	  panel.[ch],menu.c: added support for parameters
	  to applets, seems pretty hackish mainly because
	  it tries not to break existing config file format,
	  which it doesn't as far as I can see

Mon May 11 00:44:25 1998  George Lebl  <jirka@5z.com>

	* main.c: start applets witha shell and get the pid
	  in a slightly round about way

	* gnome-panel.idl,mico-glue.cc,applet-lib.cc: added
	  some framework of the multiple applet support, this
	  should be coming soon to an applet-widget.c near
	  you. (to reduce overhead of multiple processes)

Sun May 10 19:33:23 1998  George Lebl  <jirka@5z.com>

	* menu.c: add gui to swallow adding

Fri May 08 02:36:04 1998  George Lebl  <jirka@5z.com>

	* panel.c: remove BAD HACK(tm) (since it's after the release and
	  the new gtk 1.0 is non-buggy), also general cleanup after -Wall

Fri May 08 01:18:43 1998  George Lebl  <jirka@5z.com>

	* drawer.c,main.c: move applet_move code over and use
	  size_allocate on drawer buttons

	* panel-widget.c: don't move_window for drwawers if we are
	  already at the rigth location

Fri May 08 01:13:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: cleanups and fixes after -Wall

	* swallow.c: fixes, might now actually work kind of,
	  still got a badwindow, but it will work (eventually)

Fri May 08 00:13:49 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for free movement handeling

	* panel.c: actually save free movement setting

Thu May 07 22:29:54 1998  George Lebl  <jirka@5z.com>

	* panel_config_global.[ch], main.c, apnel-widget.[ch], panel.c:
	  disable animations option, for slow displays

Thu May 07 18:57:38 1998  George Lebl  <jirka@5z.com>

	* fish*: moved fish over to applets

Thu May  7 19:19:42 1998  Havoc Pennington  <hp@pobox.com>

	* fish.c: When you left-click on the fish, it tells your fortune.

Thu May 07 02:11:28 1998  George Lebl  <jirka@5z.com>

	* logout.[ch], main.c, menu.c: logout finally added as an internal
	  applet type, since we now have the fish testing applet which is
	  far cooler then logout

Thu May 07 01:59:18 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c, panel.c, panel_global_config.[ch]:
	  set drawer animation speed.

Thu May 07 00:18:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix to the forbidden handeling

	* panel.c, main.c, panel_config_global.[ch]: added a "really
	  log out" dialog and an option for it

Tue May 05 12:17:38 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: we set state BEFORE we connect the toggled
	  signal so that it doesn't get toggled on the set_state, but
	  it doesn't amtter too much in this dialog since we set the
	  propertybox later (I had to take it out into the main
	  function) was there any particular reason someone changed
	  the set_state to go after the toggled connect? the values
	  are set in the function that inits the panel so we never
	  need to go to the toggled unless the user himself toggles
	  the thing.

Mon May 04 22:31:06 1998  George Lebl  <jirka@5z.com>

	* menu.c: use some gnome-stock pixmaps

	* gnome_config.c,gnome_config_global.c: minor fixes

Mon May 04 22:04:32 1998  George Lebl  <jirka@5z.com>

	* menu.c: added an about box

Mon May 04 21:43:12 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed the properties dialog, so it now
	  closes, and there was a show missing for the pixmap
	  when applying changes

Mon May 04 21:13:53 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.[ch]: added main menu count
	  and added a way for the remove item to be grayed out, if
	  either you right click on the last main menu or if you
	  right clock on a full panel (you can only remove empty
	  ones)

1998-05-04  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* launcher.c (properties_apply_callback): Made launcher use the
	gnomepropertybox widget. 

Mon May 04 15:05:22 1998  George Lebl  <jirka@5z.com>

	* panelwidget.[ch],main.c,panel.c: maintain a list of
	  forbidden panels for drawers and make panels aware
	  of the drawer button widget, this way it's impossible
	  to "loop" drawers so they don't "run away" :)

Mon May 04 03:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed an ugly bug in make_empty_pos

Mon May 04 03:33:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.c: added the signal return stuff

Sun May 03 23:04:07 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch],applet-lib.(cc|h): a bit of reshuffling
	  and cleanups and more also added most of the corba
	  fucntionality to the applet-widget

	* applet-lib.c: fixed a leak, don't use hash table for callbacks

Sun May 03 16:55:57 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: new interface to the corba stuff
	  makes it all much nicer

	* Makefile.am: link the appletwidget into applet-lib
	  (now it's impossible to write an applet without it
	  due to the dumbass way I did the stuff before, but not
	  to worry, I've ported all the appelts to use it

Sun May 03 12:35:34 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a "BAD HACK(tm)" to work around the 
	  colormap problem as suggested by owen, should be
	  removed once gtk is fixed after the release

Sun May 03 03:35:05 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: minor fixes, remove blocking
	  as it is not needed

	* panel.c: minor fixes

Sun May 03 02:52:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: clean section before saving applet info

	* panel-widget.c: fix for adding applets

Sun May 03 02:16:53 1998  George Lebl  <jirka@5z.com>

	* launcher.[ch]: decorbaized

	* panel.[ch],main.c: integrated the launcher applet into the
	  main application. this makes things a hellovalot more stable
	  actually, also added a way for the panel to read old
	  config files so that all of you who have alreay some kind of
	  setup won't have to change it

	* panel.sh: removed for good

	* Makefile.am: don't build launcher_applet and don't
	  install panel.sh, plus ad dthe launcher sources to
	  panel app

	* gnome-panel.idl, mico-glue.(cc|h): removed the launcher
	  interface

Sat May 02 23:56:34 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: dearrayizification is now officially
	  complete and the code is out, everything seems stable ...

Sat May 02 23:39:07 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: finished dearrayification, the
	  array is still in, I'll remove it after the commit,
	  but I want to be able to back out of large removals:)

Sat May 02 17:58:02 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: slow de-arrayifying of the
	  widget begins, the list implementation is
	  smaller, leaner, meaner, cleaner :) it still
	  works ok, I am doing all this while keeping it
	  working (though it might not be working 100%
	  efficently now, but it never really did:)

Sat May 02 12:51:58 1998  George Lebl  <jirka@5z.com>

	* applet-lib.h: added necessary declarations to remove
	  the need for applets to see panel.h and panel-util.h

	* launcher.c, logout.c: removed unneccessary includes

Sat May 02 12:37:14 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanup, fix get_pos

Sat May 02 02:39:59 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor fix for reparent

Sat May 02 02:34:08 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: keep the list sorted by position, plus
	  various fixes

	* panel.c: fixes ... should now terminate ok with drawers

Fri May 01 23:01:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: implement a new simple movement
	  type (free movement, sort of like it was before I
	  wrote the panel-widget), the old one is still default

	* panel.c,main.c,panel_config.c,panel_config_global.[ch]:
	  added support for the new movement type, plus minor fixes

Fri May 01 19:33:05 1998  George Lebl  <jirka@5z.com>

	* panel_config.c,panel-widget.c: made it possible to
	  disable background pic once added

Fri May 01 16:44:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added the right sticking, if the panel
	  size increases, the applets that are all the way to the
	  right are pushed right again, this works pretty good for
	  me.

Fri May 01 15:58:33 1998  George Lebl  <jirka@5z.com>

	* launcher.c: fixed launcher, now sets the right size
	  when applying properties, and now won't crash when you
	  apply/open properties the second time

Fri May 01 03:16:46 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: fixed the mess with currently_dragged
	  _applet and drag blocking. converting most stuff to use
	  AppletData instead of position and/or widget pointer

Fri May 01 02:59:06 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor cleanups

Fri May 01 02:31:12 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: starting of general cleanup of the
	  widget, more corruption detection, and a corruption
	  fix.

Fri May 01 01:55:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed shaking of applets, applet_put
	  is now more heavy weight and is used by adjust_applet

Fri May 01 01:30:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: a whole bunch of fixes to the new
	  list storage, other small fixes, plus there now
	  is some corruption recovery code in, in case it
	  happens.

Thu Apr 30 19:08:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: use a linked list for the list of
	  with positions etc, should make it more robust and
	  faster

	* panel-widget.c: instead of re-reseting the size to
	  the minumum all the time, get the exact size and
	  use that

Thu Apr 30 14:43:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: if adjust applet detects corruption
	  it dumps the panel before the warning

	* panel-widget.c: restructured the way in_drag is set
	  to avoid a very small race

Thu Apr 30 14:22:36 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: add handle pixmaps to
	  drawers, right now using "panel-menu-main.xpm"

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel-widget.c (panel_widget_dnd_droped_filename): Add a busy
	cursor while we load the image.
	
	* panel-widget.c (panel_widget_dnd_droped_filename): Added support
	for dropping graphic images directly on the panel for quickly
	changing the background image. 

Thu Apr 30 01:37:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed size_allocate optimization
	  bug

Thu Apr 30 01:15:54 1998  George Lebl  <jirka@5z.com>

	* applet-lib.(cc|h): removed the grab functions and
	  the fleur cursor var, since they aren't needed any
	  more

	* ChangeLog: :%s/\<teh\>/the/g (it was time again:)

Thu Apr 30 01:11:24 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl,mico-glue.cc: a new call for
	  checking if an applet is in drag

	* panel-widget.[ch]: global variable which specifies
	  if an applet is being dragged or not

	* panel.c: use grabing functions for drags of corba applets

	* applet-lib.cc: don't keep track of dragged applets,
	  and ask panel for that info, this makes corba applets
	  respond to every button2 click

	* panel-widget.c: put eventbox behind the dropzone to
	  catch it's button press so we can get a menu

Wed Apr 29 23:07:38 1998  George Lebl  <jirka@5z.com>

	* drawer.c,panel-widget.[ch]: store position of drawers
	  in the panel structure

	* main.c: fixed the move sub-drawer bug.

	* panel-widget.c: drawer open/close should be a little bit
	  saner now

Wed Apr 29 00:32:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: some more weirdness fixed, hopefully,
	  this is the last panel corruption bug, and the rest seem
	  quite cosmetic bugs

Tue Apr 28 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added frame to the panel widget struct,
	  made drawer movement use window resize (this isn't completely
	  finished)

Tue Apr 28 01:24:11 1998  George Lebl  <jirka@5z.com>

	* launcher.c: gnome_pixmap doesn't enjoy null filenames, this
	  fixes the default pixmap problem with the launcher

Tue Apr 28 01:12:15 1998  George Lebl  <jirka@5z.com>

	* panel_widget.c: fixed some more weirdness, and I can't make
	  it mess up just now so maybe I fixed it all, ... but I
	  doubt that

Tue Apr 28 01:03:43 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed several bugs, especially with
	  size allocation of applets when moving, and applet
	  weirdness on the right side of the panel, there is
	  still some weirdness going on, but less of it and
	  I think I know where to look for trouble

Mon Apr 27 01:42:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: minor move fix

Mon Apr 27 00:48:57 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed the "move closed drawer" bug

Mon Apr 27 00:42:02 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed some lines to 80 columns

	* panel-widget.c: a few debugging messages and
	  a minor fix, all because push_left seems to be very
	  broke, but it may be seize_space that's messed up

Sun Apr 26 23:45:16 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: few fixes, now actually pushing
	  widgets apart when adding, feels more natural

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): Fixed typo.

	* panel.c (panel_session_save): Set discard command for session
	manager.
	* main.c (main): Set restart and clone commands for session
	manager.  Pass argv[0] as client data to panel_session_save.

Sun Apr 26 12:44:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: small fix on panel_widget_move

	* panel_config.c: fix a cast

Sun Apr 26 01:06:07 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_LIBADD): Don't include -lcrypt;
	configure finds it if it is needed.
	(launcher_applet_LDADD): Likewise.

	* cookie.h: Only include <crypt.h> if HAVE_CRYPT_H defined.

Sat Apr 25 14:20:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the find_new pos and reparenting
	  to full panels, there are still problems with some of
	  this stuff which I will deal with later

Sat Apr 25 00:13:16 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: feeble attempts to make the
	  drawer not flash at 0,0 on startup

	* panel-util.c: move_window moved here since it's
	  being used in more files and doesn't really
	  belong anywhere else

Fri Apr 24 23:46:03 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a way to add main menu to a panel

	* panel.c: use destroy on panels instead of unref,
	  makes it not crash when removing drawers

Fri Apr 24 01:16:26 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc,mico-glue.cc,launcher-lib.cc,cookie.h:
	  use crypt call for cookies

	* cookie.c: slightly redo/fix cookie generaion

	* Makefile.am: added -lcrypt

Fri Apr 24 00:06:58 1998  George Lebl  <jirka@5z.com>

	* cookie.h: added, includes the CHECK_COOKIE macros
	  and create_cookie definition. the CHECK_COOKIES
	  now spitout a warning with file and line so we can
	  see if there are any bugs remaining (races)

	* main.c, applet-lib.cc, launcher-lib.cc, mico-glue.cc:
	  use cookie.h, read cookie on corba_reinit, allways
	  reread cookie on launcher calls to prevent races

Thu Apr 23 23:28:54 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: interpanel moving bugs fixed and
	  add/reparent flicker reduced

Thu Apr 23 22:23:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fix several geometry problems, most
	  notably the "applet moves past the end and corrupts
	  the panel-widget" bug.

Thu Apr 23 21:24:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed warnings on exit when applets were removed

	* main.c: fixes to the SIGCHLD handler to fix warnings
	  and a small memory leak

Thu Apr 23 20:52:30 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed the socket bug workaround as that is
	  now in libgnomeui

Thu Apr 23 14:59:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: add a workaround around gtk_socket destroy bug

Thu Apr 23 02:35:55 1998  George Lebl  <jirka@5z.com>

	* panel.c: configuration save fixes, cleanups

Thu Apr 23 02:25:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: geometry fixes

	* drawer.c: put drawer outside of it's parent

Thu Apr 23 00:32:49 1998  George Lebl  <jirka@5z.com>

	* drawer.c: raise on enter_notify on button, and
	  center drawers

	* panel-widget.[ch]:added a frame inside the table
	  to make the whole thing look more 3D-ish, also use
	  hidebutton widgets for drawers as it saves some
	  headaches and simplifies the code quite a lot

Wed Apr 22 19:49:36 1998  George Lebl  <jirka@5z.com>

	* panel.c: fix reentrant bug in panel_clean,
	  removed unused code on shutdown.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Added support for a background pixmap.

	* main.c (init_user_panels): Simplified the use of gnome_config by
	using the gnome_config_push_prefix.

	* panel.c (save_panel_configuration): Simplified the use of
	gnome_config by using gnome_config_push_prefix.
	(panel_session_save): Likewise.

	* panel_config_global.c (panel_config_global): Made it use
	GnomePropertyBox as well.

	* panel_config.c (panel_config): Made it use GnomePropertyBox
	instead of hand-done property configurator.

Wed Apr 22 02:25:39 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added change_drop_zone_pos function

Wed Apr 22 02:24:50 1998  George Lebl  <jirka@5z.com>

	* drawer.c: proper orientations set

Wed Apr 22 02:12:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: checks for info!=NULL

	* panel.c: remove SIGCHLD handler before we kill panels,
	  so that we don't get into trouble cleaning cleaned applets
	  etc...etc.. also catch destroy event and clean applet

Wed Apr 22 01:46:49 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed popup menu segfault, few sanity
	  checks in menu_pos code

Wed Apr 22 00:20:04 1998  George Lebl  <jirka@5z.com>

	* drawer.c: actually set orientations of drawer's panel

Tue Apr 21 15:36:15 1998  Tristan Tarrant  <ttarrant@suntlc.etnoteam.it>

	* main.c: use <sys/wait.h> for portability

Mon Apr 20 00:37:22 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: use g_snprintf

	* panel-widget.[ch]: expose pop_up call, use drawers_open
	  to block autohide

	* main.c: track drawers, pop_up when adding a drawer

Sat Apr 18 23:31:03 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: added a couple of macros that
	  do the casting of integers to/from pointers
	  without warnings.

Sat Apr 18 23:16:22 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c: made applets an array and make the
	  whole thing pass applet_id around instead of a pointer
	  this solves a bunch of braindamages, but also makes
	  the whole thing give a bunch of warnings since I'm
	  passing integers though pointers. This all should
	  make memory weirdness less likely.

Sat Apr 18 00:05:53 1998  George Lebl  <jirka@5z.com>

	* menu.c: launch appets with load_applet so that we can
	  trap the SIGCHLD and remove applet when it dies

Fri Apr 17 19:53:09 1998  George Lebl  <jirka@5z.com>

	* panel.c: minor fixes to the remove code, sanity checks

Fri Apr 17 19:42:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: remove applets that die (only
	  those started on startup)

Fri Apr 17 17:31:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: move from menu now works

Fri Apr 17 00:10:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed double g_free that was causing
	  some very weird stuff to happen.

	* panel.c: implemented the scheme for applets requesting
	  their stuff not to be saved by returning false on
	  session_save

Thu Apr 16 22:07:13 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc|h), applet-lib.(cc|h),
	  logout.c, launcher.c: save_session corba call now
	  returns TRUE/FALSE. not yet completely implemented
	  but applets should return TRUE

Thu Apr 16 21:19:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixes for size changes, performance
	  improvements

1998-04-16  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu.c (create_menu_applet): Removed memory leak.

	* panel.c (register_toy): Fixed compiler warning. 

Wed Apr 15 21:42:08 1998  George Lebl  <jirka@5z.com>

	* panel.[ch], main.c, mico-glue.cc: if addition to panel
	  fails, it is now handeled gracefully

Wed Apr 15 20:14:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc: no more shutdown_applet
	  mess. now it's handeled by the destroy signal on the plug.

	* panel.c: now only destroys the panel, doesn't send any
	  corba messages to shutdown

	* main.c: fixed a nasty bug on startup where I was using an
	  uninitialized value

Wed Apr 15 16:38:45 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: get current session_id when
	  saving, exit when save session is_shutdown,
	  some debugging info

Wed Apr 15 00:30:44 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: implemented session managment, seems
	  to work without a session manager, but I can't get
	  gnome-session to work so I can't test that ... but
	  the code is there ... waiting to be debugged

Tue Apr 14 21:43:55 1998  George Lebl  <jirka@5z.com>

	* launcher.c: use tooltips

	* main.c,panel.[ch],applet-lib.(cc|h),gnome-panel.idl,mico-glue.cc
	  de "id"ized to make future objc bindigs happy

	* panel.[ch], applet-lib.(cc|h), mico-glue.cc: added tooltips
	  support

Tue Apr 14 20:45:02 1998  George Lebl  <jirka@5z.com>

	* launcher.c: added properties callback

Tue Apr 14 20:43:46 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu.c: start up launcher_applet in main
	  and kill it on exit

	* panel.sh: removed starting of launcher

Tue Apr 14 19:17:33 1998  George Lebl  <jirka@5z.com>

	* menu.c: made swallows and drawers compile time
	  selectable

Tue Apr 14 18:33:21 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: I must be dumb ... 1 is not the
	  same thing as -1 :) This fixes the panel segfault
	  thx dr mike ...

Tue Apr 14 12:09:43 1998  George Lebl  <jirka@5z.com>

	* main.c: queue loading of applets until everything
	  is done, but I still can't load up the clock
	  applet as default without segfaulting

Sun Apr 12 12:37:44 1998  George Lebl  <jirka@5z.com>

	* panel.c: now actually sends orientation changes
	  to new EXTERN applets (it has to wait until they
	  register their ior

Sat Apr 11 18:00:01 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made the swallow app stuff work better,
	  waits for the window (right now only through timeout)

Sat Apr 11 17:35:32 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c, panel.c: cleanups, fixed grab problem

Sat Apr 11 16:37:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], drawer.c: added smooth drawer animation

	* panel.c: deleted an unused function.

Sat Apr 11 12:00:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: made some parameters global since
	  they were used this way already. this cleans up
	  some ugliness and makes hide buttons behave nice
	  in autohide mode

	* main.c, panel.c, drawer.c, panel_config.c panel_config_global.c:
	  adapted to using the globals as globals

Sat Apr 11 02:26:38 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: make stepsizes work again, use log curve
	  for starts and stops.

1998-04-10  Russell Nelson  <nelson@crynwr.com>

	* panel-widget.c: make slide open and close animations
	smoother by adding acceleration and deceleration.

Wed Apr 08 23:50:44 1998  George Lebl  <jirka@5z.com>

	* swallow.c: made swallowing to work!!! right now you
	  have to hand edit the config file to add these
	  critters though ...

Wed Apr 08 23:15:52 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made resizing panels work, thx owen

	* swallow.c: find the right window id according to
	  the title. (reparent doesn't seem to work yet though)

Tue Apr 07 23:14:37 1998  George Lebl  <jirka@5z.com>

	* main.c: fix menu geometry

Tue Apr 07 00:18:26 1998  George Lebl  <jirka@5z.com>

	* main.c: orientation actually works

	* panel-widget.c: more work on hunting down the resizing
	  bug when moving an applet from a drawer, it seems that
	  set_usize is ignored

Mon Apr 06 23:03:30 1998  George Lebl  <jirka@5z.com>

	* main.c: fixed crashing  by doing orientation in
	  an idle handler after the move from panel to panel

Sat Apr 04 23:31:05 1998  George Lebl  <jirka@5z.com>

	* swallow.c: more swallow applet work

	* main.c: laoding of swallow applets in place

Sat Apr 04 19:17:01 1998  George Lebl  <jirka@5z.com>

	* swallow.[ch]: beginnings of a swallow applet.

Sat Apr 04 12:27:22 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: use gtk_widget_reparent to move
	  the applet on interpanel move, but it still doesn't
	  wanna move from a drawer without badwindowing

Sat Apr 04 01:45:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: drawers can't add themselves
	  to themselves, and interpanel movement now uses 20
	  pixel border to jump to panels, still doesn't work
	  right for drawers and external applets

Sat Apr 04 00:47:17 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: set size when packing, fix warning
	  in size_allocate

Sat Apr 04 00:29:11 1998  George Lebl  <jirka@5z.com>

	* mico-glue.cc: cleanup function to clean up the
	  gnome-config hack to spitting out the iior.

	* panel.c: call the cleanup and call has_section
	  before clean_section

Fri Apr  3 22:43:35 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (logout_applet_LINK): New macro.

Wed Apr 01 22:01:23 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: added two new signals.

	* main.c: made interpanel moving work a bit better.

Wed Apr 01 01:01:05 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc: small fix to corect for temporaries
	  problems (never had this problem on my alpha:)

Wed Apr 01 00:36:31 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: now defines panels GList so that we
	  can do interpanel movement. interpanel movement is now
	  implemented

	* panel.c, main.c: removed all traces of dnd stuff (commented
	  out) only internal moving in panel-widget now in place.

	* main.c: sending orientation changes to extern applets
	  implemented.

	* panel-widget.c: fixed a warrning in set_position

Mon Mar 30 23:19:35 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c: transfered drag to panel.c, now
	  works at least partially, only on windowless applets though
	  and it dies with badwindow when doing the drag.

Mon Mar 30 01:30:29 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: playing around with dnd, but can't get
          it to do anything useful

Sun Mar 29 15:25:19 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (AUTOMAKE_OPTIONS): New macro.

Sun Mar 29 01:16:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed the annoying flicker of the
	  panel at pos 0,0, by using gtk_widget_set_uposition
	  instead of move_window routine

Sun Mar 29 00:46:07 1998  George Lebl  <jirka@5z.com>

	* panel-util.c: get rid of trailing '\n' in popen
	  implementation

1998-03-29  Raja R Harinath  <harinath@cs.umn.edu>

	* panel-util.c (get_full_path): Rewrite using `popen'.

Sat Mar 28 15:33:07 1998  George Lebl  <jirka@5z.com>

	* main.c: don't do get_full_path on params starting with
	  # which is not a path but an ident only

Sat Mar 28 15:23:33 1998  George Lebl  <jirka@5z.com>

	* panel-util.[ch]: riped out get_which_output from
	  applet-lib and put it in these new files while renaming
	  it to get_full_path.

	* Makefile.am: link in the new files

	* panel-widget.c: temporairly disable dnd code as it
	  doesn't work

	* main.c: call get_full_path from load applet

	* applet-lib.cc: add timeouts for contacting the panel
	  so that applets don't get "lost" due to a race

Fri Mar 27 01:48:57 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: dnd code in, but it doesn't work, needs
	  a bit of work I guess:)

Wed Mar 25 23:32:47 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: implemented drop support (no drag yet:)

Mon Mar 23 23:57:03 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed the bug of submenu's activating ... if
	  a dentry has nothing to execute it doesn't deserve an
	  "activate" callback.

Fri Mar 20 01:09:35 1998  George Lebl  <jirka@5z.com>

	* *.c: general cleanup after a -Wall compilation

Fri Mar 20 00:10:12 1998  George Lebl  <jirka@5z.com>

	* applet-lib.{cc,h}: implemented a way for applets
	  to find their absolute executable path

Thu Mar 19 18:21:45 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): Allocate two arguments for every
	argument in initial vector.

Wed Mar 18 23:10:27 1998  George Lebl  <jirka@5z.com>

	* launcher.c: redid the way applets are initially read in

	* panel.c: try contacting the launcher with a timeout and
	  then tell it to reread launchers

	* launcher.c: does not contact the panel, but waits until the
	  the panel contacts it

Wed Mar 18 18:13:35 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc: added unimplemented
	  tooltip calls.

	* panel.c: minor cleanups

Wed Mar 18 17:56:16 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, launcher-lib.cc,launcher.c:
	  impelmented restart all applets on the launcher side.

Wed Mar 18 01:03:52 1998  George Lebl  <jirka@5z.com>

	* menu.c: applets directory added to the Add to panel dir, read from
	  a directory applets (/usr/local/share/applets usually)

Wed Mar 18 01:02:34 1998  George Lebl  <jirka@5z.com>

	* menu.c, drawer.c, main.c: removed some old calls, no longer
	  passes window pointers around so it's a bit cleaner

Tue Mar 17 23:30:04 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: removed from panel, they
	  are in libgnomeui now

Tue Mar 17 23:22:50 1998  George Lebl  <jirka@5z.com>

	* clock.c: removed, clock is now in ../applets/clock/

Mon Mar 16 23:23:26 1998  George Lebl  <jirka@5z.com>

	* gtkplug.[ch], gtksocket.[ch]: added the plug-socket
	  colde v0.1 (that's the newest I found:)

	* applet-widget.[ch]: removed in favor of plugsocket code

	* gnome-panel.idl,panel.c,mico-glue.cc,applet-lib.cc:
	  adapted to plugsocket code, slightly different calls
	  and the registration of applets acts slightly differently

	* clock.c, logout.c, launcher.c: ported to plugsocket

Mon Mar 16 17:56:08 1998  George Lebl  <jirka@5z.com>

	* panel.c,mico-glue.cc: implemented abort_applet_id
	  corba call.

Mon Mar 16 17:26:03 1998  George Lebl  <jirka@5z.com>

	* launcher.c: a few fixes, dumped the params field

	* panel.c: need to pause a second to make mtimes
	  different for gnome-config to work with two
	  programs writing to the same section at the same
	  time .. bad bad bad ... gnome-config is broke

Sun Mar 15 23:53:47 1998  George Lebl  <jirka@5z.com>

	* launcher.c: port to corba, acts like mc should,
	  needs to be started after panel starts manually
	  and killed after panel stops manually.

	* gnome-panel.idl: added unimplemented applet_abort_id
	  call and implemented applet_request_glob_cfg

	* mico-glue.cc: synced with gnome-panel.idl

	* applet-lib.cc: fixes, new methods above

	* launcher-lib.(cc|h): implemented what needs to be
	  done corba-wise with the launcher

Sun Mar 15 17:49:33 1998  George Lebl  <jirka@5z.com>

	* mico-glue.(cc|h): added a way to call new Launchers

	* launcher.c: more CORBA stuff

Sat Mar 14 01:38:34 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added menu positioning to popup menus
	  so they appear beside the widgets not on them

	* logout.c: now quits properly, I have to make this a
	  core applet instead of a corba applet, but it provides
	  soem corba testing now

	* gnome-panel.idl, mico-glue.cc,applet-lib.cc, panel.c ...:
	  implemented a global cfg path for applets to load/save
	  some general stuff (will be needed for multi applet applets)

1998-03-13  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel_config.c: Removed the definition of the '_' macro. Uses
 	definition in 'gnome-i18n.h' instead. To make this work I changed
 	the order, in which 'config.h' and 'gnome.h' are included.

	* panel_config_global.c: Likewise.

Fri Mar 13 02:42:56 1998  George Lebl  <jirka@5z.com>

        * panel.[ch]: fixed a race when starting applets, by
          having two states for applets (PENDING and RESERVED),
          this fixes the panel "loosing" applets in invocation

        * all files: commented out most debugging output, since it
          was getting difficult to use puts/printf since the new
          debugging was lost in the old etc ...

        * clock.c: once again I use an idle handler for killing
          myself. this solves the mico exception which wasn't
          all that nice really.

1998-03-13  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Include $(srcdir) too.

Thu Mar 12 02:29:18 1998  George Lebl  <jirka@5z.com>

	* panel.c, applet-lib.cc: made the menu work on the panel
	  side, and removed the menu from applet-lib. (funny how
	  you get ideas during writing the changelog)

Thu Mar 12 02:01:30 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: implemented the callbacks, right now
	  menu is built on the applet side and code is there to do a
	  unified applet menu stuff on the panel side, but I'd have to
	  find a sane way of sending the button press event so that the
	  menu would work, probably some hacking on the grabs could make
	  it work (release grab on the applet side, add grab on the panel
	  side...)

	* panel.c: a bunch of fixes

Wed Mar 11 22:42:39 1998  George Lebl  <jirka@5z.com>

	* menu.c: fixed a cpl of warnings

	* panel.c: for some reason not unreffing internal applets makes
	  shutdown not segfault.

	* panel.c: fixed a bug with multple applets

	* clock.c: shutdown now kills the applet (this causes
	  an exception)

	* mico-glue.cc: catch exceptions on shutdown

	* ChangeLog: :%s/\<teh\>/the/g

Wed Mar 11 18:15:41 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.(cc,h), panel.c: session save is
	  now passed a cfg path to allow elaborate session saving

	* gnome-panel.idl, applet-lib.(cc,h), clock.c: callback
	  framework revised.

	* panel.c: removed some old stuff

Wed Mar 11 12:33:56 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXXFLAGS): New macro.

Wed Mar 11 00:00:49 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, and just about every file: external applets
	  now get restarted nicely. the session saving stuff slightly
	  revamped ... just as the starting stuff ... makes more sense
	  now. it still segfaults but oh well ...

	* clock.c: ported it to the new gnome-panel.idl interface

Tue Mar 10 01:31:25 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (CXX): Define.

	* Makefile.am (panel_SOURCES): Added mico-parse.h.
	* clock.c: Include "mico-parse.h".
	* cdplayer/cdplayer.c: Include "mico-parse.h".
	* logout.c: Include "mico-parse.h".
	* applet-lib.cc (gnome_panel_applet_init_corba): Removed argc,
	argv arguments.
	Include "mico-parse.h".
	* main.c: Include "mico-parse.h".
	* mico-glue.cc (panel_corba_gtk_main): Removed argc, argv
	arguments.
	Include "mico-parse.h".
	* mico-glue.h: Don't declare panel_initialize_corba,
	panel_corba_register_arguments.
	* mico-parse.cc (orb_ptr): Don't declare.
	(panel_initialize_corba): Use (*orb), not orb_ptr, as ORB.
	Include "mico-parse.h".
	* mico-parse.h: New file.

Sun Mar  8 18:55:09 1998  Tom Tromey  <tromey@cygnus.com>

	* mico-parse.cc (parse_mico_arg): MICO now takes "--" arguments.

	* Makefile.am (INCLUDES): Include GNOME_INCLUDEDIR.

Sat Mar  7 13:39:41 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (libpanel_applet_la_SOURCES): Added mico-parse.cc.
	(panel_SOURCES): Likewise.
	* cdplayer/cdplayer.c (main): Use new gnome_init.
	* logout.c (main): Use new gnome_init.
	* clock.c (main): Use new gnome_init.
	* applet-lib.cc (gnome_panel_applet_init_corba): Use
	panel_initialize_corba.
	* mico-parse.cc: New file.
	* mico-glue.cc (panel_corba_gtk_main): Use
	panel_initialize_corba.
	* main.c (init_session_management): Removed.
	(main): Use new session and argument parsing code.
	* mico-glue.h (corba_gtk_main): Removed.
	(panel_corba_register_arguments): Declare.

Fri Mar 06 20:57:04 1998  George Lebl  <jirka@5z.com>

	* main.c,panel.c: external applets are now started

Thu Mar 05 22:22:53 1998  George Lebl  <jirka@5z.com>

	* main.c,panel-widget.c,drawer.c: new panel-widget signal
	  "applet_move" and got rid of restore_state signal. this
	  makes it possible for the drawers to move themselves
	  appropriately. initialization cleaned up and should work
	  fine for orientation other then bottom

Wed Mar 04 23:28:44 1998  George Lebl  <jirka@5z.com>

	* main.c, panel-widget.c: made signals work better, drawers
	  hide when their parent hides

Wed Mar 04 01:09:53 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch],main.c,panel.[ch]: few cleanups, made
	  orientation change work for menus

1998-03-04  Raja R Harinath  <harinath@cs.umn.edu>

	Move gnome-panel.idl and applet-{lib,widget}.* to libapplet.
	* clock/Makefile.am (clock_applet_LDADD): Link in `libapplet.a'.
	* cdplayer/Makefile.am (cdplayer_applet_LDADD): Likewise.

	* Makefile.am (SUBDIRS): Add `libapplet'.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/cdplayer.c (main): Get it to compile.

	* panel.c (add_main_menu): Use /* */ comment.

Sun Mar  1 00:58:11 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (gnome-panel.cc): Pass explicit --name to idl.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (set_orientation): Icons are now PNG files.
	(create_panel_menu): Likewise.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* menu.c (create_menu_at): pixmap_name is now item_info->icon, as
	the format for desktop_entries has changed.
	(create_menu_at): Icon is scaled to the proper size.

Thu Feb 26 00:29:52 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc: added the id
	  parameter to panel->applet calls so one program could
	  maintain more applet easily.

Tue Feb 24 23:32:20 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: added signals. it compiles, but
	  I can't really test it right now. isn't blind coding
	  fun :)

1998-02-24  Mark Galassi  <rosalia@cygnus.com>

	* mailcheck/mailcheck.c (mailcheck_load_animation): typo: the type
	here should have been GdkImlibImage * instead of GdkImlib *.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* batmon/batmon.c (init_module): ref and sink the tooltips.
	(destroy_module): Unref the tooltips properly.

	* mailcheck/mailcheck.c (mailcheck_load_animation): Whoops, it's
	not GdkImlib, it's GdkImlibImage.

Tue Feb 24 00:05:55 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, applet-lib.cc (others): changed the way
	  applets are destroyed a bit. cannot test anything as
	  the pixmaps seem to be very broken ....

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): Make it use gdk_imlib.

	* menu/main.c: 
	* logout/logout.c: 
	* launcher/launcher.c: 
	* panel-widget.c: 
	* menu.c:
	* drawer.c:
	* batmon/batmon.c: Modified to use GnomePixmap widget.

Sun Feb 22 23:04:54 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (BUILT_SOURCES): New macro.
	(gnome-panel.cc): Find gnome-panel.idl in srcdir.

Sun Feb 22 19:12:25 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, mico-glue.cc, applet-lib.cc, panel.c:
	  add support for statesaving of applets though this
	  does not yet work.

	* panel.[ch]: remove some unused code

Sun Feb 22 02:58:00 1998  George Lebl  <jirka@5z.com>

	* applet-lib.cc, panel.c: reparenting mess hopefully cleaned
	  up. (there are two separate calls for setting up an
	  applet now)

Sat Feb 21 22:26:26 1998  George Lebl  <jirka@5z.com>

	* clock.c: took out the debugging button

Sat Feb 21 22:10:04 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: made default panel width 48, and added a
	  second frame to the droptarget of drawers

	* applet-lib.cc: added applet menu

Sat Feb 21 17:08:23 1998  George Lebl  <jirka@5z.com>

	* gnome-panel.idl, panel.c mico-glue.cc,applet-lib.cc
	  panel-widget.c: external (corba) applets will move now

Sat Feb 21 16:48:35 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* panel.c: Simple stub routine that demostrates calling a CORBA
	function in the client code.   

	* gnome-panel.idl: New applet interface, right now it only serves
	for demostration purposes;

	* clock.c (main): It now uses applet_corba_gtk_main for its main
	loop.  Note that all of this glue that I am putting in the panel
	is to avoid putting C++ code in our nice Panel for now at least. 

	* applet-lib.cc (Applet_impl): Class that implements the
	Applet-server, this is the one that receives messages from the
	CORBA panel.

	All of this was so much easier than I though, all of this CORBA
	stuff just fits so nicely together once you figure it out :-). 

Sat Feb 21 01:21:40 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented corba events, but it now dies
	  with an error ... I'll see why it does that tommorrow

Sat Feb 21 00:24:30 1998  George Lebl  <jirka@5z.com>

	* applet-widget.[ch]: simple applet widget with a window
	  and an event box so that events get trapped by the applet
	  and not partly by the panel.

	* gnome-panel.idl: added a callback for button presses, and
	  
	* panel.c, mico-glue.cc, applet-lib.cc, clock.c: implemented
	  (mostly) applet IDs for communication

Wed Feb 18 17:40:39 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mico-glue.cc, mico-glue.h: New files that include all of the
	server side C++ glue code.  This is in preparation for the
	upcoming C-only bindings that Elliot is writing. 

	* main.c: use the mico-glue code for the server support

	* Makefile.am: Rename panel -> corba_panel, this is the corbaized
	panel.

	* panel.in: New file, this one takes care of starting up the
	corba_panel with the proper arguments (to register corba_panel as
	a persistent corba server). 

Wed Feb 18 17:40:18 1998  Federico Mena   <federico@nuclecu.unam.mx>

	* menu.c (menu_button_press): Use event->time for right menu popup behaviour

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* panel-widget.c (main): Added app_id "panel-widget".

	* main.c (main): Added app_id "panel".

	* clock.c (main): Added app_id "clock_applet".

Wed Feb 18 23:01:11 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,drawer.c,panel.c,main.c: drawers kind of
	  work now (well you have to edit the config file to add
	  applets to them and they are ugly and don't work too
	  well)

Wed Feb 18 01:19:58 1998  George Lebl  <jirka@5z.com>

	* drawer.[ch]: new files, for drawers (not finished yet)

	* panel.c, panel-widget.c, menu.c: changes mostly related
	  to drawers.

Tue Feb 17 21:12:45 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c,panel.c,main.c: now saves drop zone
	  position, plus a couple of FIXME's addressed

Tue Feb 17 20:01:27 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: drawerlike panels are starting to work

Tue Feb 17 01:22:10 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more drawer code

Sun Feb 15 23:45:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c:  started work on drawer panels

Mon Feb 16 11:27:58 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* main.c (main): Added bindtextdomain().

	* Makefile.am (INCLUDES): Define GNOMELOCALEDIR.

Sun Feb 15 17:08:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch]: state preservation, identified 3
	  different hidden states

Sun Feb 15 15:16:44 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, panel-widget.h, main.c: fixed
	  a few bugs with panel-widget, added more support for
	  free floating panels

Sun Feb 15 00:34:55 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: fixed a with applet placement.
	  debugging info left in for thy panel-widget shall
	  be tortured yet again, for thy panel has got an
	  ugly bug (still)

Sat Feb 14 17:55:48 1998  George Lebl  <jirka@5z.com>

	* menu.c, panel.h: menubutton is now an eventbox and works
	  like a popup menu, adding menu applets works

Sat Feb 14 15:54:45 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c, panel_config.[ch], panel_config_global.[ch]:
	  split up configuration, integrated menu more closely with
	  panel

1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* panel.c (panel_quit): Changed to use new SM support.
	(panel_session_save): Changed to use new SM support.

	* main.c (init_session_management): Changed to use new SM
	support.

Sat Feb 14 02:11:12 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,menu.[ch]: internal menu somewhat integrated

Sat Feb 14 01:44:06 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (panel_LDADD): Don't include DL_LIB.  Do include
	INTLLIBS.
	(clock_applet_LDADD): Include INTLLIBS.

Sat Feb 14 00:50:44 1998  George Lebl  <jirka@5z.com>

	* Makefile.am, panel.c main.c, panel.h: ripped out all the
          stuff that was for the shared lib type applets, now it should
          be just adding of corba applets. note that it now doesn't work

1998-02-14  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (INCLUDES): Add $(X_CFLAGS).

Thu Feb 12 00:04:39 1998  George Lebl  <jirka@5z.com>

	* panel.c, menu.c: more work towards menu/panel integration

Wed Feb 11 22:39:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: some preparations for menu integration, and internal
	  vs. external applets, preparation for drawer framework inside
	  panel.c instead of panel-widget

Wed Feb 11 20:59:04 1998  George Lebl  <jirka@5z.com>

	* menu.c, menu.h: added, but not yet fully pruned yet from the
	  applet code

Wed Feb 11 20:58:28 1998  George Lebl  <jirka@5z.com>

	* panel.c, panel-widget.c, main.c: some refcounting fixes

Sun Feb 08 17:32:26 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: more geometry work, orientation changes
	  work better, can push widgets left to gain space

Sun Feb 08 16:34:19 1998  George Lebl  <jirka@5z.com>

	* panel-widget.c: popup menu now properly disappears

	* panel-widget.c,panel.c,main.c: fixed several mistakes,
	  added panel_widget_move

	* panel-widget.c: orientation changes kind of work

Sun Feb 08 14:52:40 1998  George Lebl  <jirka@5z.com>

	* panel-widget.[ch], panel.c: move applet menuitem fixed

Sun Feb 08 12:19:55 1998  George Lebl  <jirka@5z.com>

	* main.c, panel.c, panel.h, panel-widget.c: fixed applet menu
	  to mostly work (no moving yet)

Sun Feb 08 00:58:33 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c,panel-widget.c: added session saving,
	  fixed moving, fixed a couple of warnings.

Fri Feb 06 23:29:08 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c: added panel menu, fixed some "the_panel"
	  stuff.

Fri Feb 06 22:56:04 1998  George Lebl  <jirka@5z.com>

	* panel.c, main.c, ... : worked a bit on config saving,
	  and multiple panel support, compiles and mostly works
	  due to a hack which will disappear soon :)

Thu Feb 05 23:45:06 1998  George Lebl  <jirka@5z.com>

	* panel.[ch],main.c,applet_cmds.h,panel_cmds.h,ALL APPLETS:
	  switched to using panel-widget. it kind of works, and should
	  work with the newest gtk from cvs. session saving does not
	  work yet!

1998-02-03  Raja R Harinath  <harinath@cs.umn.edu>

	* cdplayer/Makefile.am (EXTRA_DIST): But still distribute
	cdrom-{linux,solaris}.c.

Wed Feb  4 00:39:32 EST 1998 Nathan Bryant <bryant@cs.usm.maine.edu>
	
	* cdplayer/Makefile.am: remove EXTRA_libpanel_cdplayer_la_SOURCES
	line, it caused things to fail while generating dependencies

1998-02-02  Raja R Harinath  <harinath@cs.umn.edu>

	Quick and dirty port of `panel/cdplayer' to Solaris.
	* Makefile.am (SUBDIRS): Conditionally build `cdplayer'. 
	* cdplayer/Makefile.am (libpanel_cdplayer_la_SOURCES): Build host
	specific cdrom backend.
	* cdplayer/cdrom-solaris.c: New backend for solaris.  Just a copy
	of cdrom-linux.c, replacing include of <linux/cdrom.h> with
	<sys/cdio.h>.
	
	* cdplayer/Makefile.am (dist-hook): Replace spaces with tab.

Wed Jan 28 11:39:16 1998  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* main.c (load_default_drawers): Added stub.

Thu Jan 29 04:31:23 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* panel.c, batmon/batmon.c, launcher/launcher.c,
	mailcheck/mailcheck.c, menu/main.c: Include <config.h>.  And
	remove any `#ifdef HAVE_LIBINTL ... #endif', which is done by
	gnome.h.

	* main.c: Include <config.h>.
	(main): Added textdomain().

Tue Jan 27 09:17:08 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (create_menu_at): Now directories are named
	according to the Name field in the .directory desktop entry.

	* menu/main.c (create_menu_at): Now menu items are named according
	to the Name file in their respective desktop entries.

Mon Jan 26 23:25:19 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed a bunch of orientation bugs, make applet resize
	only do set_panel_position if it needs to (this is still not
	OOized)

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Removed #include "gnome-dl.h".

	* launcher.c: Modified the launcher applet to use the new
	name/comment fields in dentries instead of the old info field and
	filename.

Mon Jan 26 15:04:28 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* applet_files.h: Changed void *dl_handle to GnomeLibHandle
	*dl_handle.

Sun Jan 25 23:33:07 1998  George Lebl  <jirka@5z.com>

	* panel.{c,h},applet_cmds.h: added orientation property to Panel

Sun Jan 25 20:51:23 1998  George Lebl  <jirka@5z.com>

	* main.c: can load drawers now

Sun Jan 25 18:58:07 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: fixed orientation changes affecting only one menu

	* panel.c: added "add main menu" to panel menu, switched "remove
	  applet" with "move applet" to avoid removing the applet by
	  mistake

	* applet_cmds.h: orientation is passed though params for greater
	  flexibility and tolerance of older modules

	* panel.[ch]: OOized the panel/drawer distinction, to help with
	  doing drawers

Sat Jan 24 19:31:32 1998  George Lebl  <jirka@5z.com>

	* panel.c,menu/main.c: even more drawer code added. drawers aren't
	  fully implemented yet though!

Sat Jan 24 17:58:52 1998  George Lebl  <jirka@5z.com>

	* panel.c: eliminated jerky movement by using an idle function for
	  movement, merged move_applet functions into one.

	* panel.c: a few cleanups, some more drawer code in.

Fri Jan 23 14:36:42 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* mailcheck/mailcheck.c (create_mail_widgets): The properties 
	dialog is now destroyed if the applet is removed from the panel
	while the dialog is active.
	(mailcheck_properties): We only allow one instance of the
	properties dialog to be active.
	(load_new_pixmap_callback): Removed unused variable cmd.
	(mailcheck_notification_frame): Beautified the dialog a bit.
	(mailcheck_destroy): If you removed the mailcheck applet from the
	panel and later tried to re-add it from the panel menu, it didn't
	work.  Fixed.

Fri Jan 23 16:22:27 1998  George Lebl  <jirka@5z.com>

	* panel.c,panel.h,panel_cmds.h: more "drawers" framework done,
	  removed traces of visibility notify, removed applet size change
	  notify since it is handled by allocate_size signal

	* mailcheck/mailcheck.c: fixed a few bugs related to text only
	  reporting

Thu Jan 22 23:24:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: removed some unused code, fixed a bug when removing
	  applets, made cells with applets not expand which improves the
	  look and makes geometry seem more consistent

Thu Jan 22 20:34:53 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: made the property dialog an apply/close
	  type

Thu Jan 22 20:23:21 1998  George Lebl  <jirka@5z.com>

	* panel.c: improved move performace, saner move position
	  calculation.

	* menu/main.c,launcher/launcher.c,logout/logout.c: the button is
	  now set to the size of the pixmap

Thu Jan 22 03:16:18 1998  George Lebl  <jirka@5z.com>

	* panel.c: disabled raising when obscured sinceit was messing up
	  with screensavers. need to find a better solution to this

Thu Jan 22 01:20:15 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: panel is now a table instead of a fixed. This gives
	  us far greater flexibility, and better applet geometry managment
	  (though a bit odd sometimes)

	* main.c,applet_cmds.h,panel_cmds.h,all applet files:
	  changed to a one variable position system

Wed Jan 21 01:18:34 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c (pop_down): return FALSE for timeout callback.

	* mailcheck/mailcheck.c (mailcheck_properties): cast
	property_window to GTK_WINDOW.

Wed Jan 21 00:41:27 1998  Federico Mena <federico@bananoid.nuclecu.unam.mx>

	Based on patch from Raja R. Harinath <harinath@cs.umn.edu>
	* batmon/batmon.c (batmon_timeout_callback): Use non-surprising
	values for non-Linux m/cs.

Tue Jan 20 17:39:25 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* menu/main.c: for now set the absolute size of the menu button.

	* mailcheck/mailcheck.c: Provide a propery configurator that
	allows setting the animation file.
	(mailcheck_load_animation): use this to load new animations.
	(create_mail_widgets): create both the drawing area and the label
	always, and put them inside an hbox.
	(mailcheck_get_animation_menu): create a menu filled with the
	possible animation file names.
	(load_new_pixmap_callback): configure the user settings and save
	the configuration for this applet. 
	(mailcheck_notification_frame): create the notification
	configuration menu. 

	* mailcheck/email-e.xpm: Put back this animation. 

Tue Jan 20 01:13:34 1998  George Lebl  <jirka@5z.com>

	* mailcheck/email.xpm: replaced the old xpm with a newer one from
	  tigert which looks better

Sun Jan 18 11:17:27 1998  Tom Tromey  <tromey@cygnus.com>

	* applet_files.c (init_applet_file): Made `error' const.
	(get_dl_func): Likewise.

Sun Jan 18 18:46:28 1998  George Lebl  <jirka@5z.com>

	* mailcheck/mailcheck.c: now actually captures the expose event
	  and redraws itself

	* panel_cmds.h,panel.c: added a change size notify command, the
	  applets should send this when they change their size so the
	  panel can correct their geometry

	* panel.c: made a panel menu pop up when the right button is
	  pressed on the panel

	* applet_files.c: hopefully fixed a warning

Sun Jan 18 05:07:42 1998  George Lebl  <jirka@5z.com>

	* panel.c: cursor is now an arrow (it was a bug that it was not)
	  and when window is compeltely obscured it now raises itself

Sun Jan 18 01:59:25 1998  George Lebl  <jirka@5z.com>

	* panel_config.c: gettexted ...

	* launcher/launcher.c: made the config and apply/close type fo
	  dialog, instead of ok/cancel

	* menu/main.c: added configuration, done some restructuring, small
	  icons can now be turn on or off

Sat Jan 17 03:11:40 1998  George Lebl  <jirka@5z.com>

	* menu/main.c: now uses a single button instead the old vbox bit,
	  and uses the above xpms

	* panel_config.c: fixed a mistake I caused earier

Sat Jan 17 02:15:08 1998  George Lebl  <jirka@5z.com>

	* launcher/launcher.c: a bit of restructuring, now properties can
	  be changed, stuff will be updated in real time and the dialog
	  isn't modal

Fri Jan 16 22:07:24 1998  George Lebl  <jirka@5z.com>

	* panel.c: made "stays put" as the default mode as it's less
	  confusing for new users and old users can just set the
	  preferences

	* panel.c,panel.h,panel_config.c: Tooltips now configurable

Fri Jan 16 20:36:39 1998  George Lebl  <jirka@5z.com>

	* programs/panel/menu/main.c: menu now takes screen size
	  into account. took out the tooltip on this thing since
	  interfered with the menu

Fri Jan 16 19:05:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: reworked the geometry stuff once more

	* main.c: now again default right justifying of the mail applet
	  works again. (though setting the x to 9999)

	* panel.c,panel_cmds.h: set up applet tooltips, added one more
	  command for this

	* launcher/launcher.c,menu/main.c,logout/logout.c: added the
	  tooltips for these

Fri Jan 16 16:48:22 EST 1998  Nathan Bryant <nbryan71@maine.edu>

	* panel.c: added exit() to panel_quit(). Fixes SEGV when we try to
	  return into a nonexistent code page from an applet that has been
	  dlclose()'d.

Fri Jan 16 03:57:27 1998  George Lebl  <jirka@5z.com>

	* panel.c: slightly optimized the geometry routines though I don't
	  get why it does slightly improve performance, but hey it works
	  ....

Fri Jan 16 03:17:15 1998  George Lebl  <jirka@5z.com>

	* logout/logout.c: using term-night xpm for this button

	* launcher/launcher.c: using the opaque icons and
	  gnome-unknown.xpm instead of the wheel

Fri Jan 16 01:45:30 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: there will allways be one menu,
	  (last one can't get deleted) and moving from the menu now works

Thu Jan 15 21:54:31 1998  George Lebl  <jirka@5z.com>

	* panel.c,applet_cmds.h,menu/main.c,... applet .c files: added
	  orientation change notify command.  fixed several bugs in
	  panel_reconfigure, and menu now takes the orientation into
	  account, so it's uasable in all orientations
	  
Thu Jan 15 01:49:50 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: the config file stuff revised, can now load
	  launcher applets

Wed Jan 14 21:46:59 1998  George Lebl  <jirka@5z.com>

	* panel.c: changed the way free spots are found yet once more,
	  this should be a faster and better way

Wed Jan 14 17:11:16 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: default applets loaded all from,
	  left. Configuration now saved. Lot of geometry fixes

Wed Jan 14 14:53:56 1998  George Lebl  <jirka@5z.com>

	* panel.c: better geometry when swicthing from to horizontal and
	  back. width of bar is now dynamicly allocated during positioning

Wed Jan 14 13:58:17 1998  George Lebl  <jirka@5z.com>

	* panel.c: added pixmaps to the hide buttons

Mon Jan 12 21:37:26 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* mailcheck/mailcheck.c (mail_destroy): Two bug fixes (proper
	destruction of the mail widget and proper use of the mailcheck
	code).

Tue Jan 13 19:17:28 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the fixed is now inside a table widget, this makes
	  it easy to "reconfigure" it on the fly, and such a function
	  exists, though untested

Tue Jan 13 16:14:13 1998  George Lebl  <jirka@5z.com>

	* panel.c,main.c: reversed x and y loading for vertical panel. the
	  initial loading is done through a "stack" so applets are added
	  in the right order it seems.

Tue Jan 13 15:41:01 1998  George Lebl  <jirka@5z.com>

	* panel.c: will now handle all four positions for the geometry
	  stuff, and the panel will have no hide button if in "autohide"
	  mode

Tue Jan 13 01:21:20 1998  George Lebl  <jirka@5z.com>

	* panel.c: put the free place finding in one routine and now it
	  will handle the geometry at strtup correctly (more or less),
	  also I added an "autoraise" which helps it keep it on top

Mon Jan 12 22:28:40 1998  George Lebl  <jirka@5z.com>

	* panel.[ch]: the "colision avoidance" of applets now works, even
	  when adding new applets to the panel. There is now a hide button
	  just like on other such panels in other desktops, and the
	  default behaviour changed from autohide to this

Mon Jan 12 19:43:08 1998  George Lebl  <jirka@5z.com>

	* panel.c: fixed the code to check for widgets in the way

Mon Jan 12 18:54:07 1998  George Lebl  <jirka@5z.com>

	* panel.c: implemented applet positioning so they don't
	  overlap. doesn't use the existing code for that and doesn't work
	  too great (yet) :)

Mon Jan 12 20:20:42 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* netwatch/netwatch.c (get_interface_path): Do not access
	new_devpath if nothing was added.

Fri Jan  9 11:32:48 1998  Micah Stetson  <cnm@tco.net>

	* batmon/*.xpm: Changed the pixmaps for the battery monitor.

Fri Jan  2 14:53:14 1998  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* netwatch/netwatch.c (create_netwatch): Added parentheses around
	assignment used as truth value.

	* batmon/batmon.c (destroy_module): Replaced
	gtk_tooltips_destroy() by gtk_tooltips_unref().

	* mailcheck/mailcheck.c (next_frame): Make the timeout handler
	return TRUE.
	
Wed Dec 17 22:22:27 1997  Tom Tromey  <tromey@cygnus.com>

	* panel.c (panel_session_save): New function.
	(panel_quit): Use session management commands when appropriate.

	* applet_files.c (get_dl_func): Print function name in error message.
	* main.c (init_session_management): New function.
	(main): Call it.
	* Makefile.am (SUBDIRS): Include logout directory.
	* logout/Makefile.am: New file.
	* logout/logout.c: New file.

Wed Dec 10 17:46:07 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (MYLIBS): Added x_libs.

Mon Dec  1 11:36:30 1997  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (EXTRA_DIST): Include panelrc.in.

	* Makefile.am (data_DATA): Renamed.
	(panelrc): New target.
	(MOSTLYCLEANFILES): New macro.
	(EXTRA_DIST): Removed.
	(install-data-local): Removed.

Mon Nov 10 15:52:37 1997  Tom Tromey  <tromey@cygnus.com>

	* mailcheck/mailcheck.c (mail_check_timeout): Use gettext to look
	up messages.

Tue Oct 28 17:02:57 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* clock/clock.c: Fixed creation of instances.  Made clock creation
	more generic.  It should now be easy to create new clock styles.

	* panel.c (save_applet_configuration): The panel was not
	incrementing the unique numeric key correctly.

Mon Oct 27 18:55:46 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* menu/main.c (add_applet_to_panel): Now the menu can add applets
	to the panel.

Thu Oct  9 20:54:55 1997  Federico Mena  <federico@bananoid.nuclecu.unam.mx>

	* panel.c: Lots of bug fixes and new features.  Can now save
	configuration properly, add new applets to the panel, etc.

